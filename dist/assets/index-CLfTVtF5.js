function uk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(n,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var g9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Af={exports:{}},Zs={},Of={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux;function dk(){if(Ux)return Ee;Ux=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=g&&_[g]||_["@@iterator"],typeof _=="function"?_:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function y(_,B,ge){this.props=_,this.context=B,this.refs=w,this.updater=ge||j}y.prototype.isReactComponent={},y.prototype.setState=function(_,B){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,B,"setState")},y.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function P(){}P.prototype=y.prototype;function C(_,B,ge){this.props=_,this.context=B,this.refs=w,this.updater=ge||j}var E=C.prototype=new P;E.constructor=C,b(E,y.prototype),E.isPureReactComponent=!0;var k=Array.isArray,O=Object.prototype.hasOwnProperty,M={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function K(_,B,ge){var ce,de={},Ae=null,$e=null;if(B!=null)for(ce in B.ref!==void 0&&($e=B.ref),B.key!==void 0&&(Ae=""+B.key),B)O.call(B,ce)&&!I.hasOwnProperty(ce)&&(de[ce]=B[ce]);var Te=arguments.length-2;if(Te===1)de.children=ge;else if(1<Te){for(var se=Array(Te),ye=0;ye<Te;ye++)se[ye]=arguments[ye+2];de.children=se}if(_&&_.defaultProps)for(ce in Te=_.defaultProps,Te)de[ce]===void 0&&(de[ce]=Te[ce]);return{$$typeof:e,type:_,key:Ae,ref:$e,props:de,_owner:M.current}}function V(_,B){return{$$typeof:e,type:_.type,key:B,ref:_.ref,props:_.props,_owner:_._owner}}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function z(_){var B={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ge){return B[ge]})}var X=/\/+/g;function Q(_,B){return typeof _=="object"&&_!==null&&_.key!=null?z(""+_.key):B.toString(36)}function R(_,B,ge,ce,de){var Ae=typeof _;(Ae==="undefined"||Ae==="boolean")&&(_=null);var $e=!1;if(_===null)$e=!0;else switch(Ae){case"string":case"number":$e=!0;break;case"object":switch(_.$$typeof){case e:case t:$e=!0}}if($e)return $e=_,de=de($e),_=ce===""?"."+Q($e,0):ce,k(de)?(ge="",_!=null&&(ge=_.replace(X,"$&/")+"/"),R(de,B,ge,"",function(ye){return ye})):de!=null&&(L(de)&&(de=V(de,ge+(!de.key||$e&&$e.key===de.key?"":(""+de.key).replace(X,"$&/")+"/")+_)),B.push(de)),1;if($e=0,ce=ce===""?".":ce+":",k(_))for(var Te=0;Te<_.length;Te++){Ae=_[Te];var se=ce+Q(Ae,Te);$e+=R(Ae,B,ge,se,de)}else if(se=v(_),typeof se=="function")for(_=se.call(_),Te=0;!(Ae=_.next()).done;)Ae=Ae.value,se=ce+Q(Ae,Te++),$e+=R(Ae,B,ge,se,de);else if(Ae==="object")throw B=String(_),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return $e}function Z(_,B,ge){if(_==null)return _;var ce=[],de=0;return R(_,ce,"","",function(Ae){return B.call(ge,Ae,de++)}),ce}function le(_){if(_._status===-1){var B=_._result;B=B(),B.then(function(ge){(_._status===0||_._status===-1)&&(_._status=1,_._result=ge)},function(ge){(_._status===0||_._status===-1)&&(_._status=2,_._result=ge)}),_._status===-1&&(_._status=0,_._result=B)}if(_._status===1)return _._result.default;throw _._result}var ie={current:null},J={transition:null},F={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:J,ReactCurrentOwner:M};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:Z,forEach:function(_,B,ge){Z(_,function(){B.apply(this,arguments)},ge)},count:function(_){var B=0;return Z(_,function(){B++}),B},toArray:function(_){return Z(_,function(B){return B})||[]},only:function(_){if(!L(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ee.Component=y,Ee.Fragment=r,Ee.Profiler=s,Ee.PureComponent=C,Ee.StrictMode=n,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Ee.act=ee,Ee.cloneElement=function(_,B,ge){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ce=b({},_.props),de=_.key,Ae=_.ref,$e=_._owner;if(B!=null){if(B.ref!==void 0&&(Ae=B.ref,$e=M.current),B.key!==void 0&&(de=""+B.key),_.type&&_.type.defaultProps)var Te=_.type.defaultProps;for(se in B)O.call(B,se)&&!I.hasOwnProperty(se)&&(ce[se]=B[se]===void 0&&Te!==void 0?Te[se]:B[se])}var se=arguments.length-2;if(se===1)ce.children=ge;else if(1<se){Te=Array(se);for(var ye=0;ye<se;ye++)Te[ye]=arguments[ye+2];ce.children=Te}return{$$typeof:e,type:_.type,key:de,ref:Ae,props:ce,_owner:$e}},Ee.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:l,_context:_},_.Consumer=_},Ee.createElement=K,Ee.createFactory=function(_){var B=K.bind(null,_);return B.type=_,B},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(_){return{$$typeof:d,render:_}},Ee.isValidElement=L,Ee.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:le}},Ee.memo=function(_,B){return{$$typeof:m,type:_,compare:B===void 0?null:B}},Ee.startTransition=function(_){var B=J.transition;J.transition={};try{_()}finally{J.transition=B}},Ee.unstable_act=ee,Ee.useCallback=function(_,B){return ie.current.useCallback(_,B)},Ee.useContext=function(_){return ie.current.useContext(_)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(_){return ie.current.useDeferredValue(_)},Ee.useEffect=function(_,B){return ie.current.useEffect(_,B)},Ee.useId=function(){return ie.current.useId()},Ee.useImperativeHandle=function(_,B,ge){return ie.current.useImperativeHandle(_,B,ge)},Ee.useInsertionEffect=function(_,B){return ie.current.useInsertionEffect(_,B)},Ee.useLayoutEffect=function(_,B){return ie.current.useLayoutEffect(_,B)},Ee.useMemo=function(_,B){return ie.current.useMemo(_,B)},Ee.useReducer=function(_,B,ge){return ie.current.useReducer(_,B,ge)},Ee.useRef=function(_){return ie.current.useRef(_)},Ee.useState=function(_){return ie.current.useState(_)},Ee.useSyncExternalStore=function(_,B,ge){return ie.current.useSyncExternalStore(_,B,ge)},Ee.useTransition=function(){return ie.current.useTransition()},Ee.version="18.3.1",Ee}var qx;function es(){return qx||(qx=1,Of.exports=dk()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function fk(){if(Wx)return Zs;Wx=1;var e=es(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var h,g={},v=null,j=null;m!==void 0&&(v=""+m),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(j=f.ref);for(h in f)n.call(f,h)&&!l.hasOwnProperty(h)&&(g[h]=f[h]);if(d&&d.defaultProps)for(h in f=d.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:t,type:d,key:v,ref:j,props:g,_owner:s.current}}return Zs.Fragment=r,Zs.jsx=c,Zs.jsxs=c,Zs}var Kx;function mk(){return Kx||(Kx=1,Af.exports=fk()),Af.exports}var i=mk(),S=es();const gh=Pn(S),hk=uk({__proto__:null,default:gh},[S]);var Zl={},Mf={exports:{}},er={},Tf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function pk(){return Vx||(Vx=1,(function(e){function t(J,F){var ee=J.length;J.push(F);e:for(;0<ee;){var _=ee-1>>>1,B=J[_];if(0<s(B,F))J[_]=F,J[ee]=B,ee=_;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var F=J[0],ee=J.pop();if(ee!==F){J[0]=ee;e:for(var _=0,B=J.length,ge=B>>>1;_<ge;){var ce=2*(_+1)-1,de=J[ce],Ae=ce+1,$e=J[Ae];if(0>s(de,ee))Ae<B&&0>s($e,de)?(J[_]=$e,J[Ae]=ee,_=Ae):(J[_]=de,J[ce]=ee,_=ce);else if(Ae<B&&0>s($e,ee))J[_]=$e,J[Ae]=ee,_=Ae;else break e}}return F}function s(J,F){var ee=J.sortIndex-F.sortIndex;return ee!==0?ee:J.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,v=3,j=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(J){for(var F=r(m);F!==null;){if(F.callback===null)n(m);else if(F.startTime<=J)n(m),F.sortIndex=F.expirationTime,t(f,F);else break;F=r(m)}}function k(J){if(w=!1,E(J),!b)if(r(f)!==null)b=!0,le(O);else{var F=r(m);F!==null&&ie(k,F.startTime-J)}}function O(J,F){b=!1,w&&(w=!1,P(K),K=-1),j=!0;var ee=v;try{for(E(F),g=r(f);g!==null&&(!(g.expirationTime>F)||J&&!z());){var _=g.callback;if(typeof _=="function"){g.callback=null,v=g.priorityLevel;var B=_(g.expirationTime<=F);F=e.unstable_now(),typeof B=="function"?g.callback=B:g===r(f)&&n(f),E(F)}else n(f);g=r(f)}if(g!==null)var ge=!0;else{var ce=r(m);ce!==null&&ie(k,ce.startTime-F),ge=!1}return ge}finally{g=null,v=ee,j=!1}}var M=!1,I=null,K=-1,V=5,L=-1;function z(){return!(e.unstable_now()-L<V)}function X(){if(I!==null){var J=e.unstable_now();L=J;var F=!0;try{F=I(!0,J)}finally{F?Q():(M=!1,I=null)}}else M=!1}var Q;if(typeof C=="function")Q=function(){C(X)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Z=R.port2;R.port1.onmessage=X,Q=function(){Z.postMessage(null)}}else Q=function(){y(X,0)};function le(J){I=J,M||(M=!0,Q())}function ie(J,F){K=y(function(){J(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,le(O))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(J){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var ee=v;v=F;try{return J()}finally{v=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,F){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=v;v=J;try{return F()}finally{v=ee}},e.unstable_scheduleCallback=function(J,F,ee){var _=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?_+ee:_):ee=_,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,J={id:h++,callback:F,priorityLevel:J,startTime:ee,expirationTime:B,sortIndex:-1},ee>_?(J.sortIndex=ee,t(m,J),r(f)===null&&J===r(m)&&(w?(P(K),K=-1):w=!0,ie(k,ee-_))):(J.sortIndex=B,t(f,J),b||j||(b=!0,le(O))),J},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(J){var F=v;return function(){var ee=v;v=F;try{return J.apply(this,arguments)}finally{v=ee}}}})(_f)),_f}var Hx;function gk(){return Hx||(Hx=1,Tf.exports=pk()),Tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function vk(){if(Yx)return er;Yx=1;var e=es(),t=gk();function r(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function l(a,o){c(a,o),c(a+"Capture",o)}function c(a,o){for(s[a]=o,a=0;a<o.length;a++)n.add(o[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(a){return f.call(g,a)?!0:f.call(h,a)?!1:m.test(a)?g[a]=!0:(h[a]=!0,!1)}function j(a,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,o,u,p){if(o===null||typeof o>"u"||j(a,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(a,o,u,p,x,N,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=a,this.type=o,this.sanitizeURL=N,this.removeEmptyString=A}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){y[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];y[o]=new w(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){y[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){y[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){y[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){y[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){y[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){y[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){y[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(P,C);y[o]=new w(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(P,C);y[o]=new w(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(P,C);y[o]=new w(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){y[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){y[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,o,u,p){var x=y.hasOwnProperty(o)?y[o]:null;(x!==null?x.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,x,p)&&(u=null),p||x===null?v(o)&&(u===null?a.removeAttribute(o):a.setAttribute(o,""+u)):x.mustUseProperty?a[x.propertyName]=u===null?x.type===3?!1:"":u:(o=x.attributeName,p=x.attributeNamespace,u===null?a.removeAttribute(o):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,p?a.setAttributeNS(p,o,u):a.setAttribute(o,u))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),M=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),J=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,_;function B(a){if(_===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);_=o&&o[1]||""}return`
`+_+a}var ge=!1;function ce(a,o){if(!a||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var p=H}Reflect.construct(a,[],o)}else{try{o.call()}catch(H){p=H}a.call(o.prototype)}else{try{throw Error()}catch(H){p=H}a()}}catch(H){if(H&&p&&typeof H.stack=="string"){for(var x=H.stack.split(`
`),N=p.stack.split(`
`),A=x.length-1,T=N.length-1;1<=A&&0<=T&&x[A]!==N[T];)T--;for(;1<=A&&0<=T;A--,T--)if(x[A]!==N[T]){if(A!==1||T!==1)do if(A--,T--,0>T||x[A]!==N[T]){var D=`
`+x[A].replace(" at new "," at ");return a.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",a.displayName)),D}while(1<=A&&0<=T);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?B(a):""}function de(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=ce(a.type,!1),a;case 11:return a=ce(a.type.render,!1),a;case 1:return a=ce(a.type,!0),a;default:return""}}function Ae(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case M:return"Portal";case V:return"Profiler";case K:return"StrictMode";case Q:return"Suspense";case R:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case z:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case X:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return o=a.displayName||null,o!==null?o:Ae(a.type)||"Memo";case le:o=a._payload,a=a._init;try{return Ae(a(o))}catch{}}return null}function $e(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function se(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ye(a){var o=se(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,N=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return x.call(this)},set:function(A){p=""+A,N.call(this,A)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ce(a){a._valueTracker||(a._valueTracker=ye(a))}function ne(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=se(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function st(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _e(a,o){var u=o.checked;return ee({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function Nt(a,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Te(o.value!=null?o.value:u),a._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function rt(a,o){o=o.checked,o!=null&&E(a,"checked",o,!1)}function gt(a,o){rt(a,o);var u=Te(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?hs(a,o.type,u):o.hasOwnProperty("defaultValue")&&hs(a,o.type,Te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function On(a,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,u||o===a.value||(a.value=o),a.defaultValue=o}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function hs(a,o,u){(o!=="number"||st(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var Mn=Array.isArray;function Tn(a,o,u,p){if(a=a.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<a.length;u++)x=o.hasOwnProperty("$"+a[u].value),a[u].selected!==x&&(a[u].selected=x),x&&p&&(a[u].defaultSelected=!0)}else{for(u=""+Te(u),o=null,x=0;x<a.length;x++){if(a[x].value===u){a[x].selected=!0,p&&(a[x].defaultSelected=!0);return}o!==null||a[x].disabled||(o=a[x])}o!==null&&(o.selected=!0)}}function q(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function fe(a,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(r(92));if(Mn(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),u=o}a._wrapperState={initialValue:Te(u)}}function Me(a,o){var u=Te(o.value),p=Te(o.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),o.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),p!=null&&(a.defaultValue=""+p)}function Oe(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function We(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?We(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var _n,In=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,x){MSApp.execUnsafeLocalFunction(function(){return a(o,u,p,x)})}:a})(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(_n=_n||document.createElement("div"),_n.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=_n.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function nn(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hC=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(a){hC.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),ps[o]=ps[a]})});function nv(a,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ps.hasOwnProperty(a)&&ps[a]?(""+o).trim():o+"px"}function av(a,o){a=a.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,x=nv(u,o[u],p);u==="float"&&(u="cssFloat"),p?a.setProperty(u,x):a[u]=x}}var pC=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(a,o){if(o){if(pC[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Bu(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function qu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Wu=null,li=null,ci=null;function iv(a){if(a=Ls(a)){if(typeof Wu!="function")throw Error(r(280));var o=a.stateNode;o&&(o=ml(o),Wu(a.stateNode,a.type,o))}}function sv(a){li?ci?ci.push(a):ci=[a]:li=a}function ov(){if(li){var a=li,o=ci;if(ci=li=null,iv(a),o)for(a=0;a<o.length;a++)iv(o[a])}}function lv(a,o){return a(o)}function cv(){}var Ku=!1;function uv(a,o,u){if(Ku)return a(o,u);Ku=!0;try{return lv(a,o,u)}finally{Ku=!1,(li!==null||ci!==null)&&(cv(),ov())}}function gs(a,o){var u=a.stateNode;if(u===null)return null;var p=ml(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Vu=!1;if(d)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Vu=!1}function gC(a,o,u,p,x,N,A,T,D){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(re){this.onError(re)}}var xs=!1,Ko=null,Vo=!1,Hu=null,vC={onError:function(a){xs=!0,Ko=a}};function xC(a,o,u,p,x,N,A,T,D){xs=!1,Ko=null,gC.apply(vC,arguments)}function yC(a,o,u,p,x,N,A,T,D){if(xC.apply(this,arguments),xs){if(xs){var H=Ko;xs=!1,Ko=null}else throw Error(r(198));Vo||(Vo=!0,Hu=H)}}function wa(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function dv(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function fv(a){if(wa(a)!==a)throw Error(r(188))}function bC(a){var o=a.alternate;if(!o){if(o=wa(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,p=o;;){var x=u.return;if(x===null)break;var N=x.alternate;if(N===null){if(p=x.return,p!==null){u=p;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===u)return fv(x),a;if(N===p)return fv(x),o;N=N.sibling}throw Error(r(188))}if(u.return!==p.return)u=x,p=N;else{for(var A=!1,T=x.child;T;){if(T===u){A=!0,u=x,p=N;break}if(T===p){A=!0,p=x,u=N;break}T=T.sibling}if(!A){for(T=N.child;T;){if(T===u){A=!0,u=N,p=x;break}if(T===p){A=!0,p=N,u=x;break}T=T.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function mv(a){return a=bC(a),a!==null?hv(a):null}function hv(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=hv(a);if(o!==null)return o;a=a.sibling}return null}var pv=t.unstable_scheduleCallback,gv=t.unstable_cancelCallback,wC=t.unstable_shouldYield,jC=t.unstable_requestPaint,ot=t.unstable_now,NC=t.unstable_getCurrentPriorityLevel,Yu=t.unstable_ImmediatePriority,vv=t.unstable_UserBlockingPriority,Ho=t.unstable_NormalPriority,SC=t.unstable_LowPriority,xv=t.unstable_IdlePriority,Yo=null,Kr=null;function PC(a){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Yo,a,void 0,(a.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:kC,CC=Math.log,EC=Math.LN2;function kC(a){return a>>>=0,a===0?32:31-(CC(a)/EC|0)|0}var Go=64,Xo=4194304;function ys(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qo(a,o){var u=a.pendingLanes;if(u===0)return 0;var p=0,x=a.suspendedLanes,N=a.pingedLanes,A=u&268435455;if(A!==0){var T=A&~x;T!==0?p=ys(T):(N&=A,N!==0&&(p=ys(N)))}else A=u&~x,A!==0?p=ys(A):N!==0&&(p=ys(N));if(p===0)return 0;if(o!==0&&o!==p&&(o&x)===0&&(x=p&-p,N=o&-o,x>=N||x===16&&(N&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)u=31-Ir(o),x=1<<u,p|=a[u],o&=~x;return p}function AC(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OC(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,x=a.expirationTimes,N=a.pendingLanes;0<N;){var A=31-Ir(N),T=1<<A,D=x[A];D===-1?((T&u)===0||(T&p)!==0)&&(x[A]=AC(T,o)):D<=o&&(a.expiredLanes|=T),N&=~T}}function Gu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yv(){var a=Go;return Go<<=1,(Go&4194240)===0&&(Go=64),a}function Xu(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function bs(a,o,u){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Ir(o),a[o]=u}function MC(a,o){var u=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<u;){var x=31-Ir(u),N=1<<x;o[x]=0,p[x]=-1,a[x]=-1,u&=~N}}function Qu(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-Ir(u),x=1<<p;x&o|a[p]&o&&(a[p]|=o),u&=~x}}var Fe=0;function bv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var wv,Zu,jv,Nv,Sv,Ju=!1,Zo=[],Dn=null,Rn=null,Ln=null,ws=new Map,js=new Map,$n=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pv(a,o){switch(a){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":ws.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(o.pointerId)}}function Ns(a,o,u,p,x,N){return a===null||a.nativeEvent!==N?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[x]},o!==null&&(o=Ls(o),o!==null&&Zu(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),a)}function _C(a,o,u,p,x){switch(o){case"focusin":return Dn=Ns(Dn,a,o,u,p,x),!0;case"dragenter":return Rn=Ns(Rn,a,o,u,p,x),!0;case"mouseover":return Ln=Ns(Ln,a,o,u,p,x),!0;case"pointerover":var N=x.pointerId;return ws.set(N,Ns(ws.get(N)||null,a,o,u,p,x)),!0;case"gotpointercapture":return N=x.pointerId,js.set(N,Ns(js.get(N)||null,a,o,u,p,x)),!0}return!1}function Cv(a){var o=ja(a.target);if(o!==null){var u=wa(o);if(u!==null){if(o=u.tag,o===13){if(o=dv(u),o!==null){a.blockedOn=o,Sv(a.priority,function(){jv(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Jo(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=td(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Uu=p,u.target.dispatchEvent(p),Uu=null}else return o=Ls(u),o!==null&&Zu(o),a.blockedOn=u,!1;o.shift()}return!0}function Ev(a,o,u){Jo(a)&&u.delete(o)}function IC(){Ju=!1,Dn!==null&&Jo(Dn)&&(Dn=null),Rn!==null&&Jo(Rn)&&(Rn=null),Ln!==null&&Jo(Ln)&&(Ln=null),ws.forEach(Ev),js.forEach(Ev)}function Ss(a,o){a.blockedOn===o&&(a.blockedOn=null,Ju||(Ju=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,IC)))}function Ps(a){function o(x){return Ss(x,a)}if(0<Zo.length){Ss(Zo[0],a);for(var u=1;u<Zo.length;u++){var p=Zo[u];p.blockedOn===a&&(p.blockedOn=null)}}for(Dn!==null&&Ss(Dn,a),Rn!==null&&Ss(Rn,a),Ln!==null&&Ss(Ln,a),ws.forEach(o),js.forEach(o),u=0;u<$n.length;u++)p=$n[u],p.blockedOn===a&&(p.blockedOn=null);for(;0<$n.length&&(u=$n[0],u.blockedOn===null);)Cv(u),u.blockedOn===null&&$n.shift()}var ui=k.ReactCurrentBatchConfig,el=!0;function DC(a,o,u,p){var x=Fe,N=ui.transition;ui.transition=null;try{Fe=1,ed(a,o,u,p)}finally{Fe=x,ui.transition=N}}function RC(a,o,u,p){var x=Fe,N=ui.transition;ui.transition=null;try{Fe=4,ed(a,o,u,p)}finally{Fe=x,ui.transition=N}}function ed(a,o,u,p){if(el){var x=td(a,o,u,p);if(x===null)xd(a,o,p,tl,u),Pv(a,p);else if(_C(x,a,o,u,p))p.stopPropagation();else if(Pv(a,p),o&4&&-1<TC.indexOf(a)){for(;x!==null;){var N=Ls(x);if(N!==null&&wv(N),N=td(a,o,u,p),N===null&&xd(a,o,p,tl,u),N===x)break;x=N}x!==null&&p.stopPropagation()}else xd(a,o,p,null,u)}}var tl=null;function td(a,o,u,p){if(tl=null,a=qu(p),a=ja(a),a!==null)if(o=wa(a),o===null)a=null;else if(u=o.tag,u===13){if(a=dv(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return tl=a,null}function kv(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NC()){case Yu:return 1;case vv:return 4;case Ho:case SC:return 16;case xv:return 536870912;default:return 16}default:return 16}}var Fn=null,rd=null,rl=null;function Av(){if(rl)return rl;var a,o=rd,u=o.length,p,x="value"in Fn?Fn.value:Fn.textContent,N=x.length;for(a=0;a<u&&o[a]===x[a];a++);var A=u-a;for(p=1;p<=A&&o[u-p]===x[N-p];p++);return rl=x.slice(a,1<p?1-p:void 0)}function nl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function al(){return!0}function Ov(){return!1}function ar(a){function o(u,p,x,N,A){this._reactName=u,this._targetInst=x,this.type=p,this.nativeEvent=N,this.target=A,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(u=a[T],this[T]=u?u(N):N[T]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?al:Ov,this.isPropagationStopped=Ov,this}return ee(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),o}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=ar(di),Cs=ee({},di,{view:0,detail:0}),LC=ar(Cs),ad,id,Es,il=ee({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Es&&(Es&&a.type==="mousemove"?(ad=a.screenX-Es.screenX,id=a.screenY-Es.screenY):id=ad=0,Es=a),ad)},movementY:function(a){return"movementY"in a?a.movementY:id}}),Mv=ar(il),$C=ee({},il,{dataTransfer:0}),FC=ar($C),zC=ee({},Cs,{relatedTarget:0}),sd=ar(zC),BC=ee({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),UC=ar(BC),qC=ee({},di,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),WC=ar(qC),KC=ee({},di,{data:0}),Tv=ar(KC),VC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=YC[a])?!!o[a]:!1}function od(){return GC}var XC=ee({},Cs,{key:function(a){if(a.key){var o=VC[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=nl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?HC[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(a){return a.type==="keypress"?nl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?nl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),QC=ar(XC),ZC=ee({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=ar(ZC),JC=ee({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),eE=ar(JC),tE=ee({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),rE=ar(tE),nE=ee({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),aE=ar(nE),iE=[9,13,27,32],ld=d&&"CompositionEvent"in window,ks=null;d&&"documentMode"in document&&(ks=document.documentMode);var sE=d&&"TextEvent"in window&&!ks,Iv=d&&(!ld||ks&&8<ks&&11>=ks),Dv=" ",Rv=!1;function Lv(a,o){switch(a){case"keyup":return iE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $v(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var fi=!1;function oE(a,o){switch(a){case"compositionend":return $v(o);case"keypress":return o.which!==32?null:(Rv=!0,Dv);case"textInput":return a=o.data,a===Dv&&Rv?null:a;default:return null}}function lE(a,o){if(fi)return a==="compositionend"||!ld&&Lv(a,o)?(a=Av(),rl=rd=Fn=null,fi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Iv&&o.locale!=="ko"?null:o.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!cE[a.type]:o==="textarea"}function zv(a,o,u,p){sv(p),o=ul(o,"onChange"),0<o.length&&(u=new nd("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var As=null,Os=null;function uE(a){a0(a,0)}function sl(a){var o=vi(a);if(ne(o))return a}function dE(a,o){if(a==="change")return o}var Bv=!1;if(d){var cd;if(d){var ud="oninput"in document;if(!ud){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),ud=typeof Uv.oninput=="function"}cd=ud}else cd=!1;Bv=cd&&(!document.documentMode||9<document.documentMode)}function qv(){As&&(As.detachEvent("onpropertychange",Wv),Os=As=null)}function Wv(a){if(a.propertyName==="value"&&sl(Os)){var o=[];zv(o,Os,a,qu(a)),uv(uE,o)}}function fE(a,o,u){a==="focusin"?(qv(),As=o,Os=u,As.attachEvent("onpropertychange",Wv)):a==="focusout"&&qv()}function mE(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sl(Os)}function hE(a,o){if(a==="click")return sl(o)}function pE(a,o){if(a==="input"||a==="change")return sl(o)}function gE(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Dr=typeof Object.is=="function"?Object.is:gE;function Ms(a,o){if(Dr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var x=u[p];if(!f.call(o,x)||!Dr(a[x],o[x]))return!1}return!0}function Kv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Vv(a,o){var u=Kv(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Kv(u)}}function Hv(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Hv(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Yv(){for(var a=window,o=st();o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=st(a.document)}return o}function dd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function vE(a){var o=Yv(),u=a.focusedElem,p=a.selectionRange;if(o!==u&&u&&u.ownerDocument&&Hv(u.ownerDocument.documentElement,u)){if(p!==null&&dd(u)){if(o=p.start,a=p.end,a===void 0&&(a=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(a,u.value.length);else if(a=(o=u.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var x=u.textContent.length,N=Math.min(p.start,x);p=p.end===void 0?N:Math.min(p.end,x),!a.extend&&N>p&&(x=p,p=N,N=x),x=Vv(u,N);var A=Vv(u,p);x&&A&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),a.removeAllRanges(),N>p?(a.addRange(o),a.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),a.addRange(o)))}}for(o=[],a=u;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)a=o[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xE=d&&"documentMode"in document&&11>=document.documentMode,mi=null,fd=null,Ts=null,md=!1;function Gv(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;md||mi==null||mi!==st(p)||(p=mi,"selectionStart"in p&&dd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ts&&Ms(Ts,p)||(Ts=p,p=ul(fd,"onSelect"),0<p.length&&(o=new nd("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=mi)))}function ol(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var hi={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},hd={},Xv={};d&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function ll(a){if(hd[a])return hd[a];if(!hi[a])return a;var o=hi[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Xv)return hd[a]=o[u];return a}var Qv=ll("animationend"),Zv=ll("animationiteration"),Jv=ll("animationstart"),e0=ll("transitionend"),t0=new Map,r0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(a,o){t0.set(a,o),l(o,[a])}for(var pd=0;pd<r0.length;pd++){var gd=r0[pd],yE=gd.toLowerCase(),bE=gd[0].toUpperCase()+gd.slice(1);zn(yE,"on"+bE)}zn(Qv,"onAnimationEnd"),zn(Zv,"onAnimationIteration"),zn(Jv,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(e0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function n0(a,o,u){var p=a.type||"unknown-event";a.currentTarget=u,yC(p,o,void 0,a),a.currentTarget=null}function a0(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],x=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var A=p.length-1;0<=A;A--){var T=p[A],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==N&&x.isPropagationStopped())break e;n0(x,T,H),N=D}else for(A=0;A<p.length;A++){if(T=p[A],D=T.instance,H=T.currentTarget,T=T.listener,D!==N&&x.isPropagationStopped())break e;n0(x,T,H),N=D}}}if(Vo)throw a=Hu,Vo=!1,Hu=null,a}function Ye(a,o){var u=o[Sd];u===void 0&&(u=o[Sd]=new Set);var p=a+"__bubble";u.has(p)||(i0(o,a,2,!1),u.add(p))}function vd(a,o,u){var p=0;o&&(p|=4),i0(u,a,p,o)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Is(a){if(!a[cl]){a[cl]=!0,n.forEach(function(u){u!=="selectionchange"&&(wE.has(u)||vd(u,!1,a),vd(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[cl]||(o[cl]=!0,vd("selectionchange",!1,o))}}function i0(a,o,u,p){switch(kv(o)){case 1:var x=DC;break;case 4:x=RC;break;default:x=ed}u=x.bind(null,o,u,a),x=void 0,!Vu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),p?x!==void 0?a.addEventListener(o,u,{capture:!0,passive:x}):a.addEventListener(o,u,!0):x!==void 0?a.addEventListener(o,u,{passive:x}):a.addEventListener(o,u,!1)}function xd(a,o,u,p,x){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var T=p.stateNode.containerInfo;if(T===x||T.nodeType===8&&T.parentNode===x)break;if(A===4)for(A=p.return;A!==null;){var D=A.tag;if((D===3||D===4)&&(D=A.stateNode.containerInfo,D===x||D.nodeType===8&&D.parentNode===x))return;A=A.return}for(;T!==null;){if(A=ja(T),A===null)return;if(D=A.tag,D===5||D===6){p=N=A;continue e}T=T.parentNode}}p=p.return}uv(function(){var H=N,re=qu(u),ae=[];e:{var te=t0.get(a);if(te!==void 0){var ue=nd,pe=a;switch(a){case"keypress":if(nl(u)===0)break e;case"keydown":case"keyup":ue=QC;break;case"focusin":pe="focus",ue=sd;break;case"focusout":pe="blur",ue=sd;break;case"beforeblur":case"afterblur":ue=sd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=FC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=eE;break;case Qv:case Zv:case Jv:ue=UC;break;case e0:ue=rE;break;case"scroll":ue=LC;break;case"wheel":ue=aE;break;case"copy":case"cut":case"paste":ue=WC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=_v}var ve=(o&4)!==0,lt=!ve&&a==="scroll",U=ve?te!==null?te+"Capture":null:te;ve=[];for(var $=H,W;$!==null;){W=$;var oe=W.stateNode;if(W.tag===5&&oe!==null&&(W=oe,U!==null&&(oe=gs($,U),oe!=null&&ve.push(Ds($,oe,W)))),lt)break;$=$.return}0<ve.length&&(te=new ue(te,pe,null,u,re),ae.push({event:te,listeners:ve}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",te&&u!==Uu&&(pe=u.relatedTarget||u.fromElement)&&(ja(pe)||pe[an]))break e;if((ue||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=H,pe=pe?ja(pe):null,pe!==null&&(lt=wa(pe),pe!==lt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=H),ue!==pe)){if(ve=Mv,oe="onMouseLeave",U="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(ve=_v,oe="onPointerLeave",U="onPointerEnter",$="pointer"),lt=ue==null?te:vi(ue),W=pe==null?te:vi(pe),te=new ve(oe,$+"leave",ue,u,re),te.target=lt,te.relatedTarget=W,oe=null,ja(re)===H&&(ve=new ve(U,$+"enter",pe,u,re),ve.target=W,ve.relatedTarget=lt,oe=ve),lt=oe,ue&&pe)t:{for(ve=ue,U=pe,$=0,W=ve;W;W=pi(W))$++;for(W=0,oe=U;oe;oe=pi(oe))W++;for(;0<$-W;)ve=pi(ve),$--;for(;0<W-$;)U=pi(U),W--;for(;$--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=pi(ve),U=pi(U)}ve=null}else ve=null;ue!==null&&s0(ae,te,ue,ve,!1),pe!==null&&lt!==null&&s0(ae,lt,pe,ve,!0)}}e:{if(te=H?vi(H):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var xe=dE;else if(Fv(te))if(Bv)xe=pE;else{xe=mE;var je=fE}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=hE);if(xe&&(xe=xe(a,H))){zv(ae,xe,u,re);break e}je&&je(a,te,H),a==="focusout"&&(je=te._wrapperState)&&je.controlled&&te.type==="number"&&hs(te,"number",te.value)}switch(je=H?vi(H):window,a){case"focusin":(Fv(je)||je.contentEditable==="true")&&(mi=je,fd=H,Ts=null);break;case"focusout":Ts=fd=mi=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Gv(ae,u,re);break;case"selectionchange":if(xE)break;case"keydown":case"keyup":Gv(ae,u,re)}var Ne;if(ld)e:{switch(a){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else fi?Lv(a,u)&&(Se="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(Iv&&u.locale!=="ko"&&(fi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&fi&&(Ne=Av()):(Fn=re,rd="value"in Fn?Fn.value:Fn.textContent,fi=!0)),je=ul(H,Se),0<je.length&&(Se=new Tv(Se,a,null,u,re),ae.push({event:Se,listeners:je}),Ne?Se.data=Ne:(Ne=$v(u),Ne!==null&&(Se.data=Ne)))),(Ne=sE?oE(a,u):lE(a,u))&&(H=ul(H,"onBeforeInput"),0<H.length&&(re=new Tv("onBeforeInput","beforeinput",null,u,re),ae.push({event:re,listeners:H}),re.data=Ne))}a0(ae,o)})}function Ds(a,o,u){return{instance:a,listener:o,currentTarget:u}}function ul(a,o){for(var u=o+"Capture",p=[];a!==null;){var x=a,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=gs(a,u),N!=null&&p.unshift(Ds(a,N,x)),N=gs(a,o),N!=null&&p.push(Ds(a,N,x))),a=a.return}return p}function pi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function s0(a,o,u,p,x){for(var N=o._reactName,A=[];u!==null&&u!==p;){var T=u,D=T.alternate,H=T.stateNode;if(D!==null&&D===p)break;T.tag===5&&H!==null&&(T=H,x?(D=gs(u,N),D!=null&&A.unshift(Ds(u,D,T))):x||(D=gs(u,N),D!=null&&A.push(Ds(u,D,T)))),u=u.return}A.length!==0&&a.push({event:o,listeners:A})}var jE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function o0(a){return(typeof a=="string"?a:""+a).replace(jE,`
`).replace(NE,"")}function dl(a,o,u){if(o=o0(o),o0(a)!==o&&u)throw Error(r(425))}function fl(){}var yd=null,bd=null;function wd(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(a){return l0.resolve(null).then(a).catch(CE)}:jd;function CE(a){setTimeout(function(){throw a})}function Nd(a,o){var u=o,p=0;do{var x=u.nextSibling;if(a.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(p===0){a.removeChild(x),Ps(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=x}while(u);Ps(o)}function Bn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function c0(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Vr="__reactFiber$"+gi,Rs="__reactProps$"+gi,an="__reactContainer$"+gi,Sd="__reactEvents$"+gi,EE="__reactListeners$"+gi,kE="__reactHandles$"+gi;function ja(a){var o=a[Vr];if(o)return o;for(var u=a.parentNode;u;){if(o=u[an]||u[Vr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=c0(a);a!==null;){if(u=a[Vr])return u;a=c0(a)}return o}a=u,u=a.parentNode}return null}function Ls(a){return a=a[Vr]||a[an],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function vi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function ml(a){return a[Rs]||null}var Pd=[],xi=-1;function Un(a){return{current:a}}function Ge(a){0>xi||(a.current=Pd[xi],Pd[xi]=null,xi--)}function Ve(a,o){xi++,Pd[xi]=a.current,a.current=o}var qn={},$t=Un(qn),Gt=Un(!1),Na=qn;function yi(a,o){var u=a.type.contextTypes;if(!u)return qn;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in u)x[N]=o[N];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=x),x}function Xt(a){return a=a.childContextTypes,a!=null}function hl(){Ge(Gt),Ge($t)}function u0(a,o,u){if($t.current!==qn)throw Error(r(168));Ve($t,o),Ve(Gt,u)}function d0(a,o,u){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var x in p)if(!(x in o))throw Error(r(108,$e(a)||"Unknown",x));return ee({},u,p)}function pl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||qn,Na=$t.current,Ve($t,a),Ve(Gt,Gt.current),!0}function f0(a,o,u){var p=a.stateNode;if(!p)throw Error(r(169));u?(a=d0(a,o,Na),p.__reactInternalMemoizedMergedChildContext=a,Ge(Gt),Ge($t),Ve($t,a)):Ge(Gt),Ve(Gt,u)}var sn=null,gl=!1,Cd=!1;function m0(a){sn===null?sn=[a]:sn.push(a)}function AE(a){gl=!0,m0(a)}function Wn(){if(!Cd&&sn!==null){Cd=!0;var a=0,o=Fe;try{var u=sn;for(Fe=1;a<u.length;a++){var p=u[a];do p=p(!0);while(p!==null)}sn=null,gl=!1}catch(x){throw sn!==null&&(sn=sn.slice(a+1)),pv(Yu,Wn),x}finally{Fe=o,Cd=!1}}return null}var bi=[],wi=0,vl=null,xl=0,vr=[],xr=0,Sa=null,on=1,ln="";function Pa(a,o){bi[wi++]=xl,bi[wi++]=vl,vl=a,xl=o}function h0(a,o,u){vr[xr++]=on,vr[xr++]=ln,vr[xr++]=Sa,Sa=a;var p=on;a=ln;var x=32-Ir(p)-1;p&=~(1<<x),u+=1;var N=32-Ir(o)+x;if(30<N){var A=x-x%5;N=(p&(1<<A)-1).toString(32),p>>=A,x-=A,on=1<<32-Ir(o)+x|u<<x|p,ln=N+a}else on=1<<N|u<<x|p,ln=a}function Ed(a){a.return!==null&&(Pa(a,1),h0(a,1,0))}function kd(a){for(;a===vl;)vl=bi[--wi],bi[wi]=null,xl=bi[--wi],bi[wi]=null;for(;a===Sa;)Sa=vr[--xr],vr[xr]=null,ln=vr[--xr],vr[xr]=null,on=vr[--xr],vr[xr]=null}var ir=null,sr=null,Qe=!1,Rr=null;function p0(a,o){var u=jr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=a,o=a.deletions,o===null?(a.deletions=[u],a.flags|=16):o.push(u)}function g0(a,o){switch(a.tag){case 5:var u=a.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,ir=a,sr=Bn(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,ir=a,sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Sa!==null?{id:on,overflow:ln}:null,a.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=jr(18,null,null,0),u.stateNode=o,u.return=a,a.child=u,ir=a,sr=null,!0):!1;default:return!1}}function Ad(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Od(a){if(Qe){var o=sr;if(o){var u=o;if(!g0(a,o)){if(Ad(a))throw Error(r(418));o=Bn(u.nextSibling);var p=ir;o&&g0(a,o)?p0(p,u):(a.flags=a.flags&-4097|2,Qe=!1,ir=a)}}else{if(Ad(a))throw Error(r(418));a.flags=a.flags&-4097|2,Qe=!1,ir=a}}}function v0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ir=a}function yl(a){if(a!==ir)return!1;if(!Qe)return v0(a),Qe=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!wd(a.type,a.memoizedProps)),o&&(o=sr)){if(Ad(a))throw x0(),Error(r(418));for(;o;)p0(a,o),o=Bn(o.nextSibling)}if(v0(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(o===0){sr=Bn(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}a=a.nextSibling}sr=null}}else sr=ir?Bn(a.stateNode.nextSibling):null;return!0}function x0(){for(var a=sr;a;)a=Bn(a.nextSibling)}function ji(){sr=ir=null,Qe=!1}function Md(a){Rr===null?Rr=[a]:Rr.push(a)}var OE=k.ReactCurrentBatchConfig;function $s(a,o,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var p=u.stateNode}if(!p)throw Error(r(147,a));var x=p,N=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(A){var T=x.refs;A===null?delete T[N]:T[N]=A},o._stringRef=N,o)}if(typeof a!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,a))}return a}function bl(a,o){throw a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function y0(a){var o=a._init;return o(a._payload)}function b0(a){function o(U,$){if(a){var W=U.deletions;W===null?(U.deletions=[$],U.flags|=16):W.push($)}}function u(U,$){if(!a)return null;for(;$!==null;)o(U,$),$=$.sibling;return null}function p(U,$){for(U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function x(U,$){return U=Zn(U,$),U.index=0,U.sibling=null,U}function N(U,$,W){return U.index=W,a?(W=U.alternate,W!==null?(W=W.index,W<$?(U.flags|=2,$):W):(U.flags|=2,$)):(U.flags|=1048576,$)}function A(U){return a&&U.alternate===null&&(U.flags|=2),U}function T(U,$,W,oe){return $===null||$.tag!==6?($=Nf(W,U.mode,oe),$.return=U,$):($=x($,W),$.return=U,$)}function D(U,$,W,oe){var xe=W.type;return xe===I?re(U,$,W.props.children,oe,W.key):$!==null&&($.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&y0(xe)===$.type)?(oe=x($,W.props),oe.ref=$s(U,$,W),oe.return=U,oe):(oe=Wl(W.type,W.key,W.props,null,U.mode,oe),oe.ref=$s(U,$,W),oe.return=U,oe)}function H(U,$,W,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Sf(W,U.mode,oe),$.return=U,$):($=x($,W.children||[]),$.return=U,$)}function re(U,$,W,oe,xe){return $===null||$.tag!==7?($=_a(W,U.mode,oe,xe),$.return=U,$):($=x($,W),$.return=U,$)}function ae(U,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Nf(""+$,U.mode,W),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return W=Wl($.type,$.key,$.props,null,U.mode,W),W.ref=$s(U,null,$),W.return=U,W;case M:return $=Sf($,U.mode,W),$.return=U,$;case le:var oe=$._init;return ae(U,oe($._payload),W)}if(Mn($)||F($))return $=_a($,U.mode,W,null),$.return=U,$;bl(U,$)}return null}function te(U,$,W,oe){var xe=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return xe!==null?null:T(U,$,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return W.key===xe?D(U,$,W,oe):null;case M:return W.key===xe?H(U,$,W,oe):null;case le:return xe=W._init,te(U,$,xe(W._payload),oe)}if(Mn(W)||F(W))return xe!==null?null:re(U,$,W,oe,null);bl(U,W)}return null}function ue(U,$,W,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return U=U.get(W)||null,T($,U,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return U=U.get(oe.key===null?W:oe.key)||null,D($,U,oe,xe);case M:return U=U.get(oe.key===null?W:oe.key)||null,H($,U,oe,xe);case le:var je=oe._init;return ue(U,$,W,je(oe._payload),xe)}if(Mn(oe)||F(oe))return U=U.get(W)||null,re($,U,oe,xe,null);bl($,oe)}return null}function pe(U,$,W,oe){for(var xe=null,je=null,Ne=$,Se=$=0,Ct=null;Ne!==null&&Se<W.length;Se++){Ne.index>Se?(Ct=Ne,Ne=null):Ct=Ne.sibling;var De=te(U,Ne,W[Se],oe);if(De===null){Ne===null&&(Ne=Ct);break}a&&Ne&&De.alternate===null&&o(U,Ne),$=N(De,$,Se),je===null?xe=De:je.sibling=De,je=De,Ne=Ct}if(Se===W.length)return u(U,Ne),Qe&&Pa(U,Se),xe;if(Ne===null){for(;Se<W.length;Se++)Ne=ae(U,W[Se],oe),Ne!==null&&($=N(Ne,$,Se),je===null?xe=Ne:je.sibling=Ne,je=Ne);return Qe&&Pa(U,Se),xe}for(Ne=p(U,Ne);Se<W.length;Se++)Ct=ue(Ne,U,Se,W[Se],oe),Ct!==null&&(a&&Ct.alternate!==null&&Ne.delete(Ct.key===null?Se:Ct.key),$=N(Ct,$,Se),je===null?xe=Ct:je.sibling=Ct,je=Ct);return a&&Ne.forEach(function(Jn){return o(U,Jn)}),Qe&&Pa(U,Se),xe}function ve(U,$,W,oe){var xe=F(W);if(typeof xe!="function")throw Error(r(150));if(W=xe.call(W),W==null)throw Error(r(151));for(var je=xe=null,Ne=$,Se=$=0,Ct=null,De=W.next();Ne!==null&&!De.done;Se++,De=W.next()){Ne.index>Se?(Ct=Ne,Ne=null):Ct=Ne.sibling;var Jn=te(U,Ne,De.value,oe);if(Jn===null){Ne===null&&(Ne=Ct);break}a&&Ne&&Jn.alternate===null&&o(U,Ne),$=N(Jn,$,Se),je===null?xe=Jn:je.sibling=Jn,je=Jn,Ne=Ct}if(De.done)return u(U,Ne),Qe&&Pa(U,Se),xe;if(Ne===null){for(;!De.done;Se++,De=W.next())De=ae(U,De.value,oe),De!==null&&($=N(De,$,Se),je===null?xe=De:je.sibling=De,je=De);return Qe&&Pa(U,Se),xe}for(Ne=p(U,Ne);!De.done;Se++,De=W.next())De=ue(Ne,U,Se,De.value,oe),De!==null&&(a&&De.alternate!==null&&Ne.delete(De.key===null?Se:De.key),$=N(De,$,Se),je===null?xe=De:je.sibling=De,je=De);return a&&Ne.forEach(function(ck){return o(U,ck)}),Qe&&Pa(U,Se),xe}function lt(U,$,W,oe){if(typeof W=="object"&&W!==null&&W.type===I&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case O:e:{for(var xe=W.key,je=$;je!==null;){if(je.key===xe){if(xe=W.type,xe===I){if(je.tag===7){u(U,je.sibling),$=x(je,W.props.children),$.return=U,U=$;break e}}else if(je.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&y0(xe)===je.type){u(U,je.sibling),$=x(je,W.props),$.ref=$s(U,je,W),$.return=U,U=$;break e}u(U,je);break}else o(U,je);je=je.sibling}W.type===I?($=_a(W.props.children,U.mode,oe,W.key),$.return=U,U=$):(oe=Wl(W.type,W.key,W.props,null,U.mode,oe),oe.ref=$s(U,$,W),oe.return=U,U=oe)}return A(U);case M:e:{for(je=W.key;$!==null;){if($.key===je)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){u(U,$.sibling),$=x($,W.children||[]),$.return=U,U=$;break e}else{u(U,$);break}else o(U,$);$=$.sibling}$=Sf(W,U.mode,oe),$.return=U,U=$}return A(U);case le:return je=W._init,lt(U,$,je(W._payload),oe)}if(Mn(W))return pe(U,$,W,oe);if(F(W))return ve(U,$,W,oe);bl(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(u(U,$.sibling),$=x($,W),$.return=U,U=$):(u(U,$),$=Nf(W,U.mode,oe),$.return=U,U=$),A(U)):u(U,$)}return lt}var Ni=b0(!0),w0=b0(!1),wl=Un(null),jl=null,Si=null,Td=null;function _d(){Td=Si=jl=null}function Id(a){var o=wl.current;Ge(wl),a._currentValue=o}function Dd(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function Pi(a,o){jl=a,Td=Si=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&o)!==0&&(Qt=!0),a.firstContext=null)}function yr(a){var o=a._currentValue;if(Td!==a)if(a={context:a,memoizedValue:o,next:null},Si===null){if(jl===null)throw Error(r(308));Si=a,jl.dependencies={lanes:0,firstContext:a}}else Si=Si.next=a;return o}var Ca=null;function Rd(a){Ca===null?Ca=[a]:Ca.push(a)}function j0(a,o,u,p){var x=o.interleaved;return x===null?(u.next=u,Rd(o)):(u.next=x.next,x.next=u),o.interleaved=u,cn(a,p)}function cn(a,o){a.lanes|=o;var u=a.alternate;for(u!==null&&(u.lanes|=o),u=a,a=a.return;a!==null;)a.childLanes|=o,u=a.alternate,u!==null&&(u.childLanes|=o),u=a,a=a.return;return u.tag===3?u.stateNode:null}var Kn=!1;function Ld(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function un(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function Vn(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Ie&2)!==0){var x=p.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),p.pending=o,cn(a,u)}return x=p.interleaved,x===null?(o.next=o,Rd(p)):(o.next=x.next,x.next=o),p.interleaved=o,cn(a,u)}function Nl(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Qu(a,u)}}function S0(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var x=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?x=N=A:N=N.next=A,u=u.next}while(u!==null);N===null?x=N=o:N=N.next=o}else x=N=o;u={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:p.shared,effects:p.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}function Sl(a,o,u,p){var x=a.updateQueue;Kn=!1;var N=x.firstBaseUpdate,A=x.lastBaseUpdate,T=x.shared.pending;if(T!==null){x.shared.pending=null;var D=T,H=D.next;D.next=null,A===null?N=H:A.next=H,A=D;var re=a.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==A&&(T===null?re.firstBaseUpdate=H:T.next=H,re.lastBaseUpdate=D))}if(N!==null){var ae=x.baseState;A=0,re=H=D=null,T=N;do{var te=T.lane,ue=T.eventTime;if((p&te)===te){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var pe=a,ve=T;switch(te=o,ue=u,ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){ae=pe.call(ue,ae,te);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,te=typeof pe=="function"?pe.call(ue,ae,te):pe,te==null)break e;ae=ee({},ae,te);break e;case 2:Kn=!0}}T.callback!==null&&T.lane!==0&&(a.flags|=64,te=x.effects,te===null?x.effects=[T]:te.push(T))}else ue={eventTime:ue,lane:te,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(H=re=ue,D=ae):re=re.next=ue,A|=te;if(T=T.next,T===null){if(T=x.shared.pending,T===null)break;te=T,T=te.next,te.next=null,x.lastBaseUpdate=te,x.shared.pending=null}}while(!0);if(re===null&&(D=ae),x.baseState=D,x.firstBaseUpdate=H,x.lastBaseUpdate=re,o=x.shared.interleaved,o!==null){x=o;do A|=x.lane,x=x.next;while(x!==o)}else N===null&&(x.shared.lanes=0);Aa|=A,a.lanes=A,a.memoizedState=ae}}function P0(a,o,u){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],x=p.callback;if(x!==null){if(p.callback=null,p=u,typeof x!="function")throw Error(r(191,x));x.call(p)}}}var Fs={},Hr=Un(Fs),zs=Un(Fs),Bs=Un(Fs);function Ea(a){if(a===Fs)throw Error(r(174));return a}function $d(a,o){switch(Ve(Bs,o),Ve(zs,a),Ve(Hr,Fs),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rn(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=rn(o,a)}Ge(Hr),Ve(Hr,o)}function Ci(){Ge(Hr),Ge(zs),Ge(Bs)}function C0(a){Ea(Bs.current);var o=Ea(Hr.current),u=rn(o,a.type);o!==u&&(Ve(zs,a),Ve(Hr,u))}function Fd(a){zs.current===a&&(Ge(Hr),Ge(zs))}var nt=Un(0);function Pl(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zd=[];function Bd(){for(var a=0;a<zd.length;a++)zd[a]._workInProgressVersionPrimary=null;zd.length=0}var Cl=k.ReactCurrentDispatcher,Ud=k.ReactCurrentBatchConfig,ka=0,at=null,vt=null,St=null,El=!1,Us=!1,qs=0,ME=0;function Ft(){throw Error(r(321))}function qd(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Dr(a[u],o[u]))return!1;return!0}function Wd(a,o,u,p,x,N){if(ka=N,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Cl.current=a===null||a.memoizedState===null?DE:RE,a=u(p,x),Us){N=0;do{if(Us=!1,qs=0,25<=N)throw Error(r(301));N+=1,St=vt=null,o.updateQueue=null,Cl.current=LE,a=u(p,x)}while(Us)}if(Cl.current=Ol,o=vt!==null&&vt.next!==null,ka=0,St=vt=at=null,El=!1,o)throw Error(r(300));return a}function Kd(){var a=qs!==0;return qs=0,a}function Yr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?at.memoizedState=St=a:St=St.next=a,St}function br(){if(vt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var o=St===null?at.memoizedState:St.next;if(o!==null)St=o,vt=a;else{if(a===null)throw Error(r(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?at.memoizedState=St=a:St=St.next=a}return St}function Ws(a,o){return typeof o=="function"?o(a):o}function Vd(a){var o=br(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=vt,x=p.baseQueue,N=u.pending;if(N!==null){if(x!==null){var A=x.next;x.next=N.next,N.next=A}p.baseQueue=x=N,u.pending=null}if(x!==null){N=x.next,p=p.baseState;var T=A=null,D=null,H=N;do{var re=H.lane;if((ka&re)===re)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),p=H.hasEagerState?H.eagerState:a(p,H.action);else{var ae={lane:re,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(T=D=ae,A=p):D=D.next=ae,at.lanes|=re,Aa|=re}H=H.next}while(H!==null&&H!==N);D===null?A=p:D.next=T,Dr(p,o.memoizedState)||(Qt=!0),o.memoizedState=p,o.baseState=A,o.baseQueue=D,u.lastRenderedState=p}if(a=u.interleaved,a!==null){x=a;do N=x.lane,at.lanes|=N,Aa|=N,x=x.next;while(x!==a)}else x===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Hd(a){var o=br(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,x=u.pending,N=o.memoizedState;if(x!==null){u.pending=null;var A=x=x.next;do N=a(N,A.action),A=A.next;while(A!==x);Dr(N,o.memoizedState)||(Qt=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function E0(){}function k0(a,o){var u=at,p=br(),x=o(),N=!Dr(p.memoizedState,x);if(N&&(p.memoizedState=x,Qt=!0),p=p.queue,Yd(M0.bind(null,u,p,a),[a]),p.getSnapshot!==o||N||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,Ks(9,O0.bind(null,u,p,x,o),void 0,null),Pt===null)throw Error(r(349));(ka&30)!==0||A0(u,o,x)}return x}function A0(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function O0(a,o,u,p){o.value=u,o.getSnapshot=p,T0(o)&&_0(a)}function M0(a,o,u){return u(function(){T0(o)&&_0(a)})}function T0(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Dr(a,u)}catch{return!0}}function _0(a){var o=cn(a,1);o!==null&&zr(o,a,1,-1)}function I0(a){var o=Yr();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:a},o.queue=a,a=a.dispatch=IE.bind(null,at,a),[o.memoizedState,a]}function Ks(a,o,u,p){return a={tag:a,create:o,destroy:u,deps:p,next:null},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.lastEffect=a.next=a):(u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a)),a}function D0(){return br().memoizedState}function kl(a,o,u,p){var x=Yr();at.flags|=a,x.memoizedState=Ks(1|o,u,void 0,p===void 0?null:p)}function Al(a,o,u,p){var x=br();p=p===void 0?null:p;var N=void 0;if(vt!==null){var A=vt.memoizedState;if(N=A.destroy,p!==null&&qd(p,A.deps)){x.memoizedState=Ks(o,u,N,p);return}}at.flags|=a,x.memoizedState=Ks(1|o,u,N,p)}function R0(a,o){return kl(8390656,8,a,o)}function Yd(a,o){return Al(2048,8,a,o)}function L0(a,o){return Al(4,2,a,o)}function $0(a,o){return Al(4,4,a,o)}function F0(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function z0(a,o,u){return u=u!=null?u.concat([a]):null,Al(4,4,F0.bind(null,o,a),u)}function Gd(){}function B0(a,o){var u=br();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&qd(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function U0(a,o){var u=br();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&qd(o,p[1])?p[0]:(a=a(),u.memoizedState=[a,o],a)}function q0(a,o,u){return(ka&21)===0?(a.baseState&&(a.baseState=!1,Qt=!0),a.memoizedState=u):(Dr(u,o)||(u=yv(),at.lanes|=u,Aa|=u,a.baseState=!0),o)}function TE(a,o){var u=Fe;Fe=u!==0&&4>u?u:4,a(!0);var p=Ud.transition;Ud.transition={};try{a(!1),o()}finally{Fe=u,Ud.transition=p}}function W0(){return br().memoizedState}function _E(a,o,u){var p=Xn(a);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},K0(a))V0(o,u);else if(u=j0(a,o,u,p),u!==null){var x=Vt();zr(u,a,p,x),H0(u,o,p)}}function IE(a,o,u){var p=Xn(a),x={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(K0(a))V0(o,x);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var A=o.lastRenderedState,T=N(A,u);if(x.hasEagerState=!0,x.eagerState=T,Dr(T,A)){var D=o.interleaved;D===null?(x.next=x,Rd(o)):(x.next=D.next,D.next=x),o.interleaved=x;return}}catch{}finally{}u=j0(a,o,x,p),u!==null&&(x=Vt(),zr(u,a,p,x),H0(u,o,p))}}function K0(a){var o=a.alternate;return a===at||o!==null&&o===at}function V0(a,o){Us=El=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function H0(a,o,u){if((u&4194240)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Qu(a,u)}}var Ol={readContext:yr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},DE={readContext:yr,useCallback:function(a,o){return Yr().memoizedState=[a,o===void 0?null:o],a},useContext:yr,useEffect:R0,useImperativeHandle:function(a,o,u){return u=u!=null?u.concat([a]):null,kl(4194308,4,F0.bind(null,o,a),u)},useLayoutEffect:function(a,o){return kl(4194308,4,a,o)},useInsertionEffect:function(a,o){return kl(4,2,a,o)},useMemo:function(a,o){var u=Yr();return o=o===void 0?null:o,a=a(),u.memoizedState=[a,o],a},useReducer:function(a,o,u){var p=Yr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=_E.bind(null,at,a),[p.memoizedState,a]},useRef:function(a){var o=Yr();return a={current:a},o.memoizedState=a},useState:I0,useDebugValue:Gd,useDeferredValue:function(a){return Yr().memoizedState=a},useTransition:function(){var a=I0(!1),o=a[0];return a=TE.bind(null,a[1]),Yr().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,u){var p=at,x=Yr();if(Qe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Pt===null)throw Error(r(349));(ka&30)!==0||A0(p,o,u)}x.memoizedState=u;var N={value:u,getSnapshot:o};return x.queue=N,R0(M0.bind(null,p,N,a),[a]),p.flags|=2048,Ks(9,O0.bind(null,p,N,u,o),void 0,null),u},useId:function(){var a=Yr(),o=Pt.identifierPrefix;if(Qe){var u=ln,p=on;u=(p&~(1<<32-Ir(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=qs++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ME++,o=":"+o+"r"+u.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},RE={readContext:yr,useCallback:B0,useContext:yr,useEffect:Yd,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:$0,useMemo:U0,useReducer:Vd,useRef:D0,useState:function(){return Vd(Ws)},useDebugValue:Gd,useDeferredValue:function(a){var o=br();return q0(o,vt.memoizedState,a)},useTransition:function(){var a=Vd(Ws)[0],o=br().memoizedState;return[a,o]},useMutableSource:E0,useSyncExternalStore:k0,useId:W0,unstable_isNewReconciler:!1},LE={readContext:yr,useCallback:B0,useContext:yr,useEffect:Yd,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:$0,useMemo:U0,useReducer:Hd,useRef:D0,useState:function(){return Hd(Ws)},useDebugValue:Gd,useDeferredValue:function(a){var o=br();return vt===null?o.memoizedState=a:q0(o,vt.memoizedState,a)},useTransition:function(){var a=Hd(Ws)[0],o=br().memoizedState;return[a,o]},useMutableSource:E0,useSyncExternalStore:k0,useId:W0,unstable_isNewReconciler:!1};function Lr(a,o){if(a&&a.defaultProps){o=ee({},o),a=a.defaultProps;for(var u in a)o[u]===void 0&&(o[u]=a[u]);return o}return o}function Xd(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:ee({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ml={isMounted:function(a){return(a=a._reactInternals)?wa(a)===a:!1},enqueueSetState:function(a,o,u){a=a._reactInternals;var p=Vt(),x=Xn(a),N=un(p,x);N.payload=o,u!=null&&(N.callback=u),o=Vn(a,N,x),o!==null&&(zr(o,a,x,p),Nl(o,a,x))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=Vt(),x=Xn(a),N=un(p,x);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=Vn(a,N,x),o!==null&&(zr(o,a,x,p),Nl(o,a,x))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Vt(),p=Xn(a),x=un(u,p);x.tag=2,o!=null&&(x.callback=o),o=Vn(a,x,p),o!==null&&(zr(o,a,p,u),Nl(o,a,p))}};function Y0(a,o,u,p,x,N,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,N,A):o.prototype&&o.prototype.isPureReactComponent?!Ms(u,p)||!Ms(x,N):!0}function G0(a,o,u){var p=!1,x=qn,N=o.contextType;return typeof N=="object"&&N!==null?N=yr(N):(x=Xt(o)?Na:$t.current,p=o.contextTypes,N=(p=p!=null)?yi(a,x):qn),o=new o(u,N),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ml,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=N),o}function X0(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&Ml.enqueueReplaceState(o,o.state,null)}function Qd(a,o,u,p){var x=a.stateNode;x.props=u,x.state=a.memoizedState,x.refs={},Ld(a);var N=o.contextType;typeof N=="object"&&N!==null?x.context=yr(N):(N=Xt(o)?Na:$t.current,x.context=yi(a,N)),x.state=a.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Xd(a,o,N,u),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Ml.enqueueReplaceState(x,x.state,null),Sl(a,u,x,p),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function Ei(a,o){try{var u="",p=o;do u+=de(p),p=p.return;while(p);var x=u}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:a,source:o,stack:x,digest:null}}function Zd(a,o,u){return{value:a,source:null,stack:u??null,digest:o??null}}function Jd(a,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var $E=typeof WeakMap=="function"?WeakMap:Map;function Q0(a,o,u){u=un(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){$l||($l=!0,pf=p),Jd(a,o)},u}function Z0(a,o,u){u=un(-1,u),u.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var x=o.value;u.payload=function(){return p(x)},u.callback=function(){Jd(a,o)}}var N=a.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Jd(a,o),typeof p!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function J0(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new $E;var x=new Set;p.set(o,x)}else x=p.get(o),x===void 0&&(x=new Set,p.set(o,x));x.has(u)||(x.add(u),a=ZE.bind(null,a,o,u),o.then(a,a))}function ex(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function tx(a,o,u,p,x){return(a.mode&1)===0?(a===o?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=un(-1,1),o.tag=2,Vn(u,o,1))),u.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var FE=k.ReactCurrentOwner,Qt=!1;function Kt(a,o,u,p){o.child=a===null?w0(o,null,u,p):Ni(o,a.child,u,p)}function rx(a,o,u,p,x){u=u.render;var N=o.ref;return Pi(o,x),p=Wd(a,o,u,p,N,x),u=Kd(),a!==null&&!Qt?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~x,dn(a,o,x)):(Qe&&u&&Ed(o),o.flags|=1,Kt(a,o,p,x),o.child)}function nx(a,o,u,p,x){if(a===null){var N=u.type;return typeof N=="function"&&!jf(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=N,ax(a,o,N,p,x)):(a=Wl(u.type,null,p,o,o.mode,x),a.ref=o.ref,a.return=o,o.child=a)}if(N=a.child,(a.lanes&x)===0){var A=N.memoizedProps;if(u=u.compare,u=u!==null?u:Ms,u(A,p)&&a.ref===o.ref)return dn(a,o,x)}return o.flags|=1,a=Zn(N,p),a.ref=o.ref,a.return=o,o.child=a}function ax(a,o,u,p,x){if(a!==null){var N=a.memoizedProps;if(Ms(N,p)&&a.ref===o.ref)if(Qt=!1,o.pendingProps=p=N,(a.lanes&x)!==0)(a.flags&131072)!==0&&(Qt=!0);else return o.lanes=a.lanes,dn(a,o,x)}return ef(a,o,u,p,x)}function ix(a,o,u){var p=o.pendingProps,x=p.children,N=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ai,or),or|=u;else{if((u&1073741824)===0)return a=N!==null?N.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,Ve(Ai,or),or|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=N!==null?N.baseLanes:u,Ve(Ai,or),or|=p}else N!==null?(p=N.baseLanes|u,o.memoizedState=null):p=u,Ve(Ai,or),or|=p;return Kt(a,o,x,u),o.child}function sx(a,o){var u=o.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ef(a,o,u,p,x){var N=Xt(u)?Na:$t.current;return N=yi(o,N),Pi(o,x),u=Wd(a,o,u,p,N,x),p=Kd(),a!==null&&!Qt?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~x,dn(a,o,x)):(Qe&&p&&Ed(o),o.flags|=1,Kt(a,o,u,x),o.child)}function ox(a,o,u,p,x){if(Xt(u)){var N=!0;pl(o)}else N=!1;if(Pi(o,x),o.stateNode===null)_l(a,o),G0(o,u,p),Qd(o,u,p,x),p=!0;else if(a===null){var A=o.stateNode,T=o.memoizedProps;A.props=T;var D=A.context,H=u.contextType;typeof H=="object"&&H!==null?H=yr(H):(H=Xt(u)?Na:$t.current,H=yi(o,H));var re=u.getDerivedStateFromProps,ae=typeof re=="function"||typeof A.getSnapshotBeforeUpdate=="function";ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==p||D!==H)&&X0(o,A,p,H),Kn=!1;var te=o.memoizedState;A.state=te,Sl(o,p,A,x),D=o.memoizedState,T!==p||te!==D||Gt.current||Kn?(typeof re=="function"&&(Xd(o,u,re,p),D=o.memoizedState),(T=Kn||Y0(o,u,T,p,te,D,H))?(ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=D),A.props=p,A.state=D,A.context=H,p=T):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{A=o.stateNode,N0(a,o),T=o.memoizedProps,H=o.type===o.elementType?T:Lr(o.type,T),A.props=H,ae=o.pendingProps,te=A.context,D=u.contextType,typeof D=="object"&&D!==null?D=yr(D):(D=Xt(u)?Na:$t.current,D=yi(o,D));var ue=u.getDerivedStateFromProps;(re=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(T!==ae||te!==D)&&X0(o,A,p,D),Kn=!1,te=o.memoizedState,A.state=te,Sl(o,p,A,x);var pe=o.memoizedState;T!==ae||te!==pe||Gt.current||Kn?(typeof ue=="function"&&(Xd(o,u,ue,p),pe=o.memoizedState),(H=Kn||Y0(o,u,H,p,te,pe,D)||!1)?(re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,pe,D),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,pe,D)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||T===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),A.props=p,A.state=pe,A.context=D,p=H):(typeof A.componentDidUpdate!="function"||T===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),p=!1)}return tf(a,o,u,p,N,x)}function tf(a,o,u,p,x,N){sx(a,o);var A=(o.flags&128)!==0;if(!p&&!A)return x&&f0(o,u,!1),dn(a,o,N);p=o.stateNode,FE.current=o;var T=A&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&A?(o.child=Ni(o,a.child,null,N),o.child=Ni(o,null,T,N)):Kt(a,o,T,N),o.memoizedState=p.state,x&&f0(o,u,!0),o.child}function lx(a){var o=a.stateNode;o.pendingContext?u0(a,o.pendingContext,o.pendingContext!==o.context):o.context&&u0(a,o.context,!1),$d(a,o.containerInfo)}function cx(a,o,u,p,x){return ji(),Md(x),o.flags|=256,Kt(a,o,u,p),o.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function nf(a){return{baseLanes:a,cachePool:null,transitions:null}}function ux(a,o,u){var p=o.pendingProps,x=nt.current,N=!1,A=(o.flags&128)!==0,T;if((T=A)||(T=a!==null&&a.memoizedState===null?!1:(x&2)!==0),T?(N=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ve(nt,x&1),a===null)return Od(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((o.mode&1)===0?o.lanes=1:a.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=p.children,a=p.fallback,N?(p=o.mode,N=o.child,A={mode:"hidden",children:A},(p&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=A):N=Kl(A,p,0,null),a=_a(a,p,u,null),N.return=o,a.return=o,N.sibling=a,o.child=N,o.child.memoizedState=nf(u),o.memoizedState=rf,a):af(o,A));if(x=a.memoizedState,x!==null&&(T=x.dehydrated,T!==null))return zE(a,o,A,p,T,x,u);if(N){N=p.fallback,A=o.mode,x=a.child,T=x.sibling;var D={mode:"hidden",children:p.children};return(A&1)===0&&o.child!==x?(p=o.child,p.childLanes=0,p.pendingProps=D,o.deletions=null):(p=Zn(x,D),p.subtreeFlags=x.subtreeFlags&14680064),T!==null?N=Zn(T,N):(N=_a(N,A,u,null),N.flags|=2),N.return=o,p.return=o,p.sibling=N,o.child=p,p=N,N=o.child,A=a.child.memoizedState,A=A===null?nf(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},N.memoizedState=A,N.childLanes=a.childLanes&~u,o.memoizedState=rf,p}return N=a.child,a=N.sibling,p=Zn(N,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,a!==null&&(u=o.deletions,u===null?(o.deletions=[a],o.flags|=16):u.push(a)),o.child=p,o.memoizedState=null,p}function af(a,o){return o=Kl({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function Tl(a,o,u,p){return p!==null&&Md(p),Ni(o,a.child,null,u),a=af(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function zE(a,o,u,p,x,N,A){if(u)return o.flags&256?(o.flags&=-257,p=Zd(Error(r(422))),Tl(a,o,A,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(N=p.fallback,x=o.mode,p=Kl({mode:"visible",children:p.children},x,0,null),N=_a(N,x,A,null),N.flags|=2,p.return=o,N.return=o,p.sibling=N,o.child=p,(o.mode&1)!==0&&Ni(o,a.child,null,A),o.child.memoizedState=nf(A),o.memoizedState=rf,N);if((o.mode&1)===0)return Tl(a,o,A,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var T=p.dgst;return p=T,N=Error(r(419)),p=Zd(N,p,void 0),Tl(a,o,A,p)}if(T=(A&a.childLanes)!==0,Qt||T){if(p=Pt,p!==null){switch(A&-A){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|A))!==0?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,cn(a,x),zr(p,a,x,-1))}return wf(),p=Zd(Error(r(421))),Tl(a,o,A,p)}return x.data==="$?"?(o.flags|=128,o.child=a.child,o=JE.bind(null,a),x._reactRetry=o,null):(a=N.treeContext,sr=Bn(x.nextSibling),ir=o,Qe=!0,Rr=null,a!==null&&(vr[xr++]=on,vr[xr++]=ln,vr[xr++]=Sa,on=a.id,ln=a.overflow,Sa=o),o=af(o,p.children),o.flags|=4096,o)}function dx(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Dd(a.return,o,u)}function sf(a,o,u,p,x){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:x}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=x)}function fx(a,o,u){var p=o.pendingProps,x=p.revealOrder,N=p.tail;if(Kt(a,o,p.children,u),p=nt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dx(a,u,o);else if(a.tag===19)dx(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(Ve(nt,p),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(u=o.child,x=null;u!==null;)a=u.alternate,a!==null&&Pl(a)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),sf(o,!1,x,u,N);break;case"backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(a=x.alternate,a!==null&&Pl(a)===null){o.child=x;break}a=x.sibling,x.sibling=u,u=x,x=a}sf(o,!0,u,null,N);break;case"together":sf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _l(a,o){(o.mode&1)===0&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function dn(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Aa|=o.lanes,(u&o.childLanes)===0)return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Zn(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Zn(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function BE(a,o,u){switch(o.tag){case 3:lx(o),ji();break;case 5:C0(o);break;case 1:Xt(o.type)&&pl(o);break;case 4:$d(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,x=o.memoizedProps.value;Ve(wl,p._currentValue),p._currentValue=x;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ve(nt,nt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?ux(a,o,u):(Ve(nt,nt.current&1),a=dn(a,o,u),a!==null?a.sibling:null);Ve(nt,nt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(a.flags&128)!==0){if(p)return fx(a,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ve(nt,nt.current),p)break;return null;case 22:case 23:return o.lanes=0,ix(a,o,u)}return dn(a,o,u)}var mx,of,hx,px;mx=function(a,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},of=function(){},hx=function(a,o,u,p){var x=a.memoizedProps;if(x!==p){a=o.stateNode,Ea(Hr.current);var N=null;switch(u){case"input":x=_e(a,x),p=_e(a,p),N=[];break;case"select":x=ee({},x,{value:void 0}),p=ee({},p,{value:void 0}),N=[];break;case"textarea":x=q(a,x),p=q(a,p),N=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=fl)}zu(u,p);var A;u=null;for(H in x)if(!p.hasOwnProperty(H)&&x.hasOwnProperty(H)&&x[H]!=null)if(H==="style"){var T=x[H];for(A in T)T.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?N||(N=[]):(N=N||[]).push(H,null));for(H in p){var D=p[H];if(T=x?.[H],p.hasOwnProperty(H)&&D!==T&&(D!=null||T!=null))if(H==="style")if(T){for(A in T)!T.hasOwnProperty(A)||D&&D.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in D)D.hasOwnProperty(A)&&T[A]!==D[A]&&(u||(u={}),u[A]=D[A])}else u||(N||(N=[]),N.push(H,u)),u=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,T=T?T.__html:void 0,D!=null&&T!==D&&(N=N||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(N=N||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&Ye("scroll",a),N||T===D||(N=[])):(N=N||[]).push(H,D))}u&&(N=N||[]).push("style",u);var H=N;(o.updateQueue=H)&&(o.flags|=4)}},px=function(a,o,u,p){u!==p&&(o.flags|=4)};function Vs(a,o){if(!Qe)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function zt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var x=a.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)u|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function UE(a,o,u){var p=o.pendingProps;switch(kd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return Xt(o.type)&&hl(),zt(o),null;case 3:return p=o.stateNode,Ci(),Ge(Gt),Ge($t),Bd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(yl(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rr!==null&&(xf(Rr),Rr=null))),of(a,o),zt(o),null;case 5:Fd(o);var x=Ea(Bs.current);if(u=o.type,a!==null&&o.stateNode!=null)hx(a,o,u,p,x),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(a=Ea(Hr.current),yl(o)){p=o.stateNode,u=o.type;var N=o.memoizedProps;switch(p[Vr]=o,p[Rs]=N,a=(o.mode&1)!==0,u){case"dialog":Ye("cancel",p),Ye("close",p);break;case"iframe":case"object":case"embed":Ye("load",p);break;case"video":case"audio":for(x=0;x<_s.length;x++)Ye(_s[x],p);break;case"source":Ye("error",p);break;case"img":case"image":case"link":Ye("error",p),Ye("load",p);break;case"details":Ye("toggle",p);break;case"input":Nt(p,N),Ye("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!N.multiple},Ye("invalid",p);break;case"textarea":fe(p,N),Ye("invalid",p)}zu(u,N),x=null;for(var A in N)if(N.hasOwnProperty(A)){var T=N[A];A==="children"?typeof T=="string"?p.textContent!==T&&(N.suppressHydrationWarning!==!0&&dl(p.textContent,T,a),x=["children",T]):typeof T=="number"&&p.textContent!==""+T&&(N.suppressHydrationWarning!==!0&&dl(p.textContent,T,a),x=["children",""+T]):s.hasOwnProperty(A)&&T!=null&&A==="onScroll"&&Ye("scroll",p)}switch(u){case"input":Ce(p),On(p,N,!0);break;case"textarea":Ce(p),Oe(p);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(p.onclick=fl)}p=x,o.updateQueue=p,p!==null&&(o.flags|=4)}else{A=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=We(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=A.createElement(u,{is:p.is}):(a=A.createElement(u),u==="select"&&(A=a,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):a=A.createElementNS(a,u),a[Vr]=o,a[Rs]=p,mx(a,o,!1,!1),o.stateNode=a;e:{switch(A=Bu(u,p),u){case"dialog":Ye("cancel",a),Ye("close",a),x=p;break;case"iframe":case"object":case"embed":Ye("load",a),x=p;break;case"video":case"audio":for(x=0;x<_s.length;x++)Ye(_s[x],a);x=p;break;case"source":Ye("error",a),x=p;break;case"img":case"image":case"link":Ye("error",a),Ye("load",a),x=p;break;case"details":Ye("toggle",a),x=p;break;case"input":Nt(a,p),x=_e(a,p),Ye("invalid",a);break;case"option":x=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},x=ee({},p,{value:void 0}),Ye("invalid",a);break;case"textarea":fe(a,p),x=q(a,p),Ye("invalid",a);break;default:x=p}zu(u,x),T=x;for(N in T)if(T.hasOwnProperty(N)){var D=T[N];N==="style"?av(a,D):N==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&In(a,D)):N==="children"?typeof D=="string"?(u!=="textarea"||D!=="")&&nn(a,D):typeof D=="number"&&nn(a,""+D):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?D!=null&&N==="onScroll"&&Ye("scroll",a):D!=null&&E(a,N,D,A))}switch(u){case"input":Ce(a),On(a,p,!1);break;case"textarea":Ce(a),Oe(a);break;case"option":p.value!=null&&a.setAttribute("value",""+Te(p.value));break;case"select":a.multiple=!!p.multiple,N=p.value,N!=null?Tn(a,!!p.multiple,N,!1):p.defaultValue!=null&&Tn(a,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=fl)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zt(o),null;case 6:if(a&&o.stateNode!=null)px(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(u=Ea(Bs.current),Ea(Hr.current),yl(o)){if(p=o.stateNode,u=o.memoizedProps,p[Vr]=o,(N=p.nodeValue!==u)&&(a=ir,a!==null))switch(a.tag){case 3:dl(p.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&dl(p.nodeValue,u,(a.mode&1)!==0)}N&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Vr]=o,o.stateNode=p}return zt(o),null;case 13:if(Ge(nt),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Qe&&sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)x0(),ji(),o.flags|=98560,N=!1;else if(N=yl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!N)throw Error(r(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Vr]=o}else ji(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),N=!1}else Rr!==null&&(xf(Rr),Rr=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(a===null||(nt.current&1)!==0?xt===0&&(xt=3):wf())),o.updateQueue!==null&&(o.flags|=4),zt(o),null);case 4:return Ci(),of(a,o),a===null&&Is(o.stateNode.containerInfo),zt(o),null;case 10:return Id(o.type._context),zt(o),null;case 17:return Xt(o.type)&&hl(),zt(o),null;case 19:if(Ge(nt),N=o.memoizedState,N===null)return zt(o),null;if(p=(o.flags&128)!==0,A=N.rendering,A===null)if(p)Vs(N,!1);else{if(xt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(A=Pl(a),A!==null){for(o.flags|=128,Vs(N,!1),p=A.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)N=u,a=p,N.flags&=14680066,A=N.alternate,A===null?(N.childLanes=0,N.lanes=a,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=A.childLanes,N.lanes=A.lanes,N.child=A.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=A.memoizedProps,N.memoizedState=A.memoizedState,N.updateQueue=A.updateQueue,N.type=A.type,a=A.dependencies,N.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return Ve(nt,nt.current&1|2),o.child}a=a.sibling}N.tail!==null&&ot()>Oi&&(o.flags|=128,p=!0,Vs(N,!1),o.lanes=4194304)}else{if(!p)if(a=Pl(A),a!==null){if(o.flags|=128,p=!0,u=a.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Vs(N,!0),N.tail===null&&N.tailMode==="hidden"&&!A.alternate&&!Qe)return zt(o),null}else 2*ot()-N.renderingStartTime>Oi&&u!==1073741824&&(o.flags|=128,p=!0,Vs(N,!1),o.lanes=4194304);N.isBackwards?(A.sibling=o.child,o.child=A):(u=N.last,u!==null?u.sibling=A:o.child=A,N.last=A)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=ot(),o.sibling=null,u=nt.current,Ve(nt,p?u&1|2:u&1),o):(zt(o),null);case 22:case 23:return bf(),p=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(or&1073741824)!==0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function qE(a,o){switch(kd(o),o.tag){case 1:return Xt(o.type)&&hl(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ci(),Ge(Gt),Ge($t),Bd(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 5:return Fd(o),null;case 13:if(Ge(nt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ji()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Ge(nt),null;case 4:return Ci(),null;case 10:return Id(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var Il=!1,Bt=!1,WE=typeof WeakSet=="function"?WeakSet:Set,me=null;function ki(a,o){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){it(a,o,p)}else u.current=null}function lf(a,o,u){try{u()}catch(p){it(a,o,p)}}var gx=!1;function KE(a,o){if(yd=el,a=Yv(),dd(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var x=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var A=0,T=-1,D=-1,H=0,re=0,ae=a,te=null;t:for(;;){for(var ue;ae!==u||x!==0&&ae.nodeType!==3||(T=A+x),ae!==N||p!==0&&ae.nodeType!==3||(D=A+p),ae.nodeType===3&&(A+=ae.nodeValue.length),(ue=ae.firstChild)!==null;)te=ae,ae=ue;for(;;){if(ae===a)break t;if(te===u&&++H===x&&(T=A),te===N&&++re===p&&(D=A),(ue=ae.nextSibling)!==null)break;ae=te,te=ae.parentNode}ae=ue}u=T===-1||D===-1?null:{start:T,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(bd={focusedElem:a,selectionRange:u},el=!1,me=o;me!==null;)if(o=me,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,me=a;else for(;me!==null;){o=me;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ve=pe.memoizedProps,lt=pe.memoizedState,U=o.stateNode,$=U.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Lr(o.type,ve),lt);U.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(oe){it(o,o.return,oe)}if(a=o.sibling,a!==null){a.return=o.return,me=a;break}me=o.return}return pe=gx,gx=!1,pe}function Hs(a,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&a)===a){var N=x.destroy;x.destroy=void 0,N!==void 0&&lf(o,u,N)}x=x.next}while(x!==p)}}function Dl(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&a)===a){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function cf(a){var o=a.ref;if(o!==null){var u=a.stateNode;switch(a.tag){case 5:a=u;break;default:a=u}typeof o=="function"?o(a):o.current=a}}function vx(a){var o=a.alternate;o!==null&&(a.alternate=null,vx(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[Vr],delete o[Rs],delete o[Sd],delete o[EE],delete o[kE])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function xx(a){return a.tag===5||a.tag===3||a.tag===4}function yx(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xx(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function uf(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(a,u)):(o=u,o.appendChild(a)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=fl));else if(p!==4&&(a=a.child,a!==null))for(uf(a,o,u),a=a.sibling;a!==null;)uf(a,o,u),a=a.sibling}function df(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(df(a,o,u),a=a.sibling;a!==null;)df(a,o,u),a=a.sibling}var Tt=null,$r=!1;function Hn(a,o,u){for(u=u.child;u!==null;)bx(a,o,u),u=u.sibling}function bx(a,o,u){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Yo,u)}catch{}switch(u.tag){case 5:Bt||ki(u,o);case 6:var p=Tt,x=$r;Tt=null,Hn(a,o,u),Tt=p,$r=x,Tt!==null&&($r?(a=Tt,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):Tt.removeChild(u.stateNode));break;case 18:Tt!==null&&($r?(a=Tt,u=u.stateNode,a.nodeType===8?Nd(a.parentNode,u):a.nodeType===1&&Nd(a,u),Ps(a)):Nd(Tt,u.stateNode));break;case 4:p=Tt,x=$r,Tt=u.stateNode.containerInfo,$r=!0,Hn(a,o,u),Tt=p,$r=x;break;case 0:case 11:case 14:case 15:if(!Bt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var N=x,A=N.destroy;N=N.tag,A!==void 0&&((N&2)!==0||(N&4)!==0)&&lf(u,o,A),x=x.next}while(x!==p)}Hn(a,o,u);break;case 1:if(!Bt&&(ki(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(T){it(u,o,T)}Hn(a,o,u);break;case 21:Hn(a,o,u);break;case 22:u.mode&1?(Bt=(p=Bt)||u.memoizedState!==null,Hn(a,o,u),Bt=p):Hn(a,o,u);break;default:Hn(a,o,u)}}function wx(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new WE),o.forEach(function(p){var x=ek.bind(null,a,p);u.has(p)||(u.add(p),p.then(x,x))})}}function Fr(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];try{var N=a,A=o,T=A;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,$r=!1;break e;case 3:Tt=T.stateNode.containerInfo,$r=!0;break e;case 4:Tt=T.stateNode.containerInfo,$r=!0;break e}T=T.return}if(Tt===null)throw Error(r(160));bx(N,A,x),Tt=null,$r=!1;var D=x.alternate;D!==null&&(D.return=null),x.return=null}catch(H){it(x,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)jx(o,a),o=o.sibling}function jx(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Fr(o,a),Gr(a),p&4){try{Hs(3,a,a.return),Dl(3,a)}catch(ve){it(a,a.return,ve)}try{Hs(5,a,a.return)}catch(ve){it(a,a.return,ve)}}break;case 1:Fr(o,a),Gr(a),p&512&&u!==null&&ki(u,u.return);break;case 5:if(Fr(o,a),Gr(a),p&512&&u!==null&&ki(u,u.return),a.flags&32){var x=a.stateNode;try{nn(x,"")}catch(ve){it(a,a.return,ve)}}if(p&4&&(x=a.stateNode,x!=null)){var N=a.memoizedProps,A=u!==null?u.memoizedProps:N,T=a.type,D=a.updateQueue;if(a.updateQueue=null,D!==null)try{T==="input"&&N.type==="radio"&&N.name!=null&&rt(x,N),Bu(T,A);var H=Bu(T,N);for(A=0;A<D.length;A+=2){var re=D[A],ae=D[A+1];re==="style"?av(x,ae):re==="dangerouslySetInnerHTML"?In(x,ae):re==="children"?nn(x,ae):E(x,re,ae,H)}switch(T){case"input":gt(x,N);break;case"textarea":Me(x,N);break;case"select":var te=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var ue=N.value;ue!=null?Tn(x,!!N.multiple,ue,!1):te!==!!N.multiple&&(N.defaultValue!=null?Tn(x,!!N.multiple,N.defaultValue,!0):Tn(x,!!N.multiple,N.multiple?[]:"",!1))}x[Rs]=N}catch(ve){it(a,a.return,ve)}}break;case 6:if(Fr(o,a),Gr(a),p&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,N=a.memoizedProps;try{x.nodeValue=N}catch(ve){it(a,a.return,ve)}}break;case 3:if(Fr(o,a),Gr(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Ps(o.containerInfo)}catch(ve){it(a,a.return,ve)}break;case 4:Fr(o,a),Gr(a);break;case 13:Fr(o,a),Gr(a),x=a.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||(hf=ot())),p&4&&wx(a);break;case 22:if(re=u!==null&&u.memoizedState!==null,a.mode&1?(Bt=(H=Bt)||re,Fr(o,a),Bt=H):Fr(o,a),Gr(a),p&8192){if(H=a.memoizedState!==null,(a.stateNode.isHidden=H)&&!re&&(a.mode&1)!==0)for(me=a,re=a.child;re!==null;){for(ae=me=re;me!==null;){switch(te=me,ue=te.child,te.tag){case 0:case 11:case 14:case 15:Hs(4,te,te.return);break;case 1:ki(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){p=te,u=te.return;try{o=p,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ve){it(p,u,ve)}}break;case 5:ki(te,te.return);break;case 22:if(te.memoizedState!==null){Px(ae);continue}}ue!==null?(ue.return=te,me=ue):Px(ae)}re=re.sibling}e:for(re=null,ae=a;;){if(ae.tag===5){if(re===null){re=ae;try{x=ae.stateNode,H?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(T=ae.stateNode,D=ae.memoizedProps.style,A=D!=null&&D.hasOwnProperty("display")?D.display:null,T.style.display=nv("display",A))}catch(ve){it(a,a.return,ve)}}}else if(ae.tag===6){if(re===null)try{ae.stateNode.nodeValue=H?"":ae.memoizedProps}catch(ve){it(a,a.return,ve)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===a)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===a)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===a)break e;re===ae&&(re=null),ae=ae.return}re===ae&&(re=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Fr(o,a),Gr(a),p&4&&wx(a);break;case 21:break;default:Fr(o,a),Gr(a)}}function Gr(a){var o=a.flags;if(o&2){try{e:{for(var u=a.return;u!==null;){if(xx(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(nn(x,""),p.flags&=-33);var N=yx(a);df(a,N,x);break;case 3:case 4:var A=p.stateNode.containerInfo,T=yx(a);uf(a,T,A);break;default:throw Error(r(161))}}catch(D){it(a,a.return,D)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function VE(a,o,u){me=a,Nx(a)}function Nx(a,o,u){for(var p=(a.mode&1)!==0;me!==null;){var x=me,N=x.child;if(x.tag===22&&p){var A=x.memoizedState!==null||Il;if(!A){var T=x.alternate,D=T!==null&&T.memoizedState!==null||Bt;T=Il;var H=Bt;if(Il=A,(Bt=D)&&!H)for(me=x;me!==null;)A=me,D=A.child,A.tag===22&&A.memoizedState!==null?Cx(x):D!==null?(D.return=A,me=D):Cx(x);for(;N!==null;)me=N,Nx(N),N=N.sibling;me=x,Il=T,Bt=H}Sx(a)}else(x.subtreeFlags&8772)!==0&&N!==null?(N.return=x,me=N):Sx(a)}}function Sx(a){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Bt||Dl(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Bt)if(u===null)p.componentDidMount();else{var x=o.elementType===o.type?u.memoizedProps:Lr(o.type,u.memoizedProps);p.componentDidUpdate(x,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&P0(o,N,p);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}P0(o,A,u)}break;case 5:var T=o.stateNode;if(u===null&&o.flags&4){u=T;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&u.focus();break;case"img":D.src&&(u.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var re=H.memoizedState;if(re!==null){var ae=re.dehydrated;ae!==null&&Ps(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bt||o.flags&512&&cf(o)}catch(te){it(o,o.return,te)}}if(o===a){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function Px(a){for(;me!==null;){var o=me;if(o===a){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function Cx(a){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Dl(4,o)}catch(D){it(o,u,D)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var x=o.return;try{p.componentDidMount()}catch(D){it(o,x,D)}}var N=o.return;try{cf(o)}catch(D){it(o,N,D)}break;case 5:var A=o.return;try{cf(o)}catch(D){it(o,A,D)}}}catch(D){it(o,o.return,D)}if(o===a){me=null;break}var T=o.sibling;if(T!==null){T.return=o.return,me=T;break}me=o.return}}var HE=Math.ceil,Rl=k.ReactCurrentDispatcher,ff=k.ReactCurrentOwner,wr=k.ReactCurrentBatchConfig,Ie=0,Pt=null,ft=null,_t=0,or=0,Ai=Un(0),xt=0,Ys=null,Aa=0,Ll=0,mf=0,Gs=null,Zt=null,hf=0,Oi=1/0,fn=null,$l=!1,pf=null,Yn=null,Fl=!1,Gn=null,zl=0,Xs=0,gf=null,Bl=-1,Ul=0;function Vt(){return(Ie&6)!==0?ot():Bl!==-1?Bl:Bl=ot()}function Xn(a){return(a.mode&1)===0?1:(Ie&2)!==0&&_t!==0?_t&-_t:OE.transition!==null?(Ul===0&&(Ul=yv()),Ul):(a=Fe,a!==0||(a=window.event,a=a===void 0?16:kv(a.type)),a)}function zr(a,o,u,p){if(50<Xs)throw Xs=0,gf=null,Error(r(185));bs(a,u,p),((Ie&2)===0||a!==Pt)&&(a===Pt&&((Ie&2)===0&&(Ll|=u),xt===4&&Qn(a,_t)),Jt(a,p),u===1&&Ie===0&&(o.mode&1)===0&&(Oi=ot()+500,gl&&Wn()))}function Jt(a,o){var u=a.callbackNode;OC(a,o);var p=Qo(a,a===Pt?_t:0);if(p===0)u!==null&&gv(u),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(u!=null&&gv(u),o===1)a.tag===0?AE(kx.bind(null,a)):m0(kx.bind(null,a)),PE(function(){(Ie&6)===0&&Wn()}),u=null;else{switch(bv(p)){case 1:u=Yu;break;case 4:u=vv;break;case 16:u=Ho;break;case 536870912:u=xv;break;default:u=Ho}u=Rx(u,Ex.bind(null,a))}a.callbackPriority=o,a.callbackNode=u}}function Ex(a,o){if(Bl=-1,Ul=0,(Ie&6)!==0)throw Error(r(327));var u=a.callbackNode;if(Mi()&&a.callbackNode!==u)return null;var p=Qo(a,a===Pt?_t:0);if(p===0)return null;if((p&30)!==0||(p&a.expiredLanes)!==0||o)o=ql(a,p);else{o=p;var x=Ie;Ie|=2;var N=Ox();(Pt!==a||_t!==o)&&(fn=null,Oi=ot()+500,Ma(a,o));do try{XE();break}catch(T){Ax(a,T)}while(!0);_d(),Rl.current=N,Ie=x,ft!==null?o=0:(Pt=null,_t=0,o=xt)}if(o!==0){if(o===2&&(x=Gu(a),x!==0&&(p=x,o=vf(a,x))),o===1)throw u=Ys,Ma(a,0),Qn(a,p),Jt(a,ot()),u;if(o===6)Qn(a,p);else{if(x=a.current.alternate,(p&30)===0&&!YE(x)&&(o=ql(a,p),o===2&&(N=Gu(a),N!==0&&(p=N,o=vf(a,N))),o===1))throw u=Ys,Ma(a,0),Qn(a,p),Jt(a,ot()),u;switch(a.finishedWork=x,a.finishedLanes=p,o){case 0:case 1:throw Error(r(345));case 2:Ta(a,Zt,fn);break;case 3:if(Qn(a,p),(p&130023424)===p&&(o=hf+500-ot(),10<o)){if(Qo(a,0)!==0)break;if(x=a.suspendedLanes,(x&p)!==p){Vt(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=jd(Ta.bind(null,a,Zt,fn),o);break}Ta(a,Zt,fn);break;case 4:if(Qn(a,p),(p&4194240)===p)break;for(o=a.eventTimes,x=-1;0<p;){var A=31-Ir(p);N=1<<A,A=o[A],A>x&&(x=A),p&=~N}if(p=x,p=ot()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*HE(p/1960))-p,10<p){a.timeoutHandle=jd(Ta.bind(null,a,Zt,fn),p);break}Ta(a,Zt,fn);break;case 5:Ta(a,Zt,fn);break;default:throw Error(r(329))}}}return Jt(a,ot()),a.callbackNode===u?Ex.bind(null,a):null}function vf(a,o){var u=Gs;return a.current.memoizedState.isDehydrated&&(Ma(a,o).flags|=256),a=ql(a,o),a!==2&&(o=Zt,Zt=u,o!==null&&xf(o)),a}function xf(a){Zt===null?Zt=a:Zt.push.apply(Zt,a)}function YE(a){for(var o=a;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var x=u[p],N=x.getSnapshot;x=x.value;try{if(!Dr(N(),x))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qn(a,o){for(o&=~mf,o&=~Ll,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var u=31-Ir(o),p=1<<u;a[u]=-1,o&=~p}}function kx(a){if((Ie&6)!==0)throw Error(r(327));Mi();var o=Qo(a,0);if((o&1)===0)return Jt(a,ot()),null;var u=ql(a,o);if(a.tag!==0&&u===2){var p=Gu(a);p!==0&&(o=p,u=vf(a,p))}if(u===1)throw u=Ys,Ma(a,0),Qn(a,o),Jt(a,ot()),u;if(u===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Ta(a,Zt,fn),Jt(a,ot()),null}function yf(a,o){var u=Ie;Ie|=1;try{return a(o)}finally{Ie=u,Ie===0&&(Oi=ot()+500,gl&&Wn())}}function Oa(a){Gn!==null&&Gn.tag===0&&(Ie&6)===0&&Mi();var o=Ie;Ie|=1;var u=wr.transition,p=Fe;try{if(wr.transition=null,Fe=1,a)return a()}finally{Fe=p,wr.transition=u,Ie=o,(Ie&6)===0&&Wn()}}function bf(){or=Ai.current,Ge(Ai)}function Ma(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,SE(u)),ft!==null)for(u=ft.return;u!==null;){var p=u;switch(kd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&hl();break;case 3:Ci(),Ge(Gt),Ge($t),Bd();break;case 5:Fd(p);break;case 4:Ci();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:Id(p.type._context);break;case 22:case 23:bf()}u=u.return}if(Pt=a,ft=a=Zn(a.current,null),_t=or=o,xt=0,Ys=null,mf=Ll=Aa=0,Zt=Gs=null,Ca!==null){for(o=0;o<Ca.length;o++)if(u=Ca[o],p=u.interleaved,p!==null){u.interleaved=null;var x=p.next,N=u.pending;if(N!==null){var A=N.next;N.next=x,p.next=A}u.pending=p}Ca=null}return a}function Ax(a,o){do{var u=ft;try{if(_d(),Cl.current=Ol,El){for(var p=at.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}El=!1}if(ka=0,St=vt=at=null,Us=!1,qs=0,ff.current=null,u===null||u.return===null){xt=1,Ys=o,ft=null;break}e:{var N=a,A=u.return,T=u,D=o;if(o=_t,T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,re=T,ae=re.tag;if((re.mode&1)===0&&(ae===0||ae===11||ae===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=ex(A);if(ue!==null){ue.flags&=-257,tx(ue,A,T,N,o),ue.mode&1&&J0(N,H,o),o=ue,D=H;var pe=o.updateQueue;if(pe===null){var ve=new Set;ve.add(D),o.updateQueue=ve}else pe.add(D);break e}else{if((o&1)===0){J0(N,H,o),wf();break e}D=Error(r(426))}}else if(Qe&&T.mode&1){var lt=ex(A);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),tx(lt,A,T,N,o),Md(Ei(D,T));break e}}N=D=Ei(D,T),xt!==4&&(xt=2),Gs===null?Gs=[N]:Gs.push(N),N=A;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var U=Q0(N,D,o);S0(N,U);break e;case 1:T=D;var $=N.type,W=N.stateNode;if((N.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Yn===null||!Yn.has(W)))){N.flags|=65536,o&=-o,N.lanes|=o;var oe=Z0(N,T,o);S0(N,oe);break e}}N=N.return}while(N!==null)}Tx(u)}catch(xe){o=xe,ft===u&&u!==null&&(ft=u=u.return);continue}break}while(!0)}function Ox(){var a=Rl.current;return Rl.current=Ol,a===null?Ol:a}function wf(){(xt===0||xt===3||xt===2)&&(xt=4),Pt===null||(Aa&268435455)===0&&(Ll&268435455)===0||Qn(Pt,_t)}function ql(a,o){var u=Ie;Ie|=2;var p=Ox();(Pt!==a||_t!==o)&&(fn=null,Ma(a,o));do try{GE();break}catch(x){Ax(a,x)}while(!0);if(_d(),Ie=u,Rl.current=p,ft!==null)throw Error(r(261));return Pt=null,_t=0,xt}function GE(){for(;ft!==null;)Mx(ft)}function XE(){for(;ft!==null&&!wC();)Mx(ft)}function Mx(a){var o=Dx(a.alternate,a,or);a.memoizedProps=a.pendingProps,o===null?Tx(a):ft=o,ff.current=null}function Tx(a){var o=a;do{var u=o.alternate;if(a=o.return,(o.flags&32768)===0){if(u=UE(u,o,or),u!==null){ft=u;return}}else{if(u=qE(u,o),u!==null){u.flags&=32767,ft=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{xt=6,ft=null;return}}if(o=o.sibling,o!==null){ft=o;return}ft=o=a}while(o!==null);xt===0&&(xt=5)}function Ta(a,o,u){var p=Fe,x=wr.transition;try{wr.transition=null,Fe=1,QE(a,o,u,p)}finally{wr.transition=x,Fe=p}return null}function QE(a,o,u,p){do Mi();while(Gn!==null);if((Ie&6)!==0)throw Error(r(327));u=a.finishedWork;var x=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var N=u.lanes|u.childLanes;if(MC(a,N),a===Pt&&(ft=Pt=null,_t=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fl||(Fl=!0,Rx(Ho,function(){return Mi(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=wr.transition,wr.transition=null;var A=Fe;Fe=1;var T=Ie;Ie|=4,ff.current=null,KE(a,u),jx(u,a),vE(bd),el=!!yd,bd=yd=null,a.current=u,VE(u),jC(),Ie=T,Fe=A,wr.transition=N}else a.current=u;if(Fl&&(Fl=!1,Gn=a,zl=x),N=a.pendingLanes,N===0&&(Yn=null),PC(u.stateNode),Jt(a,ot()),o!==null)for(p=a.onRecoverableError,u=0;u<o.length;u++)x=o[u],p(x.value,{componentStack:x.stack,digest:x.digest});if($l)throw $l=!1,a=pf,pf=null,a;return(zl&1)!==0&&a.tag!==0&&Mi(),N=a.pendingLanes,(N&1)!==0?a===gf?Xs++:(Xs=0,gf=a):Xs=0,Wn(),null}function Mi(){if(Gn!==null){var a=bv(zl),o=wr.transition,u=Fe;try{if(wr.transition=null,Fe=16>a?16:a,Gn===null)var p=!1;else{if(a=Gn,Gn=null,zl=0,(Ie&6)!==0)throw Error(r(331));var x=Ie;for(Ie|=4,me=a.current;me!==null;){var N=me,A=N.child;if((me.flags&16)!==0){var T=N.deletions;if(T!==null){for(var D=0;D<T.length;D++){var H=T[D];for(me=H;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Hs(8,re,N)}var ae=re.child;if(ae!==null)ae.return=re,me=ae;else for(;me!==null;){re=me;var te=re.sibling,ue=re.return;if(vx(re),re===H){me=null;break}if(te!==null){te.return=ue,me=te;break}me=ue}}}var pe=N.alternate;if(pe!==null){var ve=pe.child;if(ve!==null){pe.child=null;do{var lt=ve.sibling;ve.sibling=null,ve=lt}while(ve!==null)}}me=N}}if((N.subtreeFlags&2064)!==0&&A!==null)A.return=N,me=A;else e:for(;me!==null;){if(N=me,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Hs(9,N,N.return)}var U=N.sibling;if(U!==null){U.return=N.return,me=U;break e}me=N.return}}var $=a.current;for(me=$;me!==null;){A=me;var W=A.child;if((A.subtreeFlags&2064)!==0&&W!==null)W.return=A,me=W;else e:for(A=$;me!==null;){if(T=me,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Dl(9,T)}}catch(xe){it(T,T.return,xe)}if(T===A){me=null;break e}var oe=T.sibling;if(oe!==null){oe.return=T.return,me=oe;break e}me=T.return}}if(Ie=x,Wn(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Yo,a)}catch{}p=!0}return p}finally{Fe=u,wr.transition=o}}return!1}function _x(a,o,u){o=Ei(u,o),o=Q0(a,o,1),a=Vn(a,o,1),o=Vt(),a!==null&&(bs(a,1,o),Jt(a,o))}function it(a,o,u){if(a.tag===3)_x(a,a,u);else for(;o!==null;){if(o.tag===3){_x(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Yn===null||!Yn.has(p))){a=Ei(u,a),a=Z0(o,a,1),o=Vn(o,a,1),a=Vt(),o!==null&&(bs(o,1,a),Jt(o,a));break}}o=o.return}}function ZE(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),o=Vt(),a.pingedLanes|=a.suspendedLanes&u,Pt===a&&(_t&u)===u&&(xt===4||xt===3&&(_t&130023424)===_t&&500>ot()-hf?Ma(a,0):mf|=u),Jt(a,o)}function Ix(a,o){o===0&&((a.mode&1)===0?o=1:(o=Xo,Xo<<=1,(Xo&130023424)===0&&(Xo=4194304)));var u=Vt();a=cn(a,o),a!==null&&(bs(a,o,u),Jt(a,u))}function JE(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Ix(a,u)}function ek(a,o){var u=0;switch(a.tag){case 13:var p=a.stateNode,x=a.memoizedState;x!==null&&(u=x.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(o),Ix(a,u)}var Dx;Dx=function(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps||Gt.current)Qt=!0;else{if((a.lanes&u)===0&&(o.flags&128)===0)return Qt=!1,BE(a,o,u);Qt=(a.flags&131072)!==0}else Qt=!1,Qe&&(o.flags&1048576)!==0&&h0(o,xl,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;_l(a,o),a=o.pendingProps;var x=yi(o,$t.current);Pi(o,u),x=Wd(null,o,p,a,x,u);var N=Kd();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xt(p)?(N=!0,pl(o)):N=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Ld(o),x.updater=Ml,o.stateNode=x,x._reactInternals=o,Qd(o,p,a,u),o=tf(null,o,p,!0,N,u)):(o.tag=0,Qe&&N&&Ed(o),Kt(null,o,x,u),o=o.child),o;case 16:p=o.elementType;e:{switch(_l(a,o),a=o.pendingProps,x=p._init,p=x(p._payload),o.type=p,x=o.tag=rk(p),a=Lr(p,a),x){case 0:o=ef(null,o,p,a,u);break e;case 1:o=ox(null,o,p,a,u);break e;case 11:o=rx(null,o,p,a,u);break e;case 14:o=nx(null,o,p,Lr(p.type,a),u);break e}throw Error(r(306,p,""))}return o;case 0:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Lr(p,x),ef(a,o,p,x,u);case 1:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Lr(p,x),ox(a,o,p,x,u);case 3:e:{if(lx(o),a===null)throw Error(r(387));p=o.pendingProps,N=o.memoizedState,x=N.element,N0(a,o),Sl(o,p,null,u);var A=o.memoizedState;if(p=A.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){x=Ei(Error(r(423)),o),o=cx(a,o,p,u,x);break e}else if(p!==x){x=Ei(Error(r(424)),o),o=cx(a,o,p,u,x);break e}else for(sr=Bn(o.stateNode.containerInfo.firstChild),ir=o,Qe=!0,Rr=null,u=w0(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ji(),p===x){o=dn(a,o,u);break e}Kt(a,o,p,u)}o=o.child}return o;case 5:return C0(o),a===null&&Od(o),p=o.type,x=o.pendingProps,N=a!==null?a.memoizedProps:null,A=x.children,wd(p,x)?A=null:N!==null&&wd(p,N)&&(o.flags|=32),sx(a,o),Kt(a,o,A,u),o.child;case 6:return a===null&&Od(o),null;case 13:return ux(a,o,u);case 4:return $d(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Ni(o,null,p,u):Kt(a,o,p,u),o.child;case 11:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Lr(p,x),rx(a,o,p,x,u);case 7:return Kt(a,o,o.pendingProps,u),o.child;case 8:return Kt(a,o,o.pendingProps.children,u),o.child;case 12:return Kt(a,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,x=o.pendingProps,N=o.memoizedProps,A=x.value,Ve(wl,p._currentValue),p._currentValue=A,N!==null)if(Dr(N.value,A)){if(N.children===x.children&&!Gt.current){o=dn(a,o,u);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var T=N.dependencies;if(T!==null){A=N.child;for(var D=T.firstContext;D!==null;){if(D.context===p){if(N.tag===1){D=un(-1,u&-u),D.tag=2;var H=N.updateQueue;if(H!==null){H=H.shared;var re=H.pending;re===null?D.next=D:(D.next=re.next,re.next=D),H.pending=D}}N.lanes|=u,D=N.alternate,D!==null&&(D.lanes|=u),Dd(N.return,u,o),T.lanes|=u;break}D=D.next}}else if(N.tag===10)A=N.type===o.type?null:N.child;else if(N.tag===18){if(A=N.return,A===null)throw Error(r(341));A.lanes|=u,T=A.alternate,T!==null&&(T.lanes|=u),Dd(A,u,o),A=N.sibling}else A=N.child;if(A!==null)A.return=N;else for(A=N;A!==null;){if(A===o){A=null;break}if(N=A.sibling,N!==null){N.return=A.return,A=N;break}A=A.return}N=A}Kt(a,o,x.children,u),o=o.child}return o;case 9:return x=o.type,p=o.pendingProps.children,Pi(o,u),x=yr(x),p=p(x),o.flags|=1,Kt(a,o,p,u),o.child;case 14:return p=o.type,x=Lr(p,o.pendingProps),x=Lr(p.type,x),nx(a,o,p,x,u);case 15:return ax(a,o,o.type,o.pendingProps,u);case 17:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Lr(p,x),_l(a,o),o.tag=1,Xt(p)?(a=!0,pl(o)):a=!1,Pi(o,u),G0(o,p,x),Qd(o,p,x,u),tf(null,o,p,!0,a,u);case 19:return fx(a,o,u);case 22:return ix(a,o,u)}throw Error(r(156,o.tag))};function Rx(a,o){return pv(a,o)}function tk(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(a,o,u,p){return new tk(a,o,u,p)}function jf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rk(a){if(typeof a=="function")return jf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===X)return 11;if(a===Z)return 14}return 2}function Zn(a,o){var u=a.alternate;return u===null?(u=jr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Wl(a,o,u,p,x,N){var A=2;if(p=a,typeof a=="function")jf(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case I:return _a(u.children,x,N,o);case K:A=8,x|=8;break;case V:return a=jr(12,u,o,x|2),a.elementType=V,a.lanes=N,a;case Q:return a=jr(13,u,o,x),a.elementType=Q,a.lanes=N,a;case R:return a=jr(19,u,o,x),a.elementType=R,a.lanes=N,a;case ie:return Kl(u,x,N,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:A=10;break e;case z:A=9;break e;case X:A=11;break e;case Z:A=14;break e;case le:A=16,p=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return o=jr(A,u,o,x),o.elementType=a,o.type=p,o.lanes=N,o}function _a(a,o,u,p){return a=jr(7,a,p,o),a.lanes=u,a}function Kl(a,o,u,p){return a=jr(22,a,p,o),a.elementType=ie,a.lanes=u,a.stateNode={isHidden:!1},a}function Nf(a,o,u){return a=jr(6,a,null,o),a.lanes=u,a}function Sf(a,o,u){return o=jr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function nk(a,o,u,p,x){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xu(0),this.expirationTimes=Xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Pf(a,o,u,p,x,N,A,T,D){return a=new nk(a,o,u,T,D),o===1?(o=1,N===!0&&(o|=8)):o=0,N=jr(3,null,null,o),a.current=N,N.stateNode=a,N.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(N),a}function ak(a,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:p==null?null:""+p,children:a,containerInfo:o,implementation:u}}function Lx(a){if(!a)return qn;a=a._reactInternals;e:{if(wa(a)!==a||a.tag!==1)throw Error(r(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(a.tag===1){var u=a.type;if(Xt(u))return d0(a,u,o)}return o}function $x(a,o,u,p,x,N,A,T,D){return a=Pf(u,p,!0,a,x,N,A,T,D),a.context=Lx(null),u=a.current,p=Vt(),x=Xn(u),N=un(p,x),N.callback=o??null,Vn(u,N,x),a.current.lanes=x,bs(a,x,p),Jt(a,p),a}function Vl(a,o,u,p){var x=o.current,N=Vt(),A=Xn(x);return u=Lx(u),o.context===null?o.context=u:o.pendingContext=u,o=un(N,A),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=Vn(x,o,A),a!==null&&(zr(a,x,A,N),Nl(a,x,A)),A}function Hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Fx(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Cf(a,o){Fx(a,o),(a=a.alternate)&&Fx(a,o)}function ik(){return null}var zx=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ef(a){this._internalRoot=a}Yl.prototype.render=Ef.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));Vl(a,o,null,null)},Yl.prototype.unmount=Ef.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Oa(function(){Vl(null,a,null,null)}),o[an]=null}};function Yl(a){this._internalRoot=a}Yl.prototype.unstable_scheduleHydration=function(a){if(a){var o=Nv();a={blockedOn:null,target:a,priority:o};for(var u=0;u<$n.length&&o!==0&&o<$n[u].priority;u++);$n.splice(u,0,a),u===0&&Cv(a)}};function kf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Gl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function sk(a,o,u,p,x){if(x){if(typeof p=="function"){var N=p;p=function(){var H=Hl(A);N.call(H)}}var A=$x(o,p,a,0,null,!1,!1,"",Bx);return a._reactRootContainer=A,a[an]=A.current,Is(a.nodeType===8?a.parentNode:a),Oa(),A}for(;x=a.lastChild;)a.removeChild(x);if(typeof p=="function"){var T=p;p=function(){var H=Hl(D);T.call(H)}}var D=Pf(a,0,!1,null,null,!1,!1,"",Bx);return a._reactRootContainer=D,a[an]=D.current,Is(a.nodeType===8?a.parentNode:a),Oa(function(){Vl(o,D,u,p)}),D}function Xl(a,o,u,p,x){var N=u._reactRootContainer;if(N){var A=N;if(typeof x=="function"){var T=x;x=function(){var D=Hl(A);T.call(D)}}Vl(o,A,a,x)}else A=sk(u,o,a,x,p);return Hl(A)}wv=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var u=ys(o.pendingLanes);u!==0&&(Qu(o,u|1),Jt(o,ot()),(Ie&6)===0&&(Oi=ot()+500,Wn()))}break;case 13:Oa(function(){var p=cn(a,1);if(p!==null){var x=Vt();zr(p,a,1,x)}}),Cf(a,1)}},Zu=function(a){if(a.tag===13){var o=cn(a,134217728);if(o!==null){var u=Vt();zr(o,a,134217728,u)}Cf(a,134217728)}},jv=function(a){if(a.tag===13){var o=Xn(a),u=cn(a,o);if(u!==null){var p=Vt();zr(u,a,o,p)}Cf(a,o)}},Nv=function(){return Fe},Sv=function(a,o){var u=Fe;try{return Fe=a,o()}finally{Fe=u}},Wu=function(a,o,u){switch(o){case"input":if(gt(a,u),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var x=ml(p);if(!x)throw Error(r(90));ne(p),gt(p,x)}}}break;case"textarea":Me(a,u);break;case"select":o=u.value,o!=null&&Tn(a,!!u.multiple,o,!1)}},lv=yf,cv=Oa;var ok={usingClientEntryPoint:!1,Events:[Ls,vi,ml,sv,ov,yf]},Qs={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lk={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=mv(a),a===null?null:a.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Yo=Ql.inject(lk),Kr=Ql}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok,er.createPortal=function(a,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(o))throw Error(r(200));return ak(a,o,null,u)},er.createRoot=function(a,o){if(!kf(a))throw Error(r(299));var u=!1,p="",x=zx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Pf(a,1,!1,null,null,u,!1,p,x),a[an]=o.current,Is(a.nodeType===8?a.parentNode:a),new Ef(o)},er.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=mv(o),a=a===null?null:a.stateNode,a},er.flushSync=function(a){return Oa(a)},er.hydrate=function(a,o,u){if(!Gl(o))throw Error(r(200));return Xl(null,a,o,!0,u)},er.hydrateRoot=function(a,o,u){if(!kf(a))throw Error(r(405));var p=u!=null&&u.hydratedSources||null,x=!1,N="",A=zx;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=$x(o,null,a,1,u??null,x,!1,N,A),a[an]=o.current,Is(a),p)for(a=0;a<p.length;a++)u=p[a],x=u._getVersion,x=x(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,x]:o.mutableSourceEagerHydrationData.push(u,x);return new Yl(o)},er.render=function(a,o,u){if(!Gl(o))throw Error(r(200));return Xl(null,a,o,!1,u)},er.unmountComponentAtNode=function(a){if(!Gl(a))throw Error(r(40));return a._reactRootContainer?(Oa(function(){Xl(null,null,a,!1,function(){a._reactRootContainer=null,a[an]=null})}),!0):!1},er.unstable_batchedUpdates=yf,er.unstable_renderSubtreeIntoContainer=function(a,o,u,p){if(!Gl(u))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Xl(a,o,u,!1,p)},er.version="18.3.1-next-f1338f8080-20240426",er}var Gx;function dj(){if(Gx)return Mf.exports;Gx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mf.exports=vk(),Mf.exports}var Xx;function xk(){if(Xx)return Zl;Xx=1;var e=dj();return Zl.createRoot=e.createRoot,Zl.hydrateRoot=e.hydrateRoot,Zl}var yk=xk();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:f,...m},h)=>S.createElement("svg",{ref:h,...bk,width:s,height:s,stroke:n,strokeWidth:c?Number(l)*24/Number(s):l,className:["lucide",`lucide-${wk(e)}`,d].join(" "),...m},[...t.map(([g,v])=>S.createElement(g,v)),...Array.isArray(f)?f:[f]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Pe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=Pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=Pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Pe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Pe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=Pe("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Pe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bj="entetesConfig",Fk={eleves:{header:"Liste des lves",footer:"Signature du Directeur",logo:"",logoMinistere:"",pays:"Rpublique de Cte d'Ivoire",ministere:"Ministre de l'ducation Nationale et de l'Alphabtisation",etablissement:"Nom de l'tablissement",columns:["Matricule","Nom & Prnom","Date de naissance"],mention:!1},recu:{header:"Reu de paiement",footer:"Aucun remboursement n'est possible aprs encaissement.",logo:"",columns:["Nom","Montant","Date","Classe"]},transport:{header:"Fiche de renseignement transport",footer:"",logo:"",columns:["Nom","Classe","Montant","Versement"]}};function la(){try{const e=localStorage.getItem(bj);if(e)return JSON.parse(e)}catch{}return Fk}function Eo(e){return la()[e]}function ho(e){localStorage.setItem(bj,JSON.stringify(e))}class Ri{static instance;constructor(){this.initializeDefaultData()}addHistorique(t){const r=this.getAll("historiques"),n=new Date().toISOString(),s=Object.assign({},t,{id:Date.now().toString()+Math.random().toString(36).substr(2,6),date:n,createdAt:n,updatedAt:n});return r.push(s),localStorage.setItem("historiques",JSON.stringify(r)),s}static getInstance(){return Ri.instance||(Ri.instance=new Ri),Ri.instance}initializeDefaultData(){if(["ecole","matieres","classes","enseignants","fraisScolaires","eleves","paiements","notes","moyennesGenerales","utilisateurs","compositions","historiques"].forEach(r=>{localStorage.getItem(r)||localStorage.setItem(r,JSON.stringify([]))}),!localStorage.getItem("utilisateurs")){const r={id:"1",nom:"ADMIN",prenoms:"Systme",nomUtilisateur:"admin",role:"Admin",actif:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};localStorage.setItem("utilisateurs",JSON.stringify([r]))}if(!localStorage.getItem("ecole")||JSON.parse(localStorage.getItem("ecole")||"[]").length===0){const r=new Date().toISOString(),n={nom:"cole Primaire Excellence",codeEtablissement:"EPE2025",adresse:"Abidjan, Cte d'Ivoire",telephone:"+225 XX XX XX XX XX",email:"contact@ecole.ci",logo:"",devise:"FCFA",anneeScolaireActive:new Date().getFullYear()+"-"+(new Date().getFullYear()+1),compositions:[],createdAt:r,updatedAt:r};this.create("ecole",n)}try{const r=la(),n=this.getAll("ecole")?.[0];if(n){const s=r.eleves&&typeof r.eleves.etablissement=="string"?r.eleves.etablissement:"",l=r.recu&&typeof r.recu.etablissement=="string"?r.recu.etablissement:"",c=f=>!f||f.toLowerCase().includes("nom de")||f.toLowerCase().includes("tablissement");let d=!1;c(s)&&(r.eleves.etablissement=n.nom||r.eleves.etablissement,r.eleves.logo=n.logo||r.eleves.logo,d=!0),c(l)&&(r.recu.etablissement=n.nom||r.recu.etablissement||"",r.recu.logo=n.logo||r.recu.logo||"",d=!0),d&&ho(r)}}catch{}}getAll(t){try{const r=localStorage.getItem(t);return r?JSON.parse(r):[]}catch(r){return console.error(`Erreur lors du chargement de ${t}:`,r),[]}}getById(t,r){return this.getAll(t).find(s=>s.id===r)||null}create(t,r){const n=this.getAll(t),s=Object.assign({},r,{id:this.generateId(),createdAt:new Date().toISOString()});return n.push(s),localStorage.setItem(t,JSON.stringify(n)),s}update(t,r,n){const s=this.getAll(t),l=s.findIndex(c=>c.id===r);return l!==-1?(s[l]={...s[l],...n,updatedAt:new Date().toISOString()},localStorage.setItem(t,JSON.stringify(s)),s[l]):null}delete(t,r){const n=this.getAll(t),s=n.filter(l=>l.id!==r);return s.length!==n.length?(localStorage.setItem(t,JSON.stringify(s)),!0):!1}generateId(){return Date.now().toString()+Math.random().toString(36).substr(2,9)}generateMatricule(){const t=this.getAll("eleves"),r=new Date().getFullYear().toString().substr(2,2),n=(t.length+1).toString().padStart(4,"0");return`${r}${n}`}search(t,r,n){const s=this.getAll(t);if(!r)return s;const l=r.toLowerCase();return s.filter(c=>n.some(d=>{const f=c[d];return f&&f.toString().toLowerCase().includes(l)}))}exportData(){const t=["ecole","matieres","classes","enseignants","eleves","fraisScolaires","paiements","notes","moyennesGenerales","utilisateurs","compositions","historiques"],r={};return t.forEach(n=>{r[n]=this.getAll(n)}),JSON.stringify(r,null,2)}importData(t){try{const r=JSON.parse(t);return Object.entries(r).forEach(([n,s])=>{localStorage.setItem(n,JSON.stringify(s))}),!0}catch(r){return console.error("Erreur lors de l'importation des donnes:",r),!1}}resetData(){localStorage.clear(),this.initializeDefaultData()}}const G=Ri.getInstance(),zk=Object.freeze(Object.defineProperty({__proto__:null,db:G},Symbol.toStringTag,{value:"Module"})),Ti="klasnet_licence",Qx="klasnet_last_check",If="klasnet_time_check",Zx=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoI1o4BX9ixXBWDH+KRGv
L8YdNrzhmTUiy1fJKAqyiA+JT9NCh0fL1xhnLundf0sGbTN6Cd91OkKbxbzpa99S
uWNzd9ISVYZXFFgVfQfBAyUDcjCQxPiypQT9K4aLTJQqf0H4gh985VzvwiwCM0C9
b2NwlCN304JU949CLJhIaExhIuuP0uvYC0heNwp6HjHYClppEmLoEgM3xE6hj/jW
nTraasw8aUSuDqn0dnrxnhRT1pD0ADDVHxfzaUKA0jKmuv2uvBhNvUrWCl9FoyDd
A7nMXmDJG5pnTkKmnNA3eU4ArY1uZsRVYss7iOR6gUa4f/XV8FUhtz00irZC54fW
PwIDAQAB
-----END PUBLIC KEY-----`;class Li{static instance;publicKeyPem;static getInstance(){return Li.instance||(Li.instance=new Li(Zx)),Li.instance}constructor(t){this.publicKeyPem=t||Zx}async verifyJwtAndGetPayload(t){const[r,n,s]=t.split(".");if(!r||!n||!s)throw new Error("Invalid JWT format");const c=new TextEncoder().encode(`${r}.${n}`),d=this.base64UrlToUint8Array(s),f=await this.importPublicKey(this.publicKeyPem);if(!await crypto.subtle.verify("RSASSA-PKCS1-v1_5",f,d,c))throw new Error("Invalid signature");const h=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(h)}checkTimeManipulation(){try{const t=localStorage.getItem(If),r=Date.now();if(t){const n=parseInt(t);if(r<n-3600*1e3)return console.warn("Manipulation de date dtecte"),!1}return localStorage.setItem(If,r.toString()),!0}catch(t){return console.error("Erreur vrification anti-triche:",t),!1}}async checkLicenceStatus(){if(!this.checkTimeManipulation())return{isValid:!1,isExpired:!0,daysRemaining:0,type:"invalide",dateExpiration:"",lastCheck:new Date().toISOString()};try{const t=localStorage.getItem(Ti);if(!t)return this.createTrialLicence();if((t.match(/\./g)||[]).length===2)try{const r=await this.verifyJwtAndGetPayload(t),n=r.exp&&Number(r.exp)?new Date(Number(r.exp)*1e3):null,s=new Date,l=n?Math.ceil((n.getTime()-s.getTime())/(1e3*60*60*24)):0,c=this.getCurrentEcoleId(),d=r.sub||"";if(d&&!this.isEcoleMatch(d,c))return console.warn(`Licence sub mismatch: token for ${d} but this installation is ${c}`),{isValid:!1,isExpired:!0,daysRemaining:0,type:"invalide",dateExpiration:"",lastCheck:new Date().toISOString()};const f={isValid:!!n&&l>0,isExpired:!n||l<=0,daysRemaining:Math.max(0,l),type:r.type||"inconnue",dateExpiration:n?n.toISOString():"",lastCheck:new Date().toISOString()};return localStorage.setItem(Qx,f.lastCheck),f}catch(r){return console.warn("Licence JWT invalide ou signature incorrecte",r),{isValid:!1,isExpired:!0,daysRemaining:0,type:"invalide",dateExpiration:"",lastCheck:new Date().toISOString()}}else try{const r=JSON.parse(atob(t));let n=null;r.exp&&(typeof r.exp=="number"?n=new Date(r.exp>1e12?r.exp:r.exp*1e3):n=new Date(r.exp));const s=new Date,l=n?Math.ceil((n.getTime()-s.getTime())/(1e3*60*60*24)):0;return{isValid:!!n&&l>0,isExpired:!n||l<=0,daysRemaining:Math.max(0,l),type:r.type||"essai",dateExpiration:n?n.toISOString():"",lastCheck:new Date().toISOString()}}catch{return{isValid:!1,isExpired:!0,daysRemaining:0,type:"invalide",dateExpiration:"",lastCheck:new Date().toISOString()}}}catch(t){return console.error("Erreur vrification licence:",t),{isValid:!1,isExpired:!0,daysRemaining:0,type:"erreur",dateExpiration:"",lastCheck:new Date().toISOString()}}}createTrialLicence(){const t=new Date,r=new Date(t.getTime()+10080*60*1e3),s={sub:"ECOLE_ESSAI_"+Date.now(),type:"essai",iat:Math.floor(t.getTime()/1e3),exp:r.toISOString()},l=btoa(JSON.stringify(s));return localStorage.setItem(Ti,l),{isValid:!0,isExpired:!1,daysRemaining:7,type:"essai",dateExpiration:r.toISOString(),lastCheck:new Date().toISOString()}}activateLicence(t){return localStorage.setItem(Ti,t),{success:!0,message:"Licence enregistre. Actualisez le statut pour vrifier la validit."}}async updateLicenceFromServer(){try{const t=await fetch("/api/licence/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentKey:localStorage.getItem(Ti),ecoleId:this.getCurrentEcoleId()})});if(t.ok){const r=await t.json();if(r.newKey)return localStorage.setItem(Ti,r.newKey),!0}}catch{console.log("Mise  jour licence impossible (hors ligne)")}return!1}getCurrentEcoleId(){return G.getAll("ecole")[0]?.codeEtablissement||"ECOLE_DEFAULT"}normalizeId(t){return t?t.toString().toUpperCase().replace(/[^A-Z0-9]/g,""):""}hasCommonNumericSeq(t,r,n=4){const s=t.match(/\d+/g)||[],l=r.match(/\d+/g)||[];for(const c of s)for(const d of l){if(c===d&&c.length>=n)return!0;if(c.length>=n&&d.length>=n){const f=c.slice(-n),m=d.slice(-n);if(f===m)return!0}}return!1}isEcoleMatch(t,r){const n=this.normalizeId(t),s=this.normalizeId(r);if(!n||!s)return!1;if(n===s||n.includes(s)||s.includes(n)||this.hasCommonNumericSeq(n,s,4))return!0;const l=n.slice(-6),c=s.slice(-6);return!!(l&&c&&l===c)}resetLicence(){localStorage.removeItem(Ti),localStorage.removeItem(Qx),localStorage.removeItem(If)}async importPublicKey(t){const r=t.replace(/-----BEGIN PUBLIC KEY-----|-----END PUBLIC KEY-----|\n/g,""),n=Uint8Array.from(atob(r),s=>s.charCodeAt(0));return await crypto.subtle.importKey("spki",n.buffer,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["verify"])}base64UrlToUint8Array(t){let r=t.replace(/-/g,"+").replace(/_/g,"/");const n=r.length%4;n&&(r+="=".repeat(4-n));const s=atob(r),l=new Uint8Array(s.length);for(let c=0;c<s.length;++c)l[c]=s.charCodeAt(c);return l}}const pn=Li.getInstance(),wj=S.createContext({showToast:()=>{}});function Lt(){return S.useContext(wj)}function Jx({children:e}){const[t,r]=S.useState([]),n=(d,f="info")=>{const m=Date.now();r(h=>[...h,{id:m,type:f,message:d}]),setTimeout(()=>{r(h=>h.filter(g=>g.id!==m))},4e3)},s=d=>{r(f=>f.filter(m=>m.id!==d))},l=d=>{switch(d){case"success":return i.jsx(Qr,{className:"h-5 w-5 text-green-600"});case"error":return i.jsx(Jr,{className:"h-5 w-5 text-red-600"});default:return i.jsx(gj,{className:"h-5 w-5 text-blue-600"})}},c=d=>{switch(d){case"success":return"bg-white border-green-200 text-green-800";case"error":return"bg-white border-red-200 text-red-800";default:return"bg-white border-blue-200 text-blue-800"}};return i.jsxs(wj.Provider,{value:{showToast:n},children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(d=>i.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg border shadow-lg max-w-sm ${c(d.type)}`,children:[l(d.type),i.jsx("span",{className:"flex-1 text-sm font-medium",children:d.message}),i.jsx("button",{onClick:()=>s(d.id),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(ha,{className:"h-4 w-4"})})]},d.id))})]})}function jj(){const{showToast:e}=Lt(),[t,r]=S.useState(null),[n,s]=S.useState({nom:"",codeEtablissement:"",adresse:"",telephone:"",email:"",logo:"",devise:"FCFA",anneeScolaireActive:new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}),[l,c]=S.useState(!1);S.useEffect(()=>{const m=G.getAll("ecole")[0];m&&(r(m),s({nom:m.nom||"",codeEtablissement:m.codeEtablissement||"",adresse:m.adresse||"",telephone:m.telephone||"",email:m.email||"",logo:m.logo||"",devise:m.devise||"FCFA",anneeScolaireActive:m.anneeScolaireActive||new Date().getFullYear()+"-"+(new Date().getFullYear()+1)}))},[]);const d=m=>{const h=m.target.files?.[0];if(h){const g=new FileReader;g.onload=v=>{s(j=>({...j,logo:v.target?.result}))},g.readAsDataURL(h)}},f=async()=>{c(!0);try{if(t){const m=G.update("ecole",t.id,n);if(m){r(m),e("Configuration de l'cole mise  jour","success");try{const h=la();h.eleves&&(h.eleves.etablissement=n.nom||h.eleves.etablissement,h.eleves.logo=n.logo||h.eleves.logo),h.recu&&(h.recu.etablissement=n.nom||h.recu.etablissement||"",h.recu.logo=n.logo||h.recu.logo),ho(h)}catch{}}}else{const m=G.create("ecole",n);r(m),e("Configuration de l'cole cre","success");try{window.dispatchEvent(new CustomEvent("ecole:created",{detail:{ecole:m}}))}catch{}try{pn.createTrialLicence&&pn.createTrialLicence()}catch{}try{const h=la();h.eleves&&(h.eleves.etablissement=n.nom||h.eleves.etablissement,h.eleves.logo=n.logo||h.eleves.logo),h.recu&&(h.recu.etablissement=n.nom||h.recu.etablissement||"",h.recu.logo=n.logo||h.recu.logo),ho(h)}catch{}}}catch{e("Erreur lors de la sauvegarde","error")}finally{c(!1)}};return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx(fj,{className:"h-6 w-6 text-gray-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration de l'cole"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Paramtres gnraux et informations de l'tablissement"})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informations de l'tablissement"}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Ces informations apparatront sur tous les documents imprims"})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Logo de l'cole"}),i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"w-full h-48 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center relative overflow-hidden group hover:border-gray-400 transition-colors",children:[n.logo?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:n.logo,alt:"Logo cole",className:"w-full h-full object-contain"}),i.jsx("button",{onClick:()=>s(m=>({...m,logo:""})),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",children:i.jsx(ha,{className:"h-4 w-4 text-gray-600"})})]}):i.jsxs("div",{className:"text-center",children:[i.jsx(Co,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Cliquez pour ajouter un logo"}),i.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"PNG, JPG jusqu' 5MB"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"absolute inset-0 opacity-0 cursor-pointer"})]})})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nom complet de l'tablissement ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.nom,onChange:m=>s(h=>({...h,nom:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"Ex: cole Primaire Excellence"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Code tablissement ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.codeEtablissement,onChange:m=>s(h=>({...h,codeEtablissement:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"Ex: ECOLE001, EPE2025..."}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Code unique d'identification de votre tablissement"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise"}),i.jsxs("select",{value:n.devise,onChange:m=>s(h=>({...h,devise:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",children:[i.jsx("option",{value:"FCFA",children:"FCFA"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"USD",children:"USD"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anne scolaire active"}),i.jsx("input",{type:"text",value:n.anneeScolaireActive,onChange:m=>s(h=>({...h,anneeScolaireActive:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"2025-2026"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Coordonnes de contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone"}),i.jsx("input",{type:"tel",value:n.telephone,onChange:m=>s(h=>({...h,telephone:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"+225 XX XX XX XX XX"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),i.jsx("input",{type:"email",value:n.email,onChange:m=>s(h=>({...h,email:m.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"contact@ecole.ci"})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse complte"}),i.jsx("textarea",{value:n.adresse,onChange:m=>s(h=>({...h,adresse:m.target.value})),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors resize-none",placeholder:"Adresse complte de l'tablissement"})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aperu sur les documents"}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"text-center",children:[n.logo&&i.jsx("img",{src:n.logo,alt:"Logo",className:"h-16 mx-auto mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-xl font-bold text-gray-900",children:n.nom||"Nom de l'cole"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",n.codeEtablissement||"CODE_ECOLE"]}),i.jsx("p",{className:"text-gray-600",children:n.adresse||"Adresse de l'cole"}),i.jsxs("p",{className:"text-gray-600",children:[n.telephone||"Tlphone",n.email&&`  ${n.email}`]})]})]})})]}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:i.jsxs("button",{onClick:f,disabled:l,className:"flex items-center space-x-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 focus:ring-2 focus:ring-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:l?"Sauvegarde...":"Enregistrer la configuration"})]})})]})]})]})}function Bk({children:e}){const[t,r]=S.useState(null),[n,s]=S.useState(!1),[l,c]=S.useState(""),[d,f]=S.useState(!1),[m,h]=S.useState(""),[g,v]=S.useState(!1);S.useEffect(()=>{j();const w=setInterval(j,3600*1e3),y=()=>{v(!1),j()};return window.addEventListener("ecole:created",y),()=>{clearInterval(w),window.removeEventListener("ecole:created",y)}},[]);const j=async()=>{await pn.updateLicenceFromServer();const w=await pn.checkLicenceStatus();r(w)},b=()=>{if(!l.trim()){h("Veuillez entrer une cl de licence");return}f(!0);try{const w=pn.activateLicence(l.trim());w.success?(h(w.message),c(""),setTimeout(()=>{s(!1),j()},2e3)):h(w.message)}catch{h("Erreur lors de l'activation de la licence")}finally{f(!1)}};return t?t.isValid&&!t.isExpired?i.jsxs(i.Fragment,{children:[e,t.daysRemaining<=7&&i.jsx("div",{className:"fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-sm",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(yc,{className:"h-5 w-5 text-amber-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:"Licence expire bientt"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Plus que ",t.daysRemaining," jour(s)"]})]})]})})]}):g?i.jsx(jj,{}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 max-w-lg w-full",children:[i.jsxs("div",{className:"p-8 text-center border-b border-gray-200",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(yj,{className:"h-8 w-8 text-gray-600"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Licence Expire"}),i.jsx("p",{className:"text-gray-600",children:"Votre licence KlasNet a expir"})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(Jr,{className:"h-5 w-5 text-red-600"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Statut de la licence"})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Type:"}),i.jsx("span",{className:"font-medium text-gray-900 capitalize",children:t.type})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Expiration:"}),i.jsx("span",{className:"font-medium text-gray-900",children:t.dateExpiration?new Date(t.dateExpiration).toLocaleDateString("fr-FR"):"Non dfinie"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Jours restants:"}),i.jsx("span",{className:"font-bold text-red-600",children:t.daysRemaining})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[i.jsx(xj,{className:"h-5 w-5"}),i.jsx("span",{children:"Configurer l'application"})]}),i.jsxs("button",{onClick:()=>s(!n),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[i.jsx(bc,{className:"h-5 w-5"}),i.jsx("span",{children:"Activer une nouvelle licence"})]})]}),n&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Activation manuelle"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cl de licence"}),i.jsx("textarea",{value:l,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors resize-none font-mono text-sm",rows:4,placeholder:"Collez votre cl de licence ici..."})]}),m&&i.jsx("div",{className:`p-4 rounded-lg ${m.includes("succs")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[m.includes("succs")?i.jsx(Qr,{className:"h-5 w-5"}):i.jsx(Jr,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:m})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>{s(!1),c(""),h("")},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Annuler"}),i.jsxs("button",{onClick:b,disabled:d||!l.trim(),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:[d?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(bc,{className:"h-4 w-4"}),i.jsx("span",{children:d?"Activation...":"Activer"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Besoin d'une licence ?"}),i.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Tlphone:"})," +2250555863953"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Email:"})," Non disponible"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Site web:"})," Non disponible"]})]})]})]}),i.jsx("div",{className:"bg-gray-50 px-8 py-4 text-center border-t border-gray-200",children:i.jsx("p",{className:"text-xs text-gray-500",children:" 2025 KlasNet - Logiciel de Gestion Scolaire"})})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 max-w-md w-full mx-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Vrification de la licence"}),i.jsx("p",{className:"text-gray-600",children:"Veuillez patienter..."})]})})})}const fp="current_user_id";function iu(){const e=G.getAll("utilisateurs"),t={"poupouya@ecole.local":"eyemon2024",directeur:"director2024",enseignant:"teacher2024",poupouya:"eyemon2024"};try{window.localStorage.setItem("__pw_map__",JSON.stringify(t)),console.log("Mots de passe forcs:",t)}catch(d){console.error("Erreur stockage mots de passe:",d)}const r=["poupouya@ecole.local","directeur","enseignant","poupouya"],n=e.map(d=>d.nomUtilisateur),s=r.filter(d=>!n.includes(d)),l=new Date().toISOString();[{nom:"POUPOUYA",prenoms:"Mme",nomUtilisateur:"poupouya@ecole.local",role:"Secrtaire",actif:!0},{nom:"POUPOUYA",prenoms:"Mme",nomUtilisateur:"poupouya",role:"Secrtaire",actif:!0},{nom:"DIRECTEUR",prenoms:"M.",nomUtilisateur:"directeur",role:"Admin",actif:!0},{nom:"ENSEIGNANT",prenoms:"M.",nomUtilisateur:"enseignant",role:"Enseignant",actif:!0},{nom:"TEACHER",prenoms:"Prof",nomUtilisateur:"teacher",role:"Enseignant",actif:!0}].forEach(d=>{s.includes(d.nomUtilisateur)&&(console.log("Cration utilisateur:",d.nomUtilisateur),G.create("utilisateurs",{...d,createdAt:l}))})}function Nj(e,t){iu();const r={"poupouya@ecole.local":"eyemon2024",directeur:"director2024",enseignant:"teacher2024",poupouya:"eyemon2024"};try{window.localStorage.setItem("__pw_map__",JSON.stringify(r))}catch(c){console.error("Erreur stockage mots de passe:",c)}const n=r;if(console.log("Tentative de connexion:",e),console.log("Mots de passe disponibles:",Object.keys(n)),console.log("Mot de passe fourni:",t),console.log("Mot de passe attendu:",n[e]),n[e]!==t)return null;const l=G.getAll("utilisateurs").find(c=>c.nomUtilisateur===e&&c.actif)||null;if(console.log("Utilisateur trouv:",l),l){try{window.localStorage.setItem(fp,l.id)}catch{}return l}return null}function Sj(){try{window.localStorage.removeItem(fp)}catch{}}function Ui(){iu();try{const e=window.localStorage.getItem(fp);return e?G.getById("utilisateurs",e):null}catch{return null}}function Pj(e,t,r){try{const n=JSON.parse(String(window.localStorage.getItem("__pw_map__")||"{}"));return typeof r<"u"&&n[e]!==r?!1:(n[e]=t,window.localStorage.setItem("__pw_map__",JSON.stringify(n)),!0)}catch{return!1}}function Cj(e,t,r){try{const n=JSON.parse(String(window.localStorage.getItem("__pw_map__")||"{}"));if(n[t]||typeof r<"u"&&n[e]!==r)return!1;const l=G.getAll("utilisateurs").find(c=>c.nomUtilisateur===e);return l?(G.update("utilisateurs",l.id,{nomUtilisateur:t}),n[e]&&(n[t]=n[e],delete n[e],window.localStorage.setItem("__pw_map__",JSON.stringify(n))),!0):!1}catch{return!1}}const Wa={seedUsers:iu,login:Nj,logout:Sj,getCurrentUser:Ui,changePassword:Pj,changeUsername:Cj},ey=Object.freeze(Object.defineProperty({__proto__:null,changePassword:Pj,changeUsername:Cj,default:Wa,getCurrentUser:Ui,login:Nj,logout:Sj,seedUsers:iu},Symbol.toStringTag,{value:"Module"}));function Uk({onLogin:e}){const[t,r]=S.useState(""),[n,s]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(!1),{showToast:m}=Lt(),h=async g=>{if(g.preventDefault(),!t||!n){m("Veuillez remplir tous les champs","error");return}f(!0);try{const v=Wa.login(t,n);v?(m(`Bienvenue ${v.prenoms} ${v.nom}`,"success"),e(v)):m("Nom d'utilisateur ou mot de passe incorrect","error")}catch{m("Erreur de connexion","error")}finally{f(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 w-full max-w-md",children:[i.jsxs("div",{className:"p-8 text-center border-b border-gray-200",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(vj,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"KlasNet"}),i.jsx("p",{className:"text-gray-600",children:"Gestion Scolaire"})]}),i.jsx("div",{className:"p-8",children:i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'utilisateur"}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"votre_nom_utilisateur",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx(Mk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:l?"text":"password",value:n,onChange:g=>s(g.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-colors",placeholder:"",required:!0}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?i.jsx(Ek,{className:"h-5 w-5"}):i.jsx(hj,{className:"h-5 w-5"})})]})]}),i.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gray-900 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-800 focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})]})}),i.jsx("div",{className:"bg-gray-50 px-8 py-4 text-center border-t border-gray-200",children:i.jsx("p",{className:"text-xs text-gray-500",children:" 2025 KlasNet - Gestion Scolaire Cte d'Ivoire"})})]})})}function qk({currentUser:e,onLogout:t,onNavigate:r,currentPage:n,onShowGuide:s}){const[l,c]=S.useState(new Date),[d,f]=S.useState(!1),[m,h]=S.useState(!1),g=S.useRef(null),v=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",j=y=>y?y.toUpperCase():"";S.useEffect(()=>{const y=setInterval(()=>c(new Date),1e3);return()=>clearInterval(y)},[]),S.useEffect(()=>{const y=C=>{const E=C.target;g.current&&!g.current.contains(E)&&f(!1)},P=C=>{C.key==="Escape"&&f(!1)};return document.addEventListener("mousedown",y),document.addEventListener("keydown",P),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",P)}},[]);const b=[{id:"dashboard",label:"Tableau de bord"},{id:"eleves",label:"lves"},{id:"enseignants",label:"Enseignants"},{id:"classes",label:"Classes"},{id:"matieres",label:"Matires"},{id:"finances",label:"Finances"},{id:"notes",label:"Notes"},{id:"config",label:"Configuration"}],w=()=>f(y=>!y);return i.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:[i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:i.jsx(vj,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"KlasNet"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Gestion Scolaire"})]})]}),i.jsx("div",{className:"hidden lg:block bg-gray-50 px-3 py-1 rounded-md border border-gray-200",children:i.jsx("div",{className:"text-xs text-gray-500",children:l.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})})]}),i.jsx("nav",{className:"hidden md:flex space-x-1",children:b.map(y=>i.jsx("button",{onClick:()=>r(y.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n===y.id?"bg-gray-900 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:y.label},y.id))}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{className:"hidden md:block px-3 py-1 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",onClick:()=>s&&s(),children:"Guide"}),i.jsxs("div",{className:"relative",ref:g,children:[i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 px-3 py-2 rounded-md transition-colors",onClick:w,children:[e&&e.avatar?i.jsx("img",{src:e.avatar,alt:"avatar",className:"h-8 w-8 rounded-full object-cover border border-gray-200"}):i.jsx("div",{className:"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center border border-gray-200",children:i.jsx(Xa,{className:"h-4 w-4 text-gray-500"})}),i.jsxs("div",{className:"hidden sm:block text-sm text-gray-700",children:[i.jsxs("div",{className:"font-medium",children:[v(e?.prenoms)," ",j(e?.nom)]}),i.jsx("div",{className:"text-xs text-gray-500",children:v(e?.role)})]})]}),d&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:[i.jsx("button",{onClick:()=>{f(!1),r("profil")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Profil"}),i.jsx("button",{onClick:()=>{f(!1),r("parametres")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Paramtres"}),i.jsx("div",{className:"border-t border-gray-200"}),i.jsx("button",{onClick:t,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:"Dconnexion"})]})]}),i.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",onClick:()=>h(!m),children:m?i.jsx(ha,{className:"h-5 w-5"}):i.jsx(_k,{className:"h-5 w-5"})})]})]})}),m&&i.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:i.jsxs("div",{className:"px-4 py-2 space-y-1",children:[b.map(y=>i.jsx("button",{onClick:()=>{r(y.id),h(!1)},className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${n===y.id?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-50"}`,children:y.label},y.id)),i.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",onClick:()=>{s&&s(),h(!1)},children:"Guide"})]})})]})}function Ej(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ej(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ej(e))&&(n&&(n+=" "),n+=t);return n}var Df={},Rf={},ty;function Wk(){return ty||(ty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Rf)),Rf}var Lf={},ry;function kj(){return ry||(ry=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Lf)),Lf}var $f={},ny;function Aj(){return ny||(ny=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})($f)),$f}var Ff={},ay;function mp(){return ay||(ay=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let l=0,c="",d="",f=!1;for(r.charCodeAt(0)===46&&(n.push(""),l++);l<s;){const m=r[l];d?m==="\\"&&l+1<s?(l++,c+=r[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,n.push(c),c=""):c+=m:m==="["?(f=!0,c&&(n.push(c),c="")):m==="."?c&&(n.push(c),c=""):c+=m,l++}return c&&n.push(c),n}e.toPath=t})(Ff)),Ff}var iy;function hp(){return iy||(iy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk(),r=kj(),n=Aj(),s=mp();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?r.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l})(Df)),Df}var zf,sy;function Kk(){return sy||(sy=1,zf=hp().get),zf}var Vk=Kk();const Za=Pn(Vk);var Bf={exports:{}},Ue={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function Hk(){if(oy)return Ue;oy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),j=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var y=w.$$typeof;switch(y){case e:switch(w=w.type,w){case r:case s:case n:case f:case m:case v:return w;default:switch(w=w&&w.$$typeof,w){case c:case d:case g:case h:return w;case l:return w;default:return y}}case t:return y}}}return Ue.ContextConsumer=l,Ue.ContextProvider=c,Ue.Element=e,Ue.ForwardRef=d,Ue.Fragment=r,Ue.Lazy=g,Ue.Memo=h,Ue.Portal=t,Ue.Profiler=s,Ue.StrictMode=n,Ue.Suspense=f,Ue.SuspenseList=m,Ue.isContextConsumer=function(w){return b(w)===l},Ue.isContextProvider=function(w){return b(w)===c},Ue.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ue.isForwardRef=function(w){return b(w)===d},Ue.isFragment=function(w){return b(w)===r},Ue.isLazy=function(w){return b(w)===g},Ue.isMemo=function(w){return b(w)===h},Ue.isPortal=function(w){return b(w)===t},Ue.isProfiler=function(w){return b(w)===s},Ue.isStrictMode=function(w){return b(w)===n},Ue.isSuspense=function(w){return b(w)===f},Ue.isSuspenseList=function(w){return b(w)===m},Ue.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===s||w===n||w===f||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===c||w.$$typeof===l||w.$$typeof===d||w.$$typeof===j||w.getModuleId!==void 0)},Ue.typeOf=b,Ue}var ly;function Yk(){return ly||(ly=1,Bf.exports=Hk()),Bf.exports}var Gk=Yk(),kt=e=>e===0?0:e>0?1:-1,mr=e=>typeof e=="number"&&e!=+e,Fa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,we=e=>(typeof e=="number"||e instanceof Number)&&!mr(e),en=e=>we(e)||typeof e=="string",Xk=0,po=e=>{var t=++Xk;return"".concat(e||"").concat(t)},Wt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&typeof t!="string")return n;var l;if(Fa(t)){if(r==null)return n;var c=t.indexOf("%");l=r*parseFloat(t.slice(0,c))/100}else l=+t;return mr(l)&&(l=n),s&&r!=null&&l>r&&(l=r),l},Oj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Rt(e,t,r){return we(e)&&we(t)?e+r*(t-e):t}function Qk(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Za(n,t))===r)}var At=e=>e===null||typeof e>"u",ko=e=>At(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Zk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pp(e){if(typeof e!="string")return!1;var t=Zk;return t.includes(e)}var Jk=["viewBox","children"],cy=["points","pathLength"],Uf={svg:Jk,polygon:cy,polyline:cy},eA=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(S.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{pp(s)&&(n[s]=(l=>r[s](r,l)))}),n},tA=(e,t,r)=>n=>(e(t,r,n),null),su=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var l=e[s];pp(s)&&typeof l=="function"&&(n||(n={}),n[s]=tA(l,t,r))}),n},rA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Mj(e){if(typeof e!="string")return!1;var t=rA;return t.includes(e)}function ni(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Mj(n)});return Object.fromEntries(t)}var uy=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dy=null,qf=null,Tj=e=>{if(e===dy&&Array.isArray(qf))return qf;var t=[];return S.Children.forEach(e,r=>{At(r)||(Gk.isFragment(r)?t=t.concat(Tj(r.props.children)):t.push(r))}),qf=t,dy=e,t};function gp(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>uy(s)):n=[uy(t)],Tj(e).forEach(s=>{var l=Za(s,"type.displayName")||Za(s,"type.name");n.indexOf(l)!==-1&&r.push(s)}),r}var nA=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=n&&Uf?.[n])!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!n&&l.includes(t)||Mj(t)),f=!!r&&pp(t);return c||d||f},mt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(l=>{var c;nA((c=n)===null||c===void 0?void 0:c[l],l,t,r)&&(s[l]=n[l])}),s},aA=["children","width","height","viewBox","className","style","title","desc"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}function iA(e,t){if(e==null)return{};var r,n,s=sA(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sA(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _j=S.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=iA(e,aA),g=l||{width:n,height:s,x:0,y:0},v=qe("recharts-surface",c);return S.createElement("svg",yh({},mt(h,!0,"svg"),{className:v,width:n,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),S.createElement("title",null,f),S.createElement("desc",null,m),r)}),oA=["children","className"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(null,arguments)}function lA(e,t){if(e==null)return{};var r,n,s=cA(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cA(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nr=S.forwardRef((e,t)=>{var{children:r,className:n}=e,s=lA(e,oA),l=qe("recharts-layer",n);return S.createElement("g",bh({className:l},mt(s,!0),{ref:t}),r)}),uA=dj(),dA=S.createContext(null);function He(e){return function(){return e}}const Ij=Math.cos,wc=Math.sin,qr=Math.sqrt,jc=Math.PI,ou=2*jc,wh=Math.PI,jh=2*wh,Da=1e-6,fA=jh-Da;function Dj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mA(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Dj;const r=10**t;return function(n){this._+=n[0];for(let s=1,l=n.length;s<l;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class hA{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Dj:mA(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,l,c){this._append`C${+t},${+r},${+n},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,r,n,s,l){if(t=+t,r=+r,n=+n,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=n-t,m=s-r,h=c-t,g=d-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Da)if(!(Math.abs(g*f-m*h)>Da)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let j=n-c,b=s-d,w=f*f+m*m,y=j*j+b*b,P=Math.sqrt(w),C=Math.sqrt(v),E=l*Math.tan((wh-Math.acos((w+v-y)/(2*P*C)))/2),k=E/C,O=E/P;Math.abs(k-1)>Da&&this._append`L${t+k*h},${r+k*g}`,this._append`A${l},${l},0,0,${+(g*j>h*b)},${this._x1=t+O*f},${this._y1=r+O*m}`}}arc(t,r,n,s,l,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),f=n*Math.sin(s),m=t+d,h=r+f,g=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>Da||Math.abs(this._y1-h)>Da)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%jh+jh),v>fA?this._append`A${n},${n},0,1,${g},${t-d},${r-f}A${n},${n},0,1,${g},${this._x1=m},${this._y1=h}`:v>Da&&this._append`A${n},${n},0,${+(v>=wh)},${g},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function vp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new hA(t)}function xp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rj(e){this._context=e}Rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lu(e){return new Rj(e)}function Lj(e){return e[0]}function $j(e){return e[1]}function Fj(e,t){var r=He(!0),n=null,s=lu,l=null,c=vp(d);e=typeof e=="function"?e:e===void 0?Lj:He(e),t=typeof t=="function"?t:t===void 0?$j:He(t);function d(f){var m,h=(f=xp(f)).length,g,v=!1,j;for(n==null&&(l=s(j=c())),m=0;m<=h;++m)!(m<h&&r(g=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,m,f),+t(g,m,f));if(j)return l=null,j+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),d):t},d.defined=function(f){return arguments.length?(r=typeof f=="function"?f:He(!!f),d):r},d.curve=function(f){return arguments.length?(s=f,n!=null&&(l=s(n)),d):s},d.context=function(f){return arguments.length?(f==null?n=l=null:l=s(n=f),d):n},d}function Jl(e,t,r){var n=null,s=He(!0),l=null,c=lu,d=null,f=vp(m);e=typeof e=="function"?e:e===void 0?Lj:He(+e),t=typeof t=="function"?t:He(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?$j:He(+r);function m(g){var v,j,b,w=(g=xp(g)).length,y,P=!1,C,E=new Array(w),k=new Array(w);for(l==null&&(d=c(C=f())),v=0;v<=w;++v){if(!(v<w&&s(y=g[v],v,g))===P)if(P=!P)j=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),b=v-1;b>=j;--b)d.point(E[b],k[b]);d.lineEnd(),d.areaEnd()}P&&(E[v]=+e(y,v,g),k[v]=+t(y,v,g),d.point(n?+n(y,v,g):E[v],r?+r(y,v,g):k[v]))}if(C)return d=null,C+""||null}function h(){return Fj().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:He(+g),n=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:He(+g),m):e},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:He(+g),m):n},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:He(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:He(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:He(+g),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:He(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class zj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pA(e){return new zj(e,!0)}function gA(e){return new zj(e,!1)}const yp={draw(e,t){const r=qr(t/jc);e.moveTo(r,0),e.arc(0,0,r,0,ou)}},vA={draw(e,t){const r=qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Bj=qr(1/3),xA=Bj*2,yA={draw(e,t){const r=qr(t/xA),n=r*Bj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},bA={draw(e,t){const r=qr(t),n=-r/2;e.rect(n,n,r,r)}},wA=.8908130915292852,Uj=wc(jc/10)/wc(7*jc/10),jA=wc(ou/10)*Uj,NA=-Ij(ou/10)*Uj,SA={draw(e,t){const r=qr(t*wA),n=jA*r,s=NA*r;e.moveTo(0,-r),e.lineTo(n,s);for(let l=1;l<5;++l){const c=ou*l/5,d=Ij(c),f=wc(c);e.lineTo(f*r,-d*r),e.lineTo(d*n-f*s,f*n+d*s)}e.closePath()}},Wf=qr(3),PA={draw(e,t){const r=-qr(t/(Wf*3));e.moveTo(0,r*2),e.lineTo(-Wf*r,-r),e.lineTo(Wf*r,-r),e.closePath()}},Nr=-.5,Sr=qr(3)/2,Nh=1/qr(12),CA=(Nh/2+1)*3,EA={draw(e,t){const r=qr(t/CA),n=r/2,s=r*Nh,l=n,c=r*Nh+r,d=-l,f=c;e.moveTo(n,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(Nr*n-Sr*s,Sr*n+Nr*s),e.lineTo(Nr*l-Sr*c,Sr*l+Nr*c),e.lineTo(Nr*d-Sr*f,Sr*d+Nr*f),e.lineTo(Nr*n+Sr*s,Nr*s-Sr*n),e.lineTo(Nr*l+Sr*c,Nr*c-Sr*l),e.lineTo(Nr*d+Sr*f,Nr*f-Sr*d),e.closePath()}};function kA(e,t){let r=null,n=vp(s);e=typeof e=="function"?e:He(e||yp),t=typeof t=="function"?t:He(t===void 0?64:+t);function s(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:He(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),s):t},s.context=function(l){return arguments.length?(r=l??null,s):r},s}function Nc(){}function Sc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qj(e){this._context=e}qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AA(e){return new qj(e)}function Wj(e){this._context=e}Wj.prototype={areaStart:Nc,areaEnd:Nc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OA(e){return new Wj(e)}function Kj(e){this._context=e}Kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MA(e){return new Kj(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:Nc,areaEnd:Nc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TA(e){return new Vj(e)}function fy(e){return e<0?-1:1}function my(e,t,r){var n=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(n||s<0&&-0),c=(r-e._y1)/(s||n<0&&-0),d=(l*s+c*n)/(n+s);return(fy(l)+fy(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function hy(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kf(e,t,r){var n=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-n)/3;e._context.bezierCurveTo(n+d,s+d*t,l-d,c-d*r,l,c)}function Pc(e){this._context=e}Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kf(this,this._t0,hy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kf(this,hy(this,r=my(this,e,t)),r);break;default:Kf(this,this._t0,r=my(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Hj(e){this._context=new Yj(e)}(Hj.prototype=Object.create(Pc.prototype)).point=function(e,t){Pc.prototype.point.call(this,t,e)};function Yj(e){this._context=e}Yj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,l){this._context.bezierCurveTo(t,e,n,r,l,s)}};function _A(e){return new Pc(e)}function IA(e){return new Hj(e)}function Gj(e){this._context=e}Gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=py(e),s=py(t),l=0,c=1;c<r;++l,++c)this._context.bezierCurveTo(n[0][l],s[0][l],n[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function py(e){var t,r=e.length-1,n,s=new Array(r),l=new Array(r),c=new Array(r);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,l[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/l[t-1],l[t]-=n,c[t]-=n*c[t-1];for(s[r-1]=c[r-1]/l[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function DA(e){return new Gj(e)}function cu(e,t){this._context=e,this._t=t}cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function RA(e){return new cu(e,.5)}function LA(e){return new cu(e,0)}function $A(e){return new cu(e,1)}function Ki(e,t){if((c=e.length)>1)for(var r=1,n,s,l=e[t[0]],c,d=l.length;r<c;++r)for(s=l,l=e[t[r]],n=0;n<d;++n)l[n][1]+=l[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Sh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function FA(e,t){return e[t]}function zA(e){const t=[];return t.key=e,t}function BA(){var e=He([]),t=Sh,r=Ki,n=FA;function s(l){var c=Array.from(e.apply(this,arguments),zA),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+n(g,c[d].key,m,l)]).data=g;for(d=0,h=xp(t(c));d<f;++d)c[h[d]].index=d;return r(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:He(Array.from(l)),s):e},s.value=function(l){return arguments.length?(n=typeof l=="function"?l:He(+l),s):n},s.order=function(l){return arguments.length?(t=l==null?Sh:typeof l=="function"?l:He(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(r=l??Ki,s):r},s}function UA(e,t){if((n=e.length)>0){for(var r,n,s=0,l=e[0].length,c;s<l;++s){for(c=r=0;r<n;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<n;++r)e[r][s][1]/=c}Ki(e,t)}}function qA(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,l=n.length;r<l;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;n[r][1]+=n[r][0]=-d/2}Ki(e,t)}}function WA(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,l,c;n<l;++n){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[n][1]||0,v=h[n-1][1]||0,j=(g-v)/2,b=0;b<d;++b){var w=e[t[b]],y=w[n][1]||0,P=w[n-1][1]||0;j+=y-P}f+=g,m+=j*g}s[n-1][1]+=s[n-1][0]=r,f&&(r-=m/f)}s[n-1][1]+=s[n-1][0]=r,Ki(e,t)}}var KA=["type","size","sizeType"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gy(Object(r),!0).forEach(function(n){VA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VA(e,t,r){return(t=HA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HA(e){var t=YA(e,"string");return typeof t=="symbol"?t:t+""}function YA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GA(e,t){if(e==null)return{};var r,n,s=XA(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XA(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xj={symbolCircle:yp,symbolCross:vA,symbolDiamond:yA,symbolSquare:bA,symbolStar:SA,symbolTriangle:PA,symbolWye:EA},QA=Math.PI/180,ZA=e=>{var t="symbol".concat(ko(e));return Xj[t]||yp},JA=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*QA;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eO=(e,t)=>{Xj["symbol".concat(ko(e))]=t},Qj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=GA(e,KA),l=vy(vy({},s),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=ZA(c),j=kA().type(v).size(JA(r,n,c));return j()},{className:f,cx:m,cy:h}=l,g=mt(l,!0);return m===+m&&h===+h&&r===+r?S.createElement("path",Ph({},g,{className:qe("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};Qj.registerSymbol=eO;var Vf={},Hf={},xy;function tO(){return xy||(xy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let l=0;l<r.length;l++){const c=r[l],d=n(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(Hf)),Hf}var Yf={},yy;function Zj(){return yy||(yy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Yf)),Yf}var Gf={},Xf={},Qf={},by;function rO(){return by||(by=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Qf)),Qf}var wy;function bp(){return wy||(wy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Xf)),Xf}var Zf={},jy;function nO(){return jy||(jy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Zf)),Zf}var Ny;function aO(){return Ny||(Ny=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bp(),r=nO();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Gf)),Gf}var Jf={},em={},Sy;function iO(){return Sy||(Sy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hp();function r(n){return function(s){return t.get(s,n)}}e.property=r})(em)),em}var tm={},rm={},nm={},am={},Py;function Jj(){return Py||(Py=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(am)),am}var im={},Cy;function eN(){return Cy||(Cy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(im)),im}var sm={},Ey;function tN(){return Ey||(Ey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(sm)),sm}var ky;function sO(){return ky||(ky=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wp(),r=Jj(),n=eN(),s=tN();function l(g,v,j){return typeof j!="function"?t.isMatch(g,v):c(g,v,function b(w,y,P,C,E,k){const O=j(w,y,P,C,E,k);return O!==void 0?!!O:c(w,y,b,k)},new Map)}function c(g,v,j,b){if(v===g)return!0;switch(typeof v){case"object":return d(g,v,j,b);case"function":return Object.keys(v).length>0?c(g,{...v},j,b):s.eq(g,v);default:return r.isObject(g)?typeof v=="string"?v==="":!0:s.eq(g,v)}}function d(g,v,j,b){if(v==null)return!0;if(Array.isArray(v))return m(g,v,j,b);if(v instanceof Map)return f(g,v,j,b);if(v instanceof Set)return h(g,v,j,b);const w=Object.keys(v);if(g==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(v))return b.get(v)===g;b&&b.set(v,g);try{for(let y=0;y<w.length;y++){const P=w[y];if(!n.isPrimitive(g)&&!(P in g)||v[P]===void 0&&g[P]!==void 0||v[P]===null&&g[P]!==null||!j(g[P],v[P],P,g,v,b))return!1}return!0}finally{b&&b.delete(v)}}function f(g,v,j,b){if(v.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,y]of v.entries()){const P=g.get(w);if(j(P,y,w,g,v,b)===!1)return!1}return!0}function m(g,v,j,b){if(v.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let y=0;y<v.length;y++){const P=v[y];let C=!1;for(let E=0;E<g.length;E++){if(w.has(E))continue;const k=g[E];let O=!1;if(j(k,P,y,g,v,b)&&(O=!0),O){w.add(E),C=!0;break}}if(!C)return!1}return!0}function h(g,v,j,b){return v.size===0?!0:g instanceof Set?m([...g],[...v],j,b):!1}e.isMatchWith=l,e.isSetMatch=h})(nm)),nm}var Ay;function wp(){return Ay||(Ay=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(rm)),rm}var om={},lm={},cm={},Oy;function oO(){return Oy||(Oy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cm)),cm}var um={},My;function rN(){return My||(My=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(um)),um}var dm={},Ty;function nN(){return Ty||(Ty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",j="[object Object]",b="[object Error]",w="[object DataView]",y="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",I="[object Int32Array]",K="[object BigInt64Array]",V="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=K,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=w,e.dateTag=d,e.errorTag=b,e.float32ArrayTag=V,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=M,e.int32ArrayTag=I,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=n,e.objectTag=j,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=E,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=P})(dm)),dm}var fm={},_y;function lO(){return _y||(_y=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fm)),fm}var Iy;function aN(){return Iy||(Iy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oO(),r=rN(),n=nN(),s=eN(),l=lO();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,v,j=new Map,b=void 0){const w=b?.(h,g,v,j);if(w!==void 0)return w;if(s.isPrimitive(h))return h;if(j.has(h))return j.get(h);if(Array.isArray(h)){const y=new Array(h.length);j.set(h,y);for(let P=0;P<h.length;P++)y[P]=d(h[P],P,v,j,b);return Object.hasOwn(h,"index")&&(y.index=h.index),Object.hasOwn(h,"input")&&(y.input=h.input),y}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const y=new RegExp(h.source,h.flags);return y.lastIndex=h.lastIndex,y}if(h instanceof Map){const y=new Map;j.set(h,y);for(const[P,C]of h)y.set(P,d(C,P,v,j,b));return y}if(h instanceof Set){const y=new Set;j.set(h,y);for(const P of h)y.add(d(P,void 0,v,j,b));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const y=new(Object.getPrototypeOf(h)).constructor(h.length);j.set(h,y);for(let P=0;P<h.length;P++)y[P]=d(h[P],P,v,j,b);return y}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const y=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return j.set(h,y),f(y,h,v,j,b),y}if(typeof File<"u"&&h instanceof File){const y=new File([h],h.name,{type:h.type});return j.set(h,y),f(y,h,v,j,b),y}if(h instanceof Blob){const y=new Blob([h],{type:h.type});return j.set(h,y),f(y,h,v,j,b),y}if(h instanceof Error){const y=new h.constructor;return j.set(h,y),y.message=h.message,y.name=h.name,y.stack=h.stack,y.cause=h.cause,f(y,h,v,j,b),y}if(typeof h=="object"&&m(h)){const y=Object.create(Object.getPrototypeOf(h));return j.set(h,y),f(y,h,v,j,b),y}return h}function f(h,g,v=h,j,b){const w=[...Object.keys(g),...t.getSymbols(g)];for(let y=0;y<w.length;y++){const P=w[y],C=Object.getOwnPropertyDescriptor(h,P);(C==null||C.writable)&&(h[P]=d(g[P],P,v,j,b))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f})(lm)),lm}var Dy;function cO(){return Dy||(Dy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(om)),om}var Ry;function uO(){return Ry||(Ry=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wp(),r=cO();function n(s){return s=r.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=n})(tm)),tm}var mm={},hm={},pm={},Ly;function dO(){return Ly||(Ly=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN(),r=nN();function n(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l?.(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(pm)),pm}var $y;function fO(){return $y||($y=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(hm)),hm}var gm={},vm={},Fy;function iN(){return Fy||(Fy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vm)),vm}var xm={},zy;function mO(){return zy||(zy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xm)),xm}var By;function hO(){return By||(By=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj(),r=iN(),n=mO(),s=mp();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l})(gm)),gm}var Uy;function pO(){return Uy||(Uy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wp(),r=Aj(),n=fO(),s=hp(),l=hO();function c(d,f){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return f=n.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(mm)),mm}var qy;function gO(){return qy||(qy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),r=iO(),n=uO(),s=pO();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=l})(Jf)),Jf}var Wy;function vO(){return Wy||(Wy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO(),r=Zj(),n=aO(),s=gO();function l(c,d=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l})(Vf)),Vf}var ym,Ky;function xO(){return Ky||(Ky=1,ym=vO().uniqBy),ym}var yO=xO();const Vy=Pn(yO);function bO(e,t,r){return t===!0?Vy(e,r):typeof t=="function"?Vy(e,t):e}var bm={exports:{}},wm={},jm={exports:{}},Nm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function wO(){if(Hy)return Nm;Hy=1;var e=es();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,v){var j=v(),b=n({inst:{value:j,getSnapshot:v}}),w=b[0].inst,y=b[1];return l(function(){w.value=j,w.getSnapshot=v,f(w)&&y({inst:w})},[g,j,v]),s(function(){return f(w)&&y({inst:w}),g(function(){f(w)&&y({inst:w})})},[g]),c(j),j}function f(g){var v=g.getSnapshot;g=g.value;try{var j=v();return!r(g,j)}catch{return!0}}function m(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Nm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Nm}var Yy;function jO(){return Yy||(Yy=1,jm.exports=wO()),jm.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function NO(){if(Gy)return wm;Gy=1;var e=es(),t=jO();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return wm.useSyncExternalStoreWithSelector=function(m,h,g,v,j){var b=l(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=d(function(){function P(M){if(!C){if(C=!0,E=M,M=v(M),j!==void 0&&w.hasValue){var I=w.value;if(j(I,M))return k=I}return k=M}if(I=k,n(E,M))return I;var K=v(M);return j!==void 0&&j(I,K)?(E=M,I):(E=M,k=K)}var C=!1,E,k,O=g===void 0?null:g;return[function(){return P(h())},O===null?void 0:function(){return P(O())}]},[h,g,v,j]);var y=s(m,b[0],b[1]);return c(function(){w.hasValue=!0,w.value=y},[y]),f(y),y},wm}var Xy;function SO(){return Xy||(Xy=1,bm.exports=NO()),bm.exports}var PO=SO(),jp=S.createContext(null),CO=e=>e,ut=()=>{var e=S.useContext(jp);return e?e.store.dispatch:CO},gc=()=>{},EO=()=>gc,kO=(e,t)=>e===t;function be(e){var t=S.useContext(jp);return PO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:EO,t?t.store.getState:gc,t?t.store.getState:gc,t?e:gc,kO)}function AO(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OO(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function MO(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Qy=e=>Array.isArray(e)?e:[e];function TO(e){const t=Array.isArray(e[0])?e[0]:e;return MO(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _O(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var IO=class{constructor(e){this.value=e}deref(){return this.value}},DO=typeof WeakRef<"u"?WeakRef:IO,RO=0,Zy=1;function ec(){return{s:RO,v:void 0,o:null,p:null}}function sN(e,t={}){let r=ec();const{resultEqualityCheck:n}=t;let s,l=0;function c(){let d=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const j=arguments[g];if(typeof j=="function"||typeof j=="object"&&j!==null){let b=d.o;b===null&&(d.o=b=new WeakMap);const w=b.get(j);w===void 0?(d=ec(),b.set(j,d)):d=w}else{let b=d.p;b===null&&(d.p=b=new Map);const w=b.get(j);w===void 0?(d=ec(),b.set(j,d)):d=w}}const m=d;let h;if(d.s===Zy)h=d.v;else if(h=e.apply(null,arguments),l++,n){const g=s?.deref?.()??s;g!=null&&n(g,h)&&(h=g,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new DO(h):h}return m.s=Zy,m.v=h,h}return c.clearCache=()=>{r=ec(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function LO(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),AO(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:j=sN,argsMemoizeOptions:b=[]}=h,w=Qy(v),y=Qy(b),P=TO(s),C=g(function(){return l++,m.apply(null,arguments)},...w),E=j(function(){c++;const O=_O(P,arguments);return d=C.apply(null,O),d},...y);return Object.assign(E,{resultFunc:m,memoizedResultFunc:C,dependencies:P,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:j})};return Object.assign(n,{withTypes:()=>n}),n}var Y=LO(sN),$O=Object.assign((e,t=Y)=>{OO(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((c,d,f)=>(c[r[f]]=d,c),{}))},{withTypes:()=>$O}),Sm={},Pm={},Cm={},Jy;function FO(){return Jy||(Jy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,l)=>{if(n!==s){const c=t(n),d=t(s);if(c===d&&c===0){if(n<s)return l==="desc"?1:-1;if(n>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=r})(Cm)),Cm}var Em={},km={},eb;function oN(){return eb||(eb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(km)),km}var tb;function zO(){return tb||(tb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s})(Em)),Em}var rb;function BO(){return rb||(rb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),r=zO(),n=mp();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(j=>String(j));const m=(j,b)=>{let w=j;for(let y=0;y<b.length&&w!=null;++y)w=w[b[y]];return w},h=(j,b)=>b==null||j==null?b:typeof j=="object"&&"key"in j?Object.hasOwn(b,j.key)?b[j.key]:m(b,j.path):typeof j=="function"?j(b):Array.isArray(j)?m(b,j):typeof b=="object"?b[j]:b,g=c.map(j=>(Array.isArray(j)&&j.length===1&&(j=j[0]),j==null||typeof j=="function"||Array.isArray(j)||r.isKey(j)?j:{key:j,path:n.toPath(j)}));return l.map(j=>({original:j,criteria:g.map(b=>h(b,j))})).slice().sort((j,b)=>{for(let w=0;w<g.length;w++){const y=t.compareValues(j.criteria[w],b.criteria[w],d[w]);if(y!==0)return y}return 0}).map(j=>j.original)}e.orderBy=s})(Pm)),Pm}var Am={},nb;function UO(){return nb||(nb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],l=Math.floor(n),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t})(Am)),Am}var Om={},ab;function lN(){return ab||(ab=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iN(),r=bp(),n=Jj(),s=tN();function l(c,d,f){return n.isObject(f)&&(typeof d=="number"&&r.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l})(Om)),Om}var ib;function qO(){return ib||(ib=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BO(),r=UO(),n=lN();function s(l,...c){const d=c.length;return d>1&&n.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,r.flatten(c),["asc"])}e.sortBy=s})(Sm)),Sm}var Mm,sb;function WO(){return sb||(sb=1,Mm=qO().sortBy),Mm}var KO=WO();const uu=Pn(KO);var cN=e=>e.legend.settings,VO=e=>e.legend.size,HO=e=>e.legend.payload;Y([HO,cN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?uu(n,r):n});var tc=1;function YO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=S.useState({height:0,left:0,top:0,width:0}),n=S.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>tc||Math.abs(c.left-t.left)>tc||Math.abs(c.top-t.top)>tc||Math.abs(c.width-t.width)>tc)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function It(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GO=typeof Symbol=="function"&&Symbol.observable||"@@observable",ob=GO,Tm=()=>Math.random().toString(36).substring(7).split("").join("."),XO={INIT:`@@redux/INIT${Tm()}`,REPLACE:`@@redux/REPLACE${Tm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tm()}`},Cc=XO;function Np(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uN(e,t,r){if(typeof e!="function")throw new Error(It(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(It(1));return r(uN)(e,t)}let n=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((y,P)=>{c.set(P,y)}))}function h(){if(f)throw new Error(It(3));return s}function g(y){if(typeof y!="function")throw new Error(It(4));if(f)throw new Error(It(5));let P=!0;m();const C=d++;return c.set(C,y),function(){if(P){if(f)throw new Error(It(6));P=!1,m(),c.delete(C),l=null}}}function v(y){if(!Np(y))throw new Error(It(7));if(typeof y.type>"u")throw new Error(It(8));if(typeof y.type!="string")throw new Error(It(17));if(f)throw new Error(It(9));try{f=!0,s=n(s,y)}finally{f=!1}return(l=c).forEach(C=>{C()}),y}function j(y){if(typeof y!="function")throw new Error(It(10));n=y,v({type:Cc.REPLACE})}function b(){const y=g;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(It(11));function C(){const k=P;k.next&&k.next(h())}return C(),{unsubscribe:y(C)}},[ob](){return this}}}return v({type:Cc.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:j,[ob]:b}}function QO(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Cc.INIT})>"u")throw new Error(It(12));if(typeof r(void 0,{type:Cc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function dN(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let s;try{QO(r)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<n.length;h++){const g=n[h],v=r[g],j=c[g],b=v(j,d);if(typeof b>"u")throw d&&d.type,new Error(It(14));m[g]=b,f=f||b!==j}return f=f||n.length!==Object.keys(c).length,f?m:c}}function Ec(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ZO(...e){return t=>(r,n)=>{const s=t(r,n);let l=()=>{throw new Error(It(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Ec(...d)(s.dispatch),{...s,dispatch:l}}}function fN(e){return Np(e)&&"type"in e&&typeof e.type=="string"}var mN=Symbol.for("immer-nothing"),lb=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Br(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vi=Object.getPrototypeOf;function Ja(e){return!!e&&!!e[hr]}function wn(e){return e?hN(e)||Array.isArray(e)||!!e[lb]||!!e.constructor?.[lb]||Ao(e)||fu(e):!1}var JO=Object.prototype.constructor.toString();function hN(e){if(!e||typeof e!="object")return!1;const t=Vi(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===JO}function kc(e,t){du(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function du(e){const t=e[hr];return t?t.type_:Array.isArray(e)?1:Ao(e)?2:fu(e)?3:0}function Ch(e,t){return du(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pN(e,t,r){const n=du(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function eM(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ao(e){return e instanceof Map}function fu(e){return e instanceof Set}function Ra(e){return e.copy_||e.base_}function Eh(e,t){if(Ao(e))return new Map(e);if(fu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hr];let s=Reflect.ownKeys(n);for(let l=0;l<s.length;l++){const c=s[l],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Vi(e),n)}else{const n=Vi(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Sp(e,t=!1){return mu(e)||Ja(e)||!wn(e)||(du(e)>1&&Object.defineProperties(e,{set:{value:rc},add:{value:rc},clear:{value:rc},delete:{value:rc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Sp(r,!0))),e}function rc(){Br(2)}function mu(e){return Object.isFrozen(e)}var tM={};function ei(e){const t=tM[e];return t||Br(0,e),t}var go;function gN(){return go}function rM(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cb(e,t){t&&(ei("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kh(e){Ah(e),e.drafts_.forEach(nM),e.drafts_=null}function Ah(e){e===go&&(go=e.parent_)}function ub(e){return go=rM(go,e)}function nM(e){const t=e[hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function db(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hr].modified_&&(kh(t),Br(4)),wn(e)&&(e=Ac(t,e),t.parent_||Oc(t,e)),t.patches_&&ei("Patches").generateReplacementPatches_(r[hr].base_,e,t.patches_,t.inversePatches_)):e=Ac(t,r,[]),kh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mN?e:void 0}function Ac(e,t,r){if(mu(t))return t;const n=t[hr];if(!n)return kc(t,(s,l)=>fb(e,n,t,s,l,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Oc(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let l=s,c=!1;n.type_===3&&(l=new Set(s),s.clear(),c=!0),kc(l,(d,f)=>fb(e,n,s,d,f,r,c)),Oc(e,s,!1),r&&e.patches_&&ei("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function fb(e,t,r,n,s,l,c){if(Ja(s)){const d=l&&t&&t.type_!==3&&!Ch(t.assigned_,n)?l.concat(n):void 0,f=Ac(e,s,d);if(pN(r,n,f),Ja(f))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(wn(s)&&!mu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ac(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ao(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Oc(e,s)}}function Oc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sp(t,r)}function aM(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:gN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,l=Pp;r&&(s=[n],l=vo);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return n.draft_=d,n.revoke_=c,d}var Pp={get(e,t){if(t===hr)return e;const r=Ra(e);if(!Ch(r,t))return iM(e,r,t);const n=r[t];return e.finalized_||!wn(n)?n:n===_m(e.base_,t)?(Im(e),e.copy_[t]=Mh(n,e)):n},has(e,t){return t in Ra(e)},ownKeys(e){return Reflect.ownKeys(Ra(e))},set(e,t,r){const n=vN(Ra(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=_m(Ra(e),t),l=s?.[hr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(eM(r,s)&&(r!==void 0||Ch(e.base_,t)))return!0;Im(e),Oh(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _m(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Im(e),Oh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Br(11)},getPrototypeOf(e){return Vi(e.base_)},setPrototypeOf(){Br(12)}},vo={};kc(Pp,(e,t)=>{vo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vo.deleteProperty=function(e,t){return vo.set.call(this,e,t,void 0)};vo.set=function(e,t,r){return Pp.set.call(this,e[0],t,r,e[0])};function _m(e,t){const r=e[hr];return(r?Ra(r):e)[t]}function iM(e,t,r){const n=vN(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function vN(e,t){if(!(t in e))return;let r=Vi(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Vi(r)}}function Oh(e){e.modified_||(e.modified_=!0,e.parent_&&Oh(e.parent_))}function Im(e){e.copy_||(e.copy_=Eh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var sM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&Br(6),n!==void 0&&typeof n!="function"&&Br(7);let s;if(wn(t)){const l=ub(this),c=Mh(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?kh(l):Ah(l)}return cb(l,n),db(s,l)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===mN&&(s=void 0),this.autoFreeze_&&Sp(s,!0),n){const l=[],c=[];ei("Patches").generateReplacementPatches_(t,s,l,c),n(l,c)}return s}else Br(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let n,s;return[this.produce(t,r,(c,d)=>{n=c,s=d}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wn(e)||Br(8),Ja(e)&&(e=xn(e));const t=ub(this),r=Mh(e,void 0);return r[hr].isManual_=!0,Ah(t),r}finishDraft(e,t){const r=e&&e[hr];(!r||!r.isManual_)&&Br(9);const{scope_:n}=r;return cb(n,t),db(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ei("Patches").applyPatches_;return Ja(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Mh(e,t){const r=Ao(e)?ei("MapSet").proxyMap_(e,t):fu(e)?ei("MapSet").proxySet_(e,t):aM(e,t);return(t?t.scope_:gN()).drafts_.push(r),r}function xn(e){return Ja(e)||Br(10,e),xN(e)}function xN(e){if(!wn(e)||mu(e))return e;const t=e[hr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Eh(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Eh(e,!0);return kc(r,(n,s)=>{pN(r,n,xN(s))}),t&&(t.finalized_=!1),r}var oM=new sM,yN=oM.produce;function bN(e){return({dispatch:r,getState:n})=>s=>l=>typeof l=="function"?l(r,n,e):s(l)}var lM=bN(),cM=bN,uM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ec:Ec.apply(null,arguments)};function Ar(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(fr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>fN(n)&&n.type===e,r}var wN=class co extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,co.prototype)}static get[Symbol.species](){return co}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new co(...t[0].concat(this)):new co(...t.concat(this))}};function mb(e){return wn(e)?yN(e,()=>{}):e}function nc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function dM(e){return typeof e=="boolean"}var fM=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new wN;return r&&(dM(r)?c.push(lM):c.push(cM(r.extraArgument))),c},mM="RTK_autoBatch",hb=e=>t=>{setTimeout(t,e)},hM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hb(10):e.type==="callback"?e.queueNotification:hb(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const g=()=>s&&h(),v=n.subscribe(g);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){try{return s=!h?.meta?.[mM],l=!s,l&&(c||(c=!0,f(m))),n.dispatch(h)}finally{s=!0}}})},pM=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new wN(e);return n&&s.push(hM(typeof n=="object"?n:void 0)),s};function gM(e){const t=fM(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Np(r))d=dN(r);else throw new Error(fr(1));let f;typeof n=="function"?f=n(t):f=t();let m=Ec;s&&(m=uM({trace:!1,...typeof s=="object"&&s}));const h=ZO(...f),g=pM(h);let v=typeof c=="function"?c(g):g();const j=m(...v);return uN(d,l,j)}function jN(e){const t={},r=[];let n;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(fr(28));if(d in t)throw new Error(fr(29));return t[d]=c,s},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return r.push({matcher:l,reducer:c}),s},addDefaultCase(l){return n=l,s}};return e(s),[t,r,n]}function vM(e){return typeof e=="function"}function xM(e,t){let[r,n,s]=jN(t),l;if(vM(e))l=()=>mb(e());else{const d=mb(e);l=()=>d}function c(d=l(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(Ja(h)){const j=g(h,f);return j===void 0?h:j}else{if(wn(h))return yN(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var yM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bM=(e=21)=>{let t="",r=e;for(;r--;)t+=yM[Math.random()*64|0];return t},wM=Symbol.for("rtk-slice-createasyncthunk");function jM(e,t){return`${e}/${t}`}function NM({creators:e}={}){const t=e?.asyncThunk?.[wM];return function(n){const{name:s,reducerPath:l=s}=n;if(!s)throw new Error(fr(11));const c=(typeof n.reducers=="function"?n.reducers(PM()):n.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(E,k){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(fr(12));if(O in f.sliceCaseReducersByType)throw new Error(fr(13));return f.sliceCaseReducersByType[O]=k,m},addMatcher(E,k){return f.sliceMatchers.push({matcher:E,reducer:k}),m},exposeAction(E,k){return f.actionCreators[E]=k,m},exposeCaseReducer(E,k){return f.sliceCaseReducersByName[E]=k,m}};d.forEach(E=>{const k=c[E],O={reducerName:E,type:jM(s,E),createNotation:typeof n.reducers=="function"};EM(k)?AM(O,k,m,t):CM(O,k,m)});function h(){const[E={},k=[],O=void 0]=typeof n.extraReducers=="function"?jN(n.extraReducers):[n.extraReducers],M={...E,...f.sliceCaseReducersByType};return xM(n.initialState,I=>{for(let K in M)I.addCase(K,M[K]);for(let K of f.sliceMatchers)I.addMatcher(K.matcher,K.reducer);for(let K of k)I.addMatcher(K.matcher,K.reducer);O&&I.addDefaultCase(O)})}const g=E=>E,v=new Map,j=new WeakMap;let b;function w(E,k){return b||(b=h()),b(E,k)}function y(){return b||(b=h()),b.getInitialState()}function P(E,k=!1){function O(I){let K=I[E];return typeof K>"u"&&k&&(K=nc(j,O,y)),K}function M(I=g){const K=nc(v,k,()=>new WeakMap);return nc(K,I,()=>{const V={};for(const[L,z]of Object.entries(n.selectors??{}))V[L]=SM(z,I,()=>nc(j,I,y),k);return V})}return{reducerPath:E,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const C={name:s,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:y,...P(l),injectInto(E,{reducerPath:k,...O}={}){const M=k??l;return E.inject({reducerPath:M,reducer:w},O),{...C,...P(M,!0)}}};return C}}function SM(e,t,r,n){function s(l,...c){let d=t(l);return typeof d>"u"&&n&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var gr=NM();function PM(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CM({type:e,reducerName:t,createNotation:r},n,s){let l,c;if("reducer"in n){if(r&&!kM(n))throw new Error(fr(17));l=n.reducer,c=n.prepare}else l=n;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Ar(e,c):Ar(e))}function EM(e){return e._reducerDefinitionType==="asyncThunk"}function kM(e){return e._reducerDefinitionType==="reducerWithPrepare"}function AM({type:e,reducerName:t},r,n,s){if(!s)throw new Error(fr(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=r,g=s(e,l,h);n.exposeAction(t,g),c&&n.addCase(g.fulfilled,c),d&&n.addCase(g.pending,d),f&&n.addCase(g.rejected,f),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(t,{fulfilled:c||ac,pending:d||ac,rejected:f||ac,settled:m||ac})}function ac(){}var OM="task",NN="listener",SN="completed",Cp="cancelled",MM=`task-${Cp}`,TM=`task-${SN}`,Th=`${NN}-${Cp}`,_M=`${NN}-${SN}`,hu=class{constructor(e){this.code=e,this.message=`${OM} ${Cp} (reason: ${e})`}name="TaskAbortError";message},Ep=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},Mc=()=>{},PN=(e,t=Mc)=>(e.catch(t),e),CN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ka=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Va=e=>{if(e.aborted){const{reason:t}=e;throw new hu(t)}};function EN(e,t){let r=Mc;return new Promise((n,s)=>{const l=()=>s(new hu(e.reason));if(e.aborted){l();return}r=CN(e,l),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Mc})}var IM=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof hu?"cancelled":"rejected",error:r}}finally{t?.()}},Tc=e=>t=>PN(EN(e,t).then(r=>(Va(e),r))),kN=e=>{const t=Tc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:qi}=Object,pb={},pu="listenerMiddleware",DM=(e,t)=>{const r=n=>CN(e,()=>Ka(n,e.reason));return(n,s)=>{Ep(n);const l=new AbortController;r(l);const c=IM(async()=>{Va(e),Va(l.signal);const d=await n({pause:Tc(l.signal),delay:kN(l.signal),signal:l.signal});return Va(l.signal),d},()=>Ka(l,TM));return s?.autoJoin&&t.push(c.catch(Mc)),{result:Tc(e)(c),cancel(){Ka(l,MM)}}}},RM=(e,t)=>{const r=async(n,s)=>{Va(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await EN(t,Promise.race(d));return Va(t),f}finally{l()}};return(n,s)=>PN(r(n,s))},AN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:l}=e;if(t)s=Ar(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(fr(21));return Ep(l),{predicate:s,type:t,effect:l}},ON=qi(e=>{const{type:t,predicate:r,effect:n}=AN(e);return{id:bM(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>ON}),gb=(e,t)=>{const{type:r,effect:n,predicate:s}=AN(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===s)&&l.effect===n)},_h=e=>{e.pending.forEach(t=>{Ka(t,Th)})},LM=e=>()=>{e.forEach(_h),e.clear()},vb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},MN=qi(Ar(`${pu}/add`),{withTypes:()=>MN}),$M=Ar(`${pu}/removeAll`),TN=qi(Ar(`${pu}/remove`),{withTypes:()=>TN}),FM=(...e)=>{console.error(`${pu}/error`,...e)},Oo=(e={})=>{const t=new Map,{extra:r,onError:n=FM}=e;Ep(n);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g?.cancelActive&&_h(h)}),l=h=>{const g=gb(t,h)??ON(h);return s(g)};qi(l,{withTypes:()=>l});const c=h=>{const g=gb(t,h);return g&&(g.unsubscribe(),h.cancelActive&&_h(g)),!!g};qi(c,{withTypes:()=>c});const d=async(h,g,v,j)=>{const b=new AbortController,w=RM(l,b.signal),y=[];try{h.pending.add(b),await Promise.resolve(h.effect(g,qi({},v,{getOriginalState:j,condition:(P,C)=>w(P,C).then(Boolean),take:w,delay:kN(b.signal),pause:Tc(b.signal),extra:r,signal:b.signal,fork:DM(b.signal,y),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((P,C,E)=>{P!==b&&(Ka(P,Th),E.delete(P))})},cancel:()=>{Ka(b,Th),h.pending.delete(b)},throwIfCancelled:()=>{Va(b.signal)}})))}catch(P){P instanceof hu||vb(n,P,{raisedBy:"effect"})}finally{await Promise.all(y),Ka(b,_M),h.pending.delete(b)}},f=LM(t);return{middleware:h=>g=>v=>{if(!fN(v))return g(v);if(MN.match(v))return l(v.payload);if($M.match(v)){f();return}if(TN.match(v))return c(v.payload);let j=h.getState();const b=()=>{if(j===pb)throw new Error(fr(23));return j};let w;try{if(w=g(v),t.size>0){const y=h.getState(),P=Array.from(t.values());for(const C of P){let E=!1;try{E=C.predicate(v,y,j)}catch(k){E=!1,vb(n,k,{raisedBy:"predicate"})}E&&d(C,v,h,b)}}}finally{j=pb}return w},startListening:l,stopListening:c,clearListeners:f}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zM={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_N=gr({name:"chartLayout",initialState:zM,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:BM,setLayout:UM,setChartSize:qM,setScale:WM}=_N.actions,KM=_N.reducer;function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){VM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VM(e,t,r){return(t=HM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HM(e){var t=YM(e,"string");return typeof t=="symbol"?t:t+""}function YM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _c=Math.PI/180,GM=e=>e*180/Math.PI,ht=(e,t,r,n)=>({x:e+Math.cos(-_c*n)*r,y:t+Math.sin(-_c*n)*r}),IN=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XM=(e,t)=>{var{x:r,y:n}=e,{x:s,y:l}=t;return Math.sqrt((r-s)**2+(n-l)**2)},QM=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:l}=t,c=XM({x:r,y:n},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,f=Math.acos(d);return n>l&&(f=2*Math.PI-f),{radius:c,angle:GM(f),angleInRadian:f}},ZM=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),l=Math.min(n,s);return{startAngle:t-l*360,endAngle:r-l*360}},JM=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),l=Math.floor(n/360),c=Math.min(s,l);return e+c*360},e4=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:l}=QM({x:r,y:n},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=ZM(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?yb(yb({},t),{},{radius:s,angle:JM(h,t)}):null};function DN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){t4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t4(e,t,r){return(t=r4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e){var t=n4(e,"string");return typeof t=="symbol"?t:t+""}function n4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return At(e)||At(t)?r:en(t)?Za(e,t,r):typeof t=="function"?t(e):r}var a4=(e,t,r,n,s)=>{var l,c=-1,d=(l=t?.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?r[f-1].coordinate:r[d-1].coordinate,h=r[f].coordinate,g=f>=d-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(kt(h-m)!==kt(g-h)){var j=[];if(kt(g-h)===kt(s[1]-s[0])){v=g;var b=h+s[1]-s[0];j[0]=Math.min(b,(b+m)/2),j[1]=Math.max(b,(b+m)/2)}else{v=m;var w=g+s[1]-s[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var y=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>y[0]&&e<=y[1]||e>=j[0]&&e<=j[1]){({index:c}=r[f]);break}}else{var P=Math.min(m,g),C=Math.max(m,g);if(e>(P+h)/2&&e<=(C+h)/2){({index:c}=r[f]);break}}}else if(t){for(var E=0;E<d;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:c}=t[E]);break}}return c},i4=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&we(e[l]))return Cr(Cr({},e),{},{[l]:e[l]+(n||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&we(e[c]))return Cr(Cr({},e),{},{[c]:e[c]+(s||0)})}return e},ai=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",RN=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(r),c},LN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:v,axisType:j}=e;if(!c)return null;var b=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=s==="category"&&c.bandwidth?c.bandwidth()/b:0;if(w=j==="angleAxis"&&l&&l.length>=2?kt(l[0]-l[1])*2*w:w,g||v){var y=(g||v||[]).map((P,C)=>{var E=n?n.indexOf(P):P;return{coordinate:c(E)+w,value:P,offset:w,index:C}});return y.filter(P=>!mr(P.coordinate))}return f&&m?m.map((P,C)=>({coordinate:c(P)+w,value:P,index:C,offset:w})):c.ticks&&h!=null?c.ticks(h).map((P,C)=>({coordinate:c(P)+w,value:P,offset:w,index:C})):c.domain().map((P,C)=>({coordinate:c(P)+w,value:n?n[P]:P,index:C,offset:w}))},wb=1e-4,s4=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-wb,l=Math.max(n[0],n[1])+wb,c=e(t[0]),d=e(t[r-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[r-1]])}},o4=(e,t)=>{if(!t||t.length!==2||!we(t[0])||!we(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!we(e[0])||e[0]<r)&&(s[0]=r),(!we(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},l4=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,l=0,c=0;c<t;++c){var d=mr(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=s,e[c][r][1]=s+d,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+d,l=e[c][r][1])}},c4=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,l=0;l<t;++l){var c=mr(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},u4={sign:l4,expand:UA,none:Ki,silhouette:qA,wiggle:WA,positive:c4},d4=(e,t,r)=>{var n=u4[r],s=BA().keys(t).value((l,c)=>+Je(l,c,0)).order(Sh).offset(n);return s(e)};function f4(e){return e==null?void 0:String(e)}var jb=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var d=Je(l,t.dataKey,t.scale.domain()[c]);return At(d)?null:t.scale(d)-s/2+n},m4=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},h4=e=>{var t=e.flat(2).filter(we);return[Math.min(...t),Math.max(...t)]},p4=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],g4=(e,t,r)=>{if(e!=null)return p4(Object.keys(e).reduce((n,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=DN(m,t,r),g=h4(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},Nb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=uu(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function Pb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:l}=e;return Cr(Cr({},t),{},{dataKey:r,payload:n,value:s,name:l})}function gu(e,t){if(e)return String(e);if(typeof t=="string")return t}function v4(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return n?e4({x:e,y:t},n):null}var x4=(e,t,r,n)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=n;return Cr(Cr(Cr({},n),ht(n.cx,n.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=n;return Cr(Cr(Cr({},n),ht(n.cx,n.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},y4=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Cn=e=>e.layout.width,En=e=>e.layout.height,b4=e=>e.layout.scale,$N=e=>e.layout.margin,vu=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),xu=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),FN="data-recharts-item-index",zN="data-recharts-item-data-key",Mo=60;function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){w4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w4(e,t,r){return(t=j4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j4(e){var t=N4(e,"string");return typeof t=="symbol"?t:t+""}function N4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S4=e=>e.brush.height;function P4(e){var t=xu(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Mo;return r+s}return r},0)}function C4(e){var t=xu(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Mo;return r+s}return r},0)}function E4(e){var t=vu(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function k4(e){var t=vu(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var bt=Y([Cn,En,$N,S4,P4,C4,E4,k4,cN,VO],(e,t,r,n,s,l,c,d,f,m)=>{var h={left:(r.left||0)+s,right:(r.right||0)+l},g={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=ic(ic({},g),h),j=v.bottom;v.bottom+=n,v=i4(v,f,m);var b=e-v.left-v.right,w=t-v.top-v.bottom;return ic(ic({brushBottom:j},v),{},{width:Math.max(b,0),height:Math.max(w,0)})}),A4=Y(bt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ap=Y(Cn,En,(e,t)=>({x:0,y:0,width:e,height:t})),O4=S.createContext(null),Mr=()=>S.useContext(O4)!=null,yu=e=>e.brush,bu=Y([yu,bt,$N],(e,t,r)=>({height:e.height,x:we(e.x)?e.x:t.left,y:we(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:we(e.width)?e.width:t.width})),Op=()=>{var e,t=Mr(),r=be(A4),n=be(bu),s=(e=be(yu))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},M4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BN=()=>{var e;return(e=be(bt))!==null&&e!==void 0?e:M4},UN=()=>be(Cn),qN=()=>be(En),Le=e=>e.layout.layoutType,Mp=()=>be(Le),T4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WN=gr({name:"legend",initialState:T4,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=xn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:v9,setLegendSettings:x9,addLegendPayload:KN,removeLegendPayload:VN}=WN.actions,_4=WN.reducer;function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){I4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I4(e,t,r){return(t=D4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=R4(e,"string");return typeof t=="symbol"?t:t+""}function R4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e){return Array.isArray(e)&&en(e[0])&&en(e[1])?e.join(" ~ "):e}var $4=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,j=()=>{if(l&&l.length){var O={padding:0,margin:0},M=(d?uu(l,d):l).map((I,K)=>{if(I.type==="none")return null;var V=I.formatter||c||L4,{value:L,name:z}=I,X=L,Q=z;if(V){var R=V(L,z,I,K,l);if(Array.isArray(R))[X,Q]=R;else if(R!=null)X=R;else return null}var Z=Dm({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Z},en(Q)?S.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,en(Q)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},X),S.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},b=Dm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Dm({margin:0},s),y=!At(h),P=y?h:"",C=qe("recharts-default-tooltip",f),E=qe("recharts-tooltip-label",m);y&&g&&l!==void 0&&l!==null&&(P=g(h,l));var k=v?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",Ih({className:C,style:b},k),S.createElement("p",{className:E,style:w},S.isValidElement(P)?P:"".concat(P)),j())},Js="recharts-tooltip-wrapper",F4={visibility:"hidden"};function z4(e){var{coordinate:t,translateX:r,translateY:n}=e;return qe(Js,{["".concat(Js,"-right")]:we(r)&&t&&we(t.x)&&r>=t.x,["".concat(Js,"-left")]:we(r)&&t&&we(t.x)&&r<t.x,["".concat(Js,"-bottom")]:we(n)&&t&&we(t.y)&&n>=t.y,["".concat(Js,"-top")]:we(n)&&t&&we(t.y)&&n<t.y})}function kb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&we(l[n]))return l[n];var h=r[n]-d-(s>0?s:0),g=r[n]+s;if(t[n])return c[n]?h:g;var v=f[n];if(v==null)return 0;if(c[n]){var j=h,b=v;return j<b?Math.max(g,v):Math.max(h,v)}if(m==null)return 0;var w=g+d,y=v+m;return w>y?Math.max(h,v):Math.max(g,v)}function B4(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function U4(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&r?(h=kb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=kb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=B4({translateX:h,translateY:g,useTranslate3d:d})):m=F4,{cssProperties:m,cssClasses:z4({translateX:h,translateY:g,coordinate:r})}}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){Dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dh(e,t,r){return(t=q4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4(e){var t=W4(e,"string");return typeof t=="symbol"?t:t+""}function W4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class K4 extends S.PureComponent{constructor(){super(...arguments),Dh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dh(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:v,viewBox:j,wrapperStyle:b,lastBoundingBox:w,innerRef:y,hasPortalFromProps:P}=this.props,{cssClasses:C,cssProperties:E}=U4({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:v,viewBox:j}),k=P?{}:sc(sc({transition:f&&t?"transform ".concat(n,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=sc(sc({},k),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},b);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:O,ref:y},l)}}var V4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rs={isSsr:V4()},HN=()=>be(e=>e.rootProps.accessibilityLayer);function pr(e){return Number.isFinite(e)}function Hi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(null,arguments)}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){H4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4(e,t,r){return(t=Y4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y4(e){var t=G4(e,"string");return typeof t=="symbol"?t:t+""}function G4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb={curveBasisClosed:OA,curveBasisOpen:MA,curveBasis:AA,curveBumpX:pA,curveBumpY:gA,curveLinearClosed:TA,curveLinear:lu,curveMonotoneX:_A,curveMonotoneY:IA,curveNatural:DA,curveStep:RA,curveStepAfter:$A,curveStepBefore:LA},oc=e=>pr(e.x)&&pr(e.y),eo=e=>e.x,to=e=>e.y,X4=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ko(e));return(r==="curveMonotone"||r==="curveBump")&&t?Tb["".concat(r).concat(t==="vertical"?"Y":"X")]:Tb[r]||lu},Q4=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:l=!1}=e,c=X4(t,s),d=l?r.filter(oc):r,f;if(Array.isArray(n)){var m=l?n.filter(g=>oc(g)):n,h=d.map((g,v)=>Mb(Mb({},g),{},{base:m[v]}));return s==="vertical"?f=Jl().y(to).x1(eo).x0(g=>g.base.x):f=Jl().x(eo).y1(to).y0(g=>g.base.y),f.defined(oc).curve(c),f(h)}return s==="vertical"&&we(n)?f=Jl().y(to).x1(eo).x0(n):we(n)?f=Jl().x(eo).y1(to).y0(n):f=Fj().x(eo).y(to),f.defined(oc).curve(c),f(d)},YN=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var l=r&&r.length?Q4(e):n;return S.createElement("path",Rh({},ni(e),eA(e),{className:qe("recharts-curve",t),d:l===null?void 0:l,ref:s}))},Z4=["x","y","top","left","width","height","className"];function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(null,arguments)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){e3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e3(e,t,r){return(t=t3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t3(e){var t=r3(e,"string");return typeof t=="symbol"?t:t+""}function r3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n3(e,t){if(e==null)return{};var r,n,s=a3(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function a3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i3=(e,t,r,n,s,l)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),s3=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=n3(e,Z4),m=J4({x:t,y:r,top:n,left:s,width:l,height:c},f);return!we(t)||!we(r)||!we(l)||!we(c)||!we(n)||!we(s)?null:S.createElement("path",Lh({},mt(m,!0),{className:qe("recharts-cross",d),d:i3(t,r,l,c,n,s)}))};function o3(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c3(e,t,r){return(t=u3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u3(e){var t=d3(e,"string");return typeof t=="symbol"?t:t+""}function d3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tr(e,t){var r=l3({},e),n=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&n[d]!==void 0&&(c[d]=n[d]),c),r);return l}function f3(){}function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){m3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m3(e,t,r){return(t=h3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3(e){var t=p3(e,"string");return typeof t=="symbol"?t:t+""}function p3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g3=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GN=(e,t,r)=>e.map(n=>"".concat(g3(n)," ").concat(t,"ms ").concat(r)).join(","),v3=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),xo=(e,t)=>Object.keys(t).reduce((r,n)=>Rb(Rb({},r),{},{[n]:e(n,t[n])}),{});function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){x3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x3(e,t,r){return(t=y3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y3(e){var t=b3(e,"string");return typeof t=="symbol"?t:t+""}function b3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic=(e,t,r)=>e+(t-e)*r,$h=e=>{var{from:t,to:r}=e;return t!==r},XN=(e,t,r)=>{var n=xo((s,l)=>{if($h(l)){var[c,d]=e(l.from,l.to,l.velocity);return Dt(Dt({},l),{},{from:c,velocity:d})}return l},t);return r<1?xo((s,l)=>$h(l)?Dt(Dt({},l),{},{velocity:Ic(l.velocity,n[s].velocity,r),from:Ic(l.from,n[s].from,r)}):l,t):XN(e,n,r-1)};function w3(e,t,r,n,s,l){var c,d=n.reduce((v,j)=>Dt(Dt({},v),{},{[j]:{from:e[j],velocity:0,to:t[j]}}),{}),f=()=>xo((v,j)=>j.from,d),m=()=>!Object.values(d).filter($h).length,h=null,g=v=>{c||(c=v);var j=v-c,b=j/r.dt;d=XN(r,d,b),s(Dt(Dt(Dt({},e),t),f())),c=v,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{h()})}function j3(e,t,r,n,s,l,c){var d=null,f=s.reduce((g,v)=>Dt(Dt({},g),{},{[v]:[e[v],t[v]]}),{}),m,h=g=>{m||(m=g);var v=(g-m)/n,j=xo((w,y)=>Ic(...y,r(v)),f);if(l(Dt(Dt(Dt({},e),t),j)),v<1)d=c.setTimeout(h);else{var b=xo((w,y)=>Ic(...y,r(1)),f);l(Dt(Dt(Dt({},e),t),b))}};return()=>(d=c.setTimeout(h),()=>{d()})}const N3=(e,t,r,n,s,l)=>{var c=v3(e,t);return r.isStepper===!0?w3(e,t,r,c,s,l):j3(e,t,r,n,c,s,l)};var Dc=1e-4,QN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),$b=(e,t)=>r=>{var n=QN(e,t);return ZN(n,r)},S3=(e,t)=>r=>{var n=QN(e,t),s=[...n.map((l,c)=>l*c).slice(1),0];return ZN(s,r)},Fb=function(){for(var t,r,n,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,n,r,s]=f[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else c.length===4&&([t,n,r,s]=c);var m=$b(t,r),h=$b(n,s),g=S3(t,r),v=b=>b>1?1:b<0?0:b,j=b=>{for(var w=b>1?1:b,y=w,P=0;P<8;++P){var C=m(y)-w,E=g(y);if(Math.abs(C-w)<Dc||E<Dc)return h(y);y=v(y-C/E)}return h(y)};return j.isStepper=!1,j},P3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*r,h=f*n,g=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<Dc&&Math.abs(g)<Dc?[d,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},C3=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fb(e);case"spring":return P3();default:if(e.split("(")[0]==="cubic-bezier")return Fb(e)}return typeof e=="function"?e:null};function E3(e){var t,r=()=>null,n=!1,s=null,l=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,s&&(s(),s=null),l(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class k3{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,l=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function A3(){return E3(new k3)}var O3=S.createContext(A3);function M3(e,t){var r=S.useContext(O3);return S.useMemo(()=>t??r(e),[e,t,r])}var T3={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zb={t:0},Rm={t:1};function wu(e){var t=Tr(e,T3),{isActive:r,canBegin:n,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=M3(t.animationId,t.animationManager),[g,v]=S.useState(r?zb:Rm),j=S.useRef(null);return S.useEffect(()=>{r||v(Rm)},[r]),S.useEffect(()=>{if(!r||!n)return f3;var b=N3(zb,Rm,C3(l),s,v,h.getTimeoutController()),w=()=>{j.current=b()};return h.start([f,c,w,s,d]),()=>{h.stop(),j.current&&j.current(),d()}},[r,n,s,l,c,f,d,h]),m(g.t)}function ju(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=S.useRef(po(t)),n=S.useRef(e);return n.current!==e&&(r.current=po(t),n.current=e),r.current}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){_3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _3(e,t,r){return(t=I3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3(e){var t=D3(e,"string");return typeof t=="symbol"?t:t+""}function D3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(null,arguments)}var qb=(e,t,r,n,s)=>{var l=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,d=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+r-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+n-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-d*h[2],",").concat(t+n)),m+="L ".concat(e+d*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var j=Math.min(l,s);m="M ".concat(e,",").concat(t+c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+d*j,",").concat(t,`
            L `).concat(e+r-d*j,",").concat(t,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*j,`
            L `).concat(e+r,",").concat(t+n-c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e+r-d*j,",").concat(t+n,`
            L `).concat(e+d*j,",").concat(t+n,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(e,",").concat(t+n-c*j," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},R3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JN=e=>{var t=Tr(e,R3),r=S.useRef(null),[n,s]=S.useState(-1);S.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&s(R)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:j,isAnimationActive:b,isUpdateAnimationActive:w}=t,y=S.useRef(d),P=S.useRef(f),C=S.useRef(l),E=S.useRef(c),k=S.useMemo(()=>({x:l,y:c,width:d,height:f,radius:m}),[l,c,d,f,m]),O=ju(k,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var M=qe("recharts-rectangle",h);if(!w)return S.createElement("path",Rc({},mt(t,!0),{className:M,d:qb(l,c,d,f,m)}));var I=y.current,K=P.current,V=C.current,L=E.current,z="0px ".concat(n===-1?1:n,"px"),X="".concat(n,"px 0px"),Q=GN(["strokeDasharray"],v,typeof g=="string"?g:void 0);return S.createElement(wu,{animationId:O,key:O,canBegin:n>0,duration:v,easing:g,isActive:w,begin:j},R=>{var Z=Rt(I,d,R),le=Rt(K,f,R),ie=Rt(V,l,R),J=Rt(L,c,R);r.current&&(y.current=Z,P.current=le,C.current=ie,E.current=J);var F;return b?R>0?F={transition:Q,strokeDasharray:X}:F={strokeDasharray:z}:F={strokeDasharray:X},S.createElement("path",Rc({},mt(t,!0),{className:M,d:qb(ie,J,Z,le,m),ref:r,style:Ub(Ub({},F),t.style)}))})};function e2(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:l}=e,c=ht(t,r,n,s),d=ht(t,r,n,l);return{points:[c,d],cx:t,cy:r,radius:n,startAngle:s,endAngle:l}}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(null,arguments)}var L3=(e,t)=>{var r=kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},lc=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+n,h=Math.asin(d/m)/_c,g=f?s:s+l*h,v=ht(t,r,m,g),j=ht(t,r,n,g),b=f?s-l*h:s,w=ht(t,r,m*Math.cos(h*_c),b);return{center:v,circleTangency:j,lineTangency:w,theta:h}},t2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:l,endAngle:c}=e,d=L3(l,c),f=l+d,m=ht(t,r,s,l),h=ht(t,r,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=ht(t,r,n,l),j=ht(t,r,n,f);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},$3=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=kt(m-f),{circleTangency:g,lineTangency:v,theta:j}=lc({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:b,lineTangency:w,theta:y}=lc({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),P=d?Math.abs(f-m):Math.abs(f-m)-j-y;if(P<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):t2({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:f,endAngle:m});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:k,theta:O}=lc({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:M,lineTangency:I,theta:K}=lc({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),V=d?Math.abs(f-m):Math.abs(f-m)-O-K;if(V<0&&l===0)return"".concat(C,"L").concat(t,",").concat(r,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(t,",").concat(r,"Z");return C},F3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r2=e=>{var t=Tr(e,F3),{cx:r,cy:n,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var v=qe("recharts-sector",g),j=l-s,b=Wt(c,j,0,!0),w;return b>0&&Math.abs(m-h)<360?w=$3({cx:r,cy:n,innerRadius:s,outerRadius:l,cornerRadius:Math.min(b,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):w=t2({cx:r,cy:n,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),S.createElement("path",Fh({},mt(t,!0),{className:v,d:w}))};function z3(e,t,r){var n,s,l,c;if(e==="horizontal")n=t.x,l=n,s=r.top,c=r.top+r.height;else if(e==="vertical")s=t.y,c=s,n=r.left,l=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:g}=t,v=ht(d,f,m,g),j=ht(d,f,h,g);n=v.x,s=v.y,l=j.x,c=j.y}else return e2(t);return[{x:n,y:s},{x:l,y:c}]}var Lm={},$m={},Fm={},Wb;function B3(){return Wb||(Wb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Fm)),Fm}var Kb;function U3(){return Kb||(Kb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B3();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($m)),$m}var Vb;function q3(){return Vb||(Vb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN(),r=U3();function n(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=r.toFinite(s),l===void 0?(l=s,s=0):l=r.toFinite(l),c=c===void 0?s<l?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=n})(Lm)),Lm}var zm,Hb;function W3(){return Hb||(Hb=1,zm=q3().range),zm}var K3=W3();const n2=Pn(K3);function aa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tp(e){let t,r,n;e.length!==2?(t=aa,r=(d,f)=>aa(e(d),f),n=(d,f)=>e(d)-f):(t=e===aa||e===V3?e:H3,r=e,n=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;r(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&n(d[g-1],f)>-n(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function H3(){return 0}function a2(e){return e===null?NaN:+e}function*Y3(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const G3=Tp(aa),To=G3.right;Tp(a2).center;class Yb extends Map{constructor(t,r=Z3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Gb(this,t))}has(t){return super.has(Gb(this,t))}set(t,r){return super.set(X3(this,t),r)}delete(t){return super.delete(Q3(this,t))}}function Gb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function X3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Q3({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Z3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function J3(e=aa){if(e===aa)return i2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function i2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eT=Math.sqrt(50),tT=Math.sqrt(10),rT=Math.sqrt(2);function Lc(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),l=n/Math.pow(10,s),c=l>=eT?10:l>=tT?5:l>=rT?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=r&&r<2?Lc(e,t,r*2):[d,f,m]}function zh(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,l,c]=n?Lc(t,e,r):Lc(e,t,r);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(n)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function Bh(e,t,r){return t=+t,e=+e,r=+r,Lc(e,t,r)[2]}function Uh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Bh(t,e,r):Bh(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Xb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Qb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function s2(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?i2:J3(s);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),j=Math.max(r,Math.floor(t-m*g/f+v)),b=Math.min(n,Math.floor(t+(f-m)*g/f+v));s2(e,t,j,b,s)}const l=e[t];let c=r,d=n;for(ro(e,r,t),s(e[n],l)>0&&ro(e,r,n);c<d;){for(ro(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[r],l)===0?ro(e,r,d):(++d,ro(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function ro(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nT(e,t,r){if(e=Float64Array.from(Y3(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qb(e);if(t>=1)return Xb(e);var n,s=(n-1)*t,l=Math.floor(s),c=Xb(s2(e,l).subarray(0,l+1)),d=Qb(e.subarray(l+1));return c+(d-c)*(s-l)}}function aT(e,t,r=a2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,l=Math.floor(s),c=+r(e[l],l,e),d=+r(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function iT(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(s);++n<s;)l[n]=e+n*r;return l}function _r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qh=Symbol("implicit");function _p(){var e=new Yb,t=[],r=[],n=qh;function s(l){let c=e.get(l);if(c===void 0){if(n!==qh)return n;e.set(l,c=t.push(l)-1)}return r[c%r.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new Yb;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(r=Array.from(l),s):r.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return _p(t,r).unknown(n)},_r.apply(s,arguments),s}function Ip(){var e=_p().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var v=t().length,j=s<n,b=j?s:n,w=j?n:s;l=(w-b)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),b+=(w-b-l*(v-f))*h,c=l*(1-f),d&&(b=Math.round(b),c=Math.round(c));var y=iT(v).map(function(P){return b+l*P});return r(j?y.reverse():y)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,g()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,g()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,g()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return Ip(t(),[n,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},_r.apply(g(),arguments)}function o2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return o2(t())},e}function sT(){return o2(Ip.apply(null,arguments).paddingInner(1))}function Dp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function l2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _o(){}var yo=.7,$c=1/yo,Wi="\\s*([+-]?\\d+)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oT=/^#([0-9a-f]{3,8})$/,lT=new RegExp(`^rgb\\(${Wi},${Wi},${Wi}\\)$`),cT=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),uT=new RegExp(`^rgba\\(${Wi},${Wi},${Wi},${bo}\\)$`),dT=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${bo}\\)$`),fT=new RegExp(`^hsl\\(${bo},${Zr},${Zr}\\)$`),mT=new RegExp(`^hsla\\(${bo},${Zr},${Zr},${bo}\\)$`),Zb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dp(_o,wo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jb,formatHex:Jb,formatHex8:hT,formatHsl:pT,formatRgb:ew,toString:ew});function Jb(){return this.rgb().formatHex()}function hT(){return this.rgb().formatHex8()}function pT(){return c2(this).formatHsl()}function ew(){return this.rgb().formatRgb()}function wo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oT.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tw(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lT.exec(e))?new rr(t[1],t[2],t[3],1):(t=cT.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uT.exec(e))?cc(t[1],t[2],t[3],t[4]):(t=dT.exec(e))?cc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fT.exec(e))?aw(t[1],t[2]/100,t[3]/100,1):(t=mT.exec(e))?aw(t[1],t[2]/100,t[3]/100,t[4]):Zb.hasOwnProperty(e)?tw(Zb[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function tw(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function cc(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function gT(e){return e instanceof _o||(e=wo(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function Wh(e,t,r,n){return arguments.length===1?gT(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dp(rr,Wh,l2(_o,{brighter(e){return e=e==null?$c:Math.pow($c,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yo:Math.pow(yo,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(Ha(this.r),Ha(this.g),Ha(this.b),Fc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rw,formatHex:rw,formatHex8:vT,formatRgb:nw,toString:nw}));function rw(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function vT(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function nw(){const e=Fc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ha(this.r)}, ${Ha(this.g)}, ${Ha(this.b)}${e===1?")":`, ${e})`}`}function Fc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ha(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Ha(e),(e<16?"0":"")+e.toString(16)}function aw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ur(e,t,r,n)}function c2(e){if(e instanceof Ur)return new Ur(e.h,e.s,e.l,e.opacity);if(e instanceof _o||(e=wo(e)),!e)return new Ur;if(e instanceof Ur)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),l=Math.max(t,r,n),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(r-n)/d+(r<n)*6:r===l?c=(n-t)/d+2:c=(t-r)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Ur(c,d,f,e.opacity)}function xT(e,t,r,n){return arguments.length===1?c2(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dp(Ur,xT,l2(_o,{brighter(e){return e=e==null?$c:Math.pow($c,e),new Ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yo:Math.pow(yo,e),new Ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new rr(Bm(e>=240?e-240:e+120,s,n),Bm(e,s,n),Bm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Ur(iw(this.h),uc(this.s),uc(this.l),Fc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fc(this.opacity);return`${e===1?"hsl(":"hsla("}${iw(this.h)}, ${uc(this.s)*100}%, ${uc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iw(e){return e=(e||0)%360,e<0?e+360:e}function uc(e){return Math.max(0,Math.min(1,e||0))}function Bm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Rp=e=>()=>e;function yT(e,t){return function(r){return e+r*t}}function bT(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wT(e){return(e=+e)==1?u2:function(t,r){return r-t?bT(t,r,e):Rp(isNaN(t)?r:t)}}function u2(e,t){var r=t-e;return r?yT(e,r):Rp(isNaN(e)?t:e)}const sw=(function e(t){var r=wT(t);function n(s,l){var c=r((s=Wh(s)).r,(l=Wh(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),m=u2(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return n.gamma=e,n})(1);function jT(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(l){for(s=0;s<r;++s)n[s]=e[s]*(1-l)+t[s]*l;return n}}function NT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ST(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),l=new Array(r),c;for(c=0;c<n;++c)s[c]=ns(e[c],t[c]);for(;c<r;++c)l[c]=t[c];return function(d){for(c=0;c<n;++c)l[c]=s[c](d);return l}}function PT(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function CT(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ns(e[s],t[s]):n[s]=t[s];return function(l){for(s in r)n[s]=r[s](l);return n}}var Kh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Um=new RegExp(Kh.source,"g");function ET(e){return function(){return e}}function kT(e){return function(t){return e(t)+""}}function AT(e,t){var r=Kh.lastIndex=Um.lastIndex=0,n,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(n=Kh.exec(e))&&(s=Um.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[c]?d[c]+=l:d[++c]=l),(n=n[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:zc(n,s)})),r=Um.lastIndex;return r<t.length&&(l=t.slice(r),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?kT(f[0].x):ET(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function ns(e,t){var r=typeof t,n;return t==null||r==="boolean"?Rp(t):(r==="number"?zc:r==="string"?(n=wo(t))?(t=n,sw):AT:t instanceof wo?sw:t instanceof Date?PT:NT(t)?jT:Array.isArray(t)?ST:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CT:zc)(e,t)}function Lp(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OT(e,t){t===void 0&&(t=e,e=ns);for(var r=0,n=t.length-1,s=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return l[d](c-d)}}function MT(e){return function(){return e}}function Bc(e){return+e}var ow=[0,1];function Yt(e){return e}function Vh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MT(isNaN(t)?NaN:.5)}function TT(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _T(e,t,r){var n=e[0],s=e[1],l=t[0],c=t[1];return s<n?(n=Vh(s,n),l=r(c,l)):(n=Vh(n,s),l=r(l,c)),function(d){return l(n(d))}}function IT(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),l=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)s[c]=Vh(e[c],e[c+1]),l[c]=r(t[c],t[c+1]);return function(d){var f=To(e,d,1,n)-1;return l[f](s[f](d))}}function Io(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nu(){var e=ow,t=ow,r=ns,n,s,l,c=Yt,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==Yt&&(c=TT(e[0],e[v-1])),d=v>2?IT:_T,f=m=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(n),t,r)))(n(c(v)))}return g.invert=function(v){return c(s((m||(m=d(t,e.map(n),zc)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Bc),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=Lp,h()},g.clamp=function(v){return arguments.length?(c=v?!0:Yt,h()):c!==Yt},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,j){return n=v,s=j,h()}}function $p(){return Nu()(Yt,Yt)}function DT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Uc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yi(e){return e=Uc(Math.abs(e)),e?e[1]:NaN}function RT(e,t){return function(r,n){for(var s=r.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>n&&(d=Math.max(1,n-f)),l.push(r.substring(s-=d,s+d)),!((f+=d+1)>n));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function LT(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $T=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jo(e){if(!(t=$T.exec(e)))throw new Error("invalid format: "+e);var t;return new Fp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jo.prototype=Fp.prototype;function Fp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FT(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var d2;function zT(e,t){var r=Uc(e,t);if(!r)return e+"";var n=r[0],s=r[1],l=s-(d2=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=n.length;return l===c?n:l>c?n+new Array(l-c+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+Uc(e,Math.max(0,t+l-1))[0]}function lw(e,t){var r=Uc(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const cw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:DT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lw(e*100,t),r:lw,s:zT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uw(e){return e}var dw=Array.prototype.map,fw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BT(e){var t=e.grouping===void 0||e.thousands===void 0?uw:RT(dw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?uw:LT(dw.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=jo(g);var v=g.fill,j=g.align,b=g.sign,w=g.symbol,y=g.zero,P=g.width,C=g.comma,E=g.precision,k=g.trim,O=g.type;O==="n"?(C=!0,O="g"):cw[O]||(E===void 0&&(E=12),k=!0,O="g"),(y||v==="0"&&j==="=")&&(y=!0,v="0",j="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",I=w==="$"?n:/[%p]/.test(O)?c:"",K=cw[O],V=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(z){var X=M,Q=I,R,Z,le;if(O==="c")Q=K(z)+Q,z="";else{z=+z;var ie=z<0||1/z<0;if(z=isNaN(z)?f:K(Math.abs(z),E),k&&(z=FT(z)),ie&&+z==0&&b!=="+"&&(ie=!1),X=(ie?b==="("?b:d:b==="-"||b==="("?"":b)+X,Q=(O==="s"?fw[8+d2/3]:"")+Q+(ie&&b==="("?")":""),V){for(R=-1,Z=z.length;++R<Z;)if(le=z.charCodeAt(R),48>le||le>57){Q=(le===46?s+z.slice(R+1):z.slice(R))+Q,z=z.slice(0,R);break}}}C&&!y&&(z=t(z,1/0));var J=X.length+z.length+Q.length,F=J<P?new Array(P-J+1).join(v):"";switch(C&&y&&(z=t(F+z,F.length?P-Q.length:1/0),F=""),j){case"<":z=X+z+Q+F;break;case"=":z=X+F+z+Q;break;case"^":z=F.slice(0,J=F.length>>1)+X+z+Q+F.slice(J);break;default:z=F+X+z+Q;break}return l(z)}return L.toString=function(){return g+""},L}function h(g,v){var j=m((g=jo(g),g.type="f",g)),b=Math.max(-8,Math.min(8,Math.floor(Yi(v)/3)))*3,w=Math.pow(10,-b),y=fw[8+b/3];return function(P){return j(w*P)+y}}return{format:m,formatPrefix:h}}var dc,zp,f2;UT({thousands:",",grouping:[3],currency:["$",""]});function UT(e){return dc=BT(e),zp=dc.format,f2=dc.formatPrefix,dc}function qT(e){return Math.max(0,-Yi(Math.abs(e)))}function WT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yi(t)/3)))*3-Yi(Math.abs(e)))}function KT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yi(t)-Yi(e))+1}function m2(e,t,r,n){var s=Uh(e,t,r),l;switch(n=jo(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=WT(s,c))&&(n.precision=l),f2(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=KT(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=qT(s))&&(n.precision=l-(n.type==="%")*2);break}}return zp(n)}function pa(e){var t=e.domain;return e.ticks=function(r){var n=t();return zh(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return m2(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,l=n.length-1,c=n[s],d=n[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=Bh(c,d,r),m===f)return n[s]=c,n[l]=d,t(n);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function h2(){var e=$p();return e.copy=function(){return Io(e,h2())},_r.apply(e,arguments),pa(e)}function p2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Bc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return p2(e).unknown(t)},e=arguments.length?Array.from(e,Bc):[0,1],pa(r)}function g2(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],l=e[n],c;return l<s&&(c=r,r=n,n=c,c=s,s=l,l=c),e[r]=t.floor(s),e[n]=t.ceil(l),e}function mw(e){return Math.log(e)}function hw(e){return Math.exp(e)}function VT(e){return-Math.log(-e)}function HT(e){return-Math.exp(-e)}function YT(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GT(e){return e===10?YT:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pw(e){return(t,r)=>-e(-t,r)}function Bp(e){const t=e(mw,hw),r=t.domain;let n=10,s,l;function c(){return s=XT(n),l=GT(n),r()[0]<0?(s=pw(s),l=pw(l),e(VT,HT)):e(mw,hw),t}return t.base=function(d){return arguments.length?(n=+d,c()):n},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const f=r();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let v=s(m),j=s(h),b,w;const y=d==null?10:+d;let P=[];if(!(n%1)&&j-v<y){if(v=Math.floor(v),j=Math.ceil(j),m>0){for(;v<=j;++v)for(b=1;b<n;++b)if(w=v<0?b/l(-v):b*l(v),!(w<m)){if(w>h)break;P.push(w)}}else for(;v<=j;++v)for(b=n-1;b>=1;--b)if(w=v>0?b/l(-v):b*l(v),!(w<m)){if(w>h)break;P.push(w)}P.length*2<y&&(P=zh(m,h,y))}else P=zh(v,j,Math.min(j-v,y)).map(l);return g?P.reverse():P},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=jo(f)).precision==null&&(f.trim=!0),f=zp(f)),d===1/0)return f;const m=Math.max(1,n*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*n<n-.5&&(g*=n),g<=m?f(h):""}},t.nice=()=>r(g2(r(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function v2(){const e=Bp(Nu()).domain([1,10]);return e.copy=()=>Io(e,v2()).base(e.base()),_r.apply(e,arguments),e}function gw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Up(e){var t=1,r=e(gw(t),vw(t));return r.constant=function(n){return arguments.length?e(gw(t=+n),vw(t)):t},pa(r)}function x2(){var e=Up(Nu());return e.copy=function(){return Io(e,x2()).constant(e.constant())},_r.apply(e,arguments)}function xw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZT(e){return e<0?-e*e:e*e}function qp(e){var t=e(Yt,Yt),r=1;function n(){return r===1?e(Yt,Yt):r===.5?e(QT,ZT):e(xw(r),xw(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},pa(t)}function Wp(){var e=qp(Nu());return e.copy=function(){return Io(e,Wp()).exponent(e.exponent())},_r.apply(e,arguments),e}function JT(){return Wp.apply(null,arguments).exponent(.5)}function yw(e){return Math.sign(e)*e*e}function e_(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function y2(){var e=$p(),t=[0,1],r=!1,n;function s(l){var c=e_(e(l));return isNaN(c)?n:r?Math.round(c):c}return s.invert=function(l){return e.invert(yw(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Bc)).map(yw)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(r=!!l,s):r},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return y2(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_r.apply(s,arguments),pa(s)}function b2(){var e=[],t=[],r=[],n;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=aT(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?n:t[To(r,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(aa),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(n=c,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return b2().domain(e).range(t).unknown(n)},_r.apply(l,arguments)}function w2(){var e=0,t=1,r=1,n=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[To(n,f,0,r)]:l}function d(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return w2().domain([e,t]).range(s).unknown(l)},_r.apply(pa(c),arguments)}function j2(){var e=[.5],t=[0,1],r,n=1;function s(l){return l!=null&&l<=l?t[To(e,l,0,n)]:r}return s.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return j2().domain(e).range(t).unknown(r)},_r.apply(s,arguments)}const qm=new Date,Wm=new Date;function wt(e,t,r,n){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>wt(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),r&&(s.count=(l,c)=>(qm.setTime(+l),Wm.setTime(+c),e(qm),e(Wm),Math.floor(r(qm,Wm))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(n?c=>n(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const qc=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qc);qc.range;const gn=1e3,Er=gn*60,vn=Er*60,jn=vn*24,Kp=jn*7,bw=jn*30,Km=jn*365,Ba=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCSeconds());Ba.range;const Vp=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getMinutes());Vp.range;const Hp=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCMinutes());Hp.range;const Yp=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn-e.getMinutes()*Er)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getHours());Yp.range;const Gp=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCHours());Gp.range;const Do=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Er)/jn,e=>e.getDate()-1);Do.range;const Su=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>e.getUTCDate()-1);Su.range;const N2=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jn,e=>Math.floor(e/jn));N2.range;function ii(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Er)/Kp)}const Pu=ii(0),Wc=ii(1),t_=ii(2),r_=ii(3),Gi=ii(4),n_=ii(5),a_=ii(6);Pu.range;Wc.range;t_.range;r_.range;Gi.range;n_.range;a_.range;function si(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Kp)}const Cu=si(0),Kc=si(1),i_=si(2),s_=si(3),Xi=si(4),o_=si(5),l_=si(6);Cu.range;Kc.range;i_.range;s_.range;Xi.range;o_.range;l_.range;const Xp=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xp.range;const Qp=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qp.range;const Nn=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Nn.range;const Sn=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sn.range;function S2(e,t,r,n,s,l){const c=[[Ba,1,gn],[Ba,5,5*gn],[Ba,15,15*gn],[Ba,30,30*gn],[l,1,Er],[l,5,5*Er],[l,15,15*Er],[l,30,30*Er],[s,1,vn],[s,3,3*vn],[s,6,6*vn],[s,12,12*vn],[n,1,jn],[n,2,2*jn],[r,1,Kp],[t,1,bw],[t,3,3*bw],[e,1,Km]];function d(m,h,g){const v=h<m;v&&([m,h]=[h,m]);const j=g&&typeof g.range=="function"?g:f(m,h,g),b=j?j.range(m,+h+1):[];return v?b.reverse():b}function f(m,h,g){const v=Math.abs(h-m)/g,j=Tp(([,,y])=>y).right(c,v);if(j===c.length)return e.every(Uh(m/Km,h/Km,g));if(j===0)return qc.every(Math.max(Uh(m,h,g),1));const[b,w]=c[v/c[j-1][2]<c[j][2]/v?j-1:j];return b.every(w)}return[d,f]}const[c_,u_]=S2(Sn,Qp,Cu,N2,Gp,Hp),[d_,f_]=S2(Nn,Xp,Pu,Do,Yp,Vp);function Vm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function no(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function m_(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=ao(s),h=io(s),g=ao(l),v=io(l),j=ao(c),b=io(c),w=ao(d),y=io(d),P=ao(f),C=io(f),E={a:ie,A:J,b:F,B:ee,c:null,d:Cw,e:Cw,f:R_,g:V_,G:Y_,H:__,I:I_,j:D_,L:P2,m:L_,M:$_,p:_,q:B,Q:Aw,s:Ow,S:F_,u:z_,U:B_,V:U_,w:q_,W:W_,x:null,X:null,y:K_,Y:H_,Z:G_,"%":kw},k={a:ge,A:ce,b:de,B:Ae,c:null,d:Ew,e:Ew,f:J_,g:cI,G:dI,H:X_,I:Q_,j:Z_,L:E2,m:eI,M:tI,p:$e,q:Te,Q:Aw,s:Ow,S:rI,u:nI,U:aI,V:iI,w:sI,W:oI,x:null,X:null,y:lI,Y:uI,Z:fI,"%":kw},O={a:L,A:z,b:X,B:Q,c:R,d:Sw,e:Sw,f:A_,g:Nw,G:jw,H:Pw,I:Pw,j:P_,L:k_,m:S_,M:C_,p:V,q:N_,Q:M_,s:T_,S:E_,u:x_,U:y_,V:b_,w:v_,W:w_,x:Z,X:le,y:Nw,Y:jw,Z:j_,"%":O_};E.x=M(r,E),E.X=M(n,E),E.c=M(t,E),k.x=M(r,k),k.X=M(n,k),k.c=M(t,k);function M(se,ye){return function(Ce){var ne=[],st=-1,_e=0,Nt=se.length,rt,gt,On;for(Ce instanceof Date||(Ce=new Date(+Ce));++st<Nt;)se.charCodeAt(st)===37&&(ne.push(se.slice(_e,st)),(gt=ww[rt=se.charAt(++st)])!=null?rt=se.charAt(++st):gt=rt==="e"?" ":"0",(On=ye[rt])&&(rt=On(Ce,gt)),ne.push(rt),_e=st+1);return ne.push(se.slice(_e,st)),ne.join("")}}function I(se,ye){return function(Ce){var ne=no(1900,void 0,1),st=K(ne,se,Ce+="",0),_e,Nt;if(st!=Ce.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ye&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(_e=Hm(no(ne.y,0,1)),Nt=_e.getUTCDay(),_e=Nt>4||Nt===0?Kc.ceil(_e):Kc(_e),_e=Su.offset(_e,(ne.V-1)*7),ne.y=_e.getUTCFullYear(),ne.m=_e.getUTCMonth(),ne.d=_e.getUTCDate()+(ne.w+6)%7):(_e=Vm(no(ne.y,0,1)),Nt=_e.getDay(),_e=Nt>4||Nt===0?Wc.ceil(_e):Wc(_e),_e=Do.offset(_e,(ne.V-1)*7),ne.y=_e.getFullYear(),ne.m=_e.getMonth(),ne.d=_e.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Nt="Z"in ne?Hm(no(ne.y,0,1)).getUTCDay():Vm(no(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Nt+5)%7:ne.w+ne.U*7-(Nt+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Hm(ne)):Vm(ne)}}function K(se,ye,Ce,ne){for(var st=0,_e=ye.length,Nt=Ce.length,rt,gt;st<_e;){if(ne>=Nt)return-1;if(rt=ye.charCodeAt(st++),rt===37){if(rt=ye.charAt(st++),gt=O[rt in ww?ye.charAt(st++):rt],!gt||(ne=gt(se,Ce,ne))<0)return-1}else if(rt!=Ce.charCodeAt(ne++))return-1}return ne}function V(se,ye,Ce){var ne=m.exec(ye.slice(Ce));return ne?(se.p=h.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function L(se,ye,Ce){var ne=j.exec(ye.slice(Ce));return ne?(se.w=b.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function z(se,ye,Ce){var ne=g.exec(ye.slice(Ce));return ne?(se.w=v.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function X(se,ye,Ce){var ne=P.exec(ye.slice(Ce));return ne?(se.m=C.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function Q(se,ye,Ce){var ne=w.exec(ye.slice(Ce));return ne?(se.m=y.get(ne[0].toLowerCase()),Ce+ne[0].length):-1}function R(se,ye,Ce){return K(se,t,ye,Ce)}function Z(se,ye,Ce){return K(se,r,ye,Ce)}function le(se,ye,Ce){return K(se,n,ye,Ce)}function ie(se){return c[se.getDay()]}function J(se){return l[se.getDay()]}function F(se){return f[se.getMonth()]}function ee(se){return d[se.getMonth()]}function _(se){return s[+(se.getHours()>=12)]}function B(se){return 1+~~(se.getMonth()/3)}function ge(se){return c[se.getUTCDay()]}function ce(se){return l[se.getUTCDay()]}function de(se){return f[se.getUTCMonth()]}function Ae(se){return d[se.getUTCMonth()]}function $e(se){return s[+(se.getUTCHours()>=12)]}function Te(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ye=M(se+="",E);return ye.toString=function(){return se},ye},parse:function(se){var ye=I(se+="",!1);return ye.toString=function(){return se},ye},utcFormat:function(se){var ye=M(se+="",k);return ye.toString=function(){return se},ye},utcParse:function(se){var ye=I(se+="",!0);return ye.toString=function(){return se},ye}}}var ww={"-":"",_:" ",0:"0"},Ot=/^\s*\d+/,h_=/^%/,p_=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",l=s.length;return n+(l<r?new Array(r-l+1).join(t)+s:s)}function g_(e){return e.replace(p_,"\\$&")}function ao(e){return new RegExp("^(?:"+e.map(g_).join("|")+")","i")}function io(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function v_(e,t,r){var n=Ot.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function x_(e,t,r){var n=Ot.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function b_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function w_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function jw(e,t,r){var n=Ot.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Nw(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function j_(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function N_(e,t,r){var n=Ot.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function S_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Sw(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function P_(e,t,r){var n=Ot.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Pw(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function C_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function E_(e,t,r){var n=Ot.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function k_(e,t,r){var n=Ot.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function A_(e,t,r){var n=Ot.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function O_(e,t,r){var n=h_.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function M_(e,t,r){var n=Ot.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function T_(e,t,r){var n=Ot.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Cw(e,t){return Re(e.getDate(),t,2)}function __(e,t){return Re(e.getHours(),t,2)}function I_(e,t){return Re(e.getHours()%12||12,t,2)}function D_(e,t){return Re(1+Do.count(Nn(e),e),t,3)}function P2(e,t){return Re(e.getMilliseconds(),t,3)}function R_(e,t){return P2(e,t)+"000"}function L_(e,t){return Re(e.getMonth()+1,t,2)}function $_(e,t){return Re(e.getMinutes(),t,2)}function F_(e,t){return Re(e.getSeconds(),t,2)}function z_(e){var t=e.getDay();return t===0?7:t}function B_(e,t){return Re(Pu.count(Nn(e)-1,e),t,2)}function C2(e){var t=e.getDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function U_(e,t){return e=C2(e),Re(Gi.count(Nn(e),e)+(Nn(e).getDay()===4),t,2)}function q_(e){return e.getDay()}function W_(e,t){return Re(Wc.count(Nn(e)-1,e),t,2)}function K_(e,t){return Re(e.getFullYear()%100,t,2)}function V_(e,t){return e=C2(e),Re(e.getFullYear()%100,t,2)}function H_(e,t){return Re(e.getFullYear()%1e4,t,4)}function Y_(e,t){var r=e.getDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),Re(e.getFullYear()%1e4,t,4)}function G_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function Ew(e,t){return Re(e.getUTCDate(),t,2)}function X_(e,t){return Re(e.getUTCHours(),t,2)}function Q_(e,t){return Re(e.getUTCHours()%12||12,t,2)}function Z_(e,t){return Re(1+Su.count(Sn(e),e),t,3)}function E2(e,t){return Re(e.getUTCMilliseconds(),t,3)}function J_(e,t){return E2(e,t)+"000"}function eI(e,t){return Re(e.getUTCMonth()+1,t,2)}function tI(e,t){return Re(e.getUTCMinutes(),t,2)}function rI(e,t){return Re(e.getUTCSeconds(),t,2)}function nI(e){var t=e.getUTCDay();return t===0?7:t}function aI(e,t){return Re(Cu.count(Sn(e)-1,e),t,2)}function k2(e){var t=e.getUTCDay();return t>=4||t===0?Xi(e):Xi.ceil(e)}function iI(e,t){return e=k2(e),Re(Xi.count(Sn(e),e)+(Sn(e).getUTCDay()===4),t,2)}function sI(e){return e.getUTCDay()}function oI(e,t){return Re(Kc.count(Sn(e)-1,e),t,2)}function lI(e,t){return Re(e.getUTCFullYear()%100,t,2)}function cI(e,t){return e=k2(e),Re(e.getUTCFullYear()%100,t,2)}function uI(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function dI(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xi(e):Xi.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function fI(){return"+0000"}function kw(){return"%"}function Aw(e){return+e}function Ow(e){return Math.floor(+e/1e3)}var _i,A2,O2;mI({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mI(e){return _i=m_(e),A2=_i.format,_i.parse,O2=_i.utcFormat,_i.utcParse,_i}function hI(e){return new Date(e)}function pI(e){return e instanceof Date?+e:+new Date(+e)}function Zp(e,t,r,n,s,l,c,d,f,m){var h=$p(),g=h.invert,v=h.domain,j=m(".%L"),b=m(":%S"),w=m("%I:%M"),y=m("%I %p"),P=m("%a %d"),C=m("%b %d"),E=m("%B"),k=m("%Y");function O(M){return(f(M)<M?j:d(M)<M?b:c(M)<M?w:l(M)<M?y:n(M)<M?s(M)<M?P:C:r(M)<M?E:k)(M)}return h.invert=function(M){return new Date(g(M))},h.domain=function(M){return arguments.length?v(Array.from(M,pI)):v().map(hI)},h.ticks=function(M){var I=v();return e(I[0],I[I.length-1],M??10)},h.tickFormat=function(M,I){return I==null?O:m(I)},h.nice=function(M){var I=v();return(!M||typeof M.range!="function")&&(M=t(I[0],I[I.length-1],M??10)),M?v(g2(I,M)):h},h.copy=function(){return Io(h,Zp(e,t,r,n,s,l,c,d,f,m))},h}function gI(){return _r.apply(Zp(d_,f_,Nn,Xp,Pu,Do,Yp,Vp,Ba,A2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vI(){return _r.apply(Zp(c_,u_,Sn,Qp,Cu,Su,Gp,Hp,Ba,O2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eu(){var e=0,t=1,r,n,s,l,c=Yt,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-r)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=l(e=+e),n=l(t=+t),s=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(v){var j,b;return arguments.length?([j,b]=v,c=g(j,b),m):[c(0),c(1)]}}return m.range=h(ns),m.rangeRound=h(Lp),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,r=g(e),n=g(t),s=r===n?0:1/(n-r),m}}function ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function M2(){var e=pa(Eu()(Yt));return e.copy=function(){return ga(e,M2())},kn.apply(e,arguments)}function T2(){var e=Bp(Eu()).domain([1,10]);return e.copy=function(){return ga(e,T2()).base(e.base())},kn.apply(e,arguments)}function _2(){var e=Up(Eu());return e.copy=function(){return ga(e,_2()).constant(e.constant())},kn.apply(e,arguments)}function Jp(){var e=qp(Eu());return e.copy=function(){return ga(e,Jp()).exponent(e.exponent())},kn.apply(e,arguments)}function xI(){return Jp.apply(null,arguments).exponent(.5)}function I2(){var e=[],t=Yt;function r(n){if(n!=null&&!isNaN(n=+n))return t((To(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(aa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,l)=>nT(e,l/n))},r.copy=function(){return I2(t).domain(e)},kn.apply(r,arguments)}function ku(){var e=0,t=.5,r=1,n=1,s,l,c,d,f,m=Yt,h,g=!1,v;function j(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-l)*(n*w<n*l?d:f),m(g?Math.max(0,Math.min(1,w)):w))}j.domain=function(w){return arguments.length?([e,t,r]=w,s=h(e=+e),l=h(t=+t),c=h(r=+r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),n=l<s?-1:1,j):[e,t,r]},j.clamp=function(w){return arguments.length?(g=!!w,j):g},j.interpolator=function(w){return arguments.length?(m=w,j):m};function b(w){return function(y){var P,C,E;return arguments.length?([P,C,E]=y,m=OT(w,[P,C,E]),j):[m(0),m(.5),m(1)]}}return j.range=b(ns),j.rangeRound=b(Lp),j.unknown=function(w){return arguments.length?(v=w,j):v},function(w){return h=w,s=w(e),l=w(t),c=w(r),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),n=l<s?-1:1,j}}function D2(){var e=pa(ku()(Yt));return e.copy=function(){return ga(e,D2())},kn.apply(e,arguments)}function R2(){var e=Bp(ku()).domain([.1,1,10]);return e.copy=function(){return ga(e,R2()).base(e.base())},kn.apply(e,arguments)}function L2(){var e=Up(ku());return e.copy=function(){return ga(e,L2()).constant(e.constant())},kn.apply(e,arguments)}function eg(){var e=qp(ku());return e.copy=function(){return ga(e,eg()).exponent(e.exponent())},kn.apply(e,arguments)}function yI(){return eg.apply(null,arguments).exponent(.5)}const uo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ip,scaleDiverging:D2,scaleDivergingLog:R2,scaleDivergingPow:eg,scaleDivergingSqrt:yI,scaleDivergingSymlog:L2,scaleIdentity:p2,scaleImplicit:qh,scaleLinear:h2,scaleLog:v2,scaleOrdinal:_p,scalePoint:sT,scalePow:Wp,scaleQuantile:b2,scaleQuantize:w2,scaleRadial:y2,scaleSequential:M2,scaleSequentialLog:T2,scaleSequentialPow:Jp,scaleSequentialQuantile:I2,scaleSequentialSqrt:xI,scaleSequentialSymlog:_2,scaleSqrt:JT,scaleSymlog:x2,scaleThreshold:j2,scaleTime:gI,scaleUtc:vI,tickFormat:m2},Symbol.toStringTag,{value:"Module"}));var va=e=>e.chartData,tg=Y([va],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rg=(e,t,r,n)=>n?tg(e):va(e);function Qi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(pr(t)&&pr(r))return!0}return!1}function Mw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,l;if(pr(r))s=r;else if(typeof r=="function")return;if(pr(n))l=n;else if(typeof n=="function")return;var c=[s,l];if(Qi(c))return c}}function wI(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Qi(n))return Mw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(we(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&Nb.test(s)){var f=Nb.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t?.[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(we(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[1]))}catch{}else if(typeof l=="string"&&Sb.test(l)){var h=Sb.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t?.[1];var v=[c,d];if(Qi(v))return t==null?v:Mw(v,t,r)}}}var as=1e9,jI={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ag,et=!0,Or="[DecimalError] ",Ya=Or+"Invalid argument: ",ng=Or+"Exponent out of range: ",is=Math.floor,La=Math.pow,NI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,Et=1e7,Xe=7,$2=9007199254740991,Vc=is($2/Xe),he={};he.absoluteValue=he.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};he.comparedTo=he.cmp=function(e){var t,r,n,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===s?0:n>s^l.s<0?1:-1};he.decimalPlaces=he.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};he.dividedBy=he.div=function(e){return yn(this,new this.constructor(e))};he.dividedToIntegerBy=he.idiv=function(e){var t=this,r=t.constructor;return Ke(yn(t,new r(e),0,1),r.precision)};he.equals=he.eq=function(e){return!this.cmp(e)};he.exponent=function(){return pt(this)};he.greaterThan=he.gt=function(e){return this.cmp(e)>0};he.greaterThanOrEqualTo=he.gte=function(e){return this.cmp(e)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(e){return this.cmp(e)<0};he.lessThanOrEqualTo=he.lte=function(e){return this.cmp(e)<1};he.logarithm=he.log=function(e){var t,r=this,n=r.constructor,s=n.precision,l=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dr))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(dr)?new n(0):(et=!1,t=yn(No(r,l),No(e,l),l),et=!0,Ke(t,s))};he.minus=he.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B2(t,e):F2(t,(e.s=-e.s,e))};he.modulo=he.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Or+"NaN");return r.s?(et=!1,t=yn(r,e,0,1).times(e),et=!0,r.minus(t)):Ke(new n(r),s)};he.naturalExponential=he.exp=function(){return z2(this)};he.naturalLogarithm=he.ln=function(){return No(this)};he.negated=he.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};he.plus=he.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F2(t,e):B2(t,(e.s=-e.s,e))};he.precision=he.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ya+e);if(t=pt(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};he.squareRoot=he.sqrt=function(){var e,t,r,n,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(Or+"NaN")}for(e=pt(d),et=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=Xr(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=is((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(s.toString()),r=f.precision,s=c=r+3;;)if(l=n,n=l.plus(yn(d,l,c+2)).times(.5),Xr(l.d).slice(0,c)===(t=Xr(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Ke(l,r+1,0),l.times(l).eq(d)){n=l;break}}else if(t!="9999")break;c+=4}return et=!0,Ke(n,r)};he.times=he.mul=function(e){var t,r,n,s,l,c,d,f,m,h=this,g=h.constructor,v=h.d,j=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=j.length,f<m&&(l=v,v=j,j=l,c=f,f=m,m=c),l=[],c=f+m,n=c;n--;)l.push(0);for(n=m;--n>=0;){for(t=0,s=f+n;s>n;)d=l[s]+j[n]*v[s-n-1]+t,l[s--]=d%Et|0,t=d/Et|0;l[s]=(l[s]+t)%Et|0}for(;!l[--c];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,et?Ke(e,g.precision):e};he.toDecimalPlaces=he.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tn(e,0,as),t===void 0?t=n.rounding:tn(t,0,8),Ke(r,e+pt(r)+1,t))};he.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=ti(n,!0):(tn(e,0,as),t===void 0?t=s.rounding:tn(t,0,8),n=Ke(new s(n),e+1,t),r=ti(n,!0,e+1)),r};he.toFixed=function(e,t){var r,n,s=this,l=s.constructor;return e===void 0?ti(s):(tn(e,0,as),t===void 0?t=l.rounding:tn(t,0,8),n=Ke(new l(s),e+pt(s)+1,t),r=ti(n.abs(),!1,e+pt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};he.toInteger=he.toint=function(){var e=this,t=e.constructor;return Ke(new t(e),pt(e)+1,t.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(e){var t,r,n,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(dr);if(d=new f(d),!d.s){if(e.s<1)throw Error(Or+"Infinity");return d}if(d.eq(dr))return d;if(n=f.precision,e.eq(dr))return Ke(d,n);if(t=e.e,r=e.d.length-1,c=t>=r,l=d.s,c){if((r=h<0?-h:h)<=$2){for(s=new f(dr),t=Math.ceil(n/Xe+4),et=!1;r%2&&(s=s.times(d),_w(s.d,t)),r=is(r/2),r!==0;)d=d.times(d),_w(d.d,t);return et=!0,e.s<0?new f(dr).div(s):Ke(s,n)}}else if(l<0)throw Error(Or+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,et=!1,s=e.times(No(d,n+m)),et=!0,s=z2(s),s.s=l,s};he.toPrecision=function(e,t){var r,n,s=this,l=s.constructor;return e===void 0?(r=pt(s),n=ti(s,r<=l.toExpNeg||r>=l.toExpPos)):(tn(e,1,as),t===void 0?t=l.rounding:tn(t,0,8),s=Ke(new l(s),e,t),r=pt(s),n=ti(s,e<=r||r<=l.toExpNeg,e)),n};he.toSignificantDigits=he.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tn(e,1,as),t===void 0?t=n.rounding:tn(t,0,8)),Ke(new n(r),e,t)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pt(e),r=e.constructor;return ti(e,t<=r.toExpNeg||t>=r.toExpPos)};function F2(e,t){var r,n,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),et?Ke(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(n=f,l=-l,d=m.length):(n=m,s=c,d=f.length),c=Math.ceil(g/Xe),d=c>d?c+1:d+1,l>d&&(l=d,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,n=m,m=f,f=n),r=0;l;)r=(f[--l]=f[l]+m[l]+r)/Et|0,f[l]%=Et;for(r&&(f.unshift(r),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,et?Ke(t,g):t}function tn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ya+e)}function Xr(e){var t,r,n,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(l+=ta(r)),l+=n;c=e[t],n=c+"",r=Xe-n.length,r&&(l+=ta(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var yn=(function(){function e(n,s){var l,c=0,d=n.length;for(n=n.slice();d--;)l=n[d]*s+c,n[d]=l%Et|0,c=l/Et|0;return c&&n.unshift(c),n}function t(n,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(n[d]!=s[d]){f=n[d]>s[d]?1:-1;break}return f}function r(n,s,l){for(var c=0;l--;)n[l]-=c,c=n[l]<s[l]?1:0,n[l]=c*Et+n[l]-s[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,l,c){var d,f,m,h,g,v,j,b,w,y,P,C,E,k,O,M,I,K,V=n.constructor,L=n.s==s.s?1:-1,z=n.d,X=s.d;if(!n.s)return new V(n);if(!s.s)throw Error(Or+"Division by zero");for(f=n.e-s.e,I=X.length,O=z.length,j=new V(L),b=j.d=[],m=0;X[m]==(z[m]||0);)++m;if(X[m]>(z[m]||0)&&--f,l==null?C=l=V.precision:c?C=l+(pt(n)-pt(s))+1:C=l,C<0)return new V(0);if(C=C/Xe+2|0,m=0,I==1)for(h=0,X=X[0],C++;(m<O||h)&&C--;m++)E=h*Et+(z[m]||0),b[m]=E/X|0,h=E%X|0;else{for(h=Et/(X[0]+1)|0,h>1&&(X=e(X,h),z=e(z,h),I=X.length,O=z.length),k=I,w=z.slice(0,I),y=w.length;y<I;)w[y++]=0;K=X.slice(),K.unshift(0),M=X[0],X[1]>=Et/2&&++M;do h=0,d=t(X,w,I,y),d<0?(P=w[0],I!=y&&(P=P*Et+(w[1]||0)),h=P/M|0,h>1?(h>=Et&&(h=Et-1),g=e(X,h),v=g.length,y=w.length,d=t(g,w,v,y),d==1&&(h--,r(g,I<v?K:X,v))):(h==0&&(d=h=1),g=X.slice()),v=g.length,v<y&&g.unshift(0),r(w,g,y),d==-1&&(y=w.length,d=t(X,w,I,y),d<1&&(h++,r(w,I<y?K:X,y))),y=w.length):d===0&&(h++,w=[0]),b[m++]=h,d&&w[0]?w[y++]=z[k]||0:(w=[z[k]],y=1);while((k++<O||w[0]!==void 0)&&C--)}return b[0]||b.shift(),j.e=f,Ke(j,c?l+pt(j)+1:l)}})();function z2(e,t){var r,n,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(pt(e)>16)throw Error(ng+pt(e));if(!e.s)return new h(dr);for(et=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(La(2,m))/Math.LN10*2+5|0,d+=n,r=s=l=new h(dr),h.precision=d;;){if(s=Ke(s.times(e),d),r=r.times(++f),c=l.plus(yn(s,r,d)),Xr(c.d).slice(0,d)===Xr(l.d).slice(0,d)){for(;m--;)l=Ke(l.times(l),d);return h.precision=g,t==null?(et=!0,Ke(l,g)):l}l=c}}function pt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function Ym(e,t,r){if(t>e.LN10.sd())throw et=!0,r&&(e.precision=r),Error(Or+"LN10 precision limit exceeded");return Ke(new e(e.LN10),t)}function ta(e){for(var t="";e--;)t+="0";return t}function No(e,t){var r,n,s,l,c,d,f,m,h,g=1,v=10,j=e,b=j.d,w=j.constructor,y=w.precision;if(j.s<1)throw Error(Or+(j.s?"NaN":"-Infinity"));if(j.eq(dr))return new w(0);if(t==null?(et=!1,m=y):m=t,j.eq(10))return t==null&&(et=!0),Ym(w,m);if(m+=v,w.precision=m,r=Xr(b),n=r.charAt(0),l=pt(j),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)j=j.times(e),r=Xr(j.d),n=r.charAt(0),g++;l=pt(j),n>1?(j=new w("0."+r),l++):j=new w(n+"."+r.slice(1))}else return f=Ym(w,m+2,y).times(l+""),j=No(new w(n+"."+r.slice(1)),m-v).plus(f),w.precision=y,t==null?(et=!0,Ke(j,y)):j;for(d=c=j=yn(j.minus(dr),j.plus(dr),m),h=Ke(j.times(j),m),s=3;;){if(c=Ke(c.times(h),m),f=d.plus(yn(c,new w(s),m)),Xr(f.d).slice(0,m)===Xr(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Ym(w,m+2,y).times(l+""))),d=yn(d,new w(g),m),w.precision=y,t==null?(et=!0,Ke(d,y)):d;d=f,s+=2}}function Tw(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=is(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),et&&(e.e>Vc||e.e<-Vc))throw Error(ng+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ke(e,t,r){var n,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(n=t-c,n<0)n+=Xe,s=t,m=g[h=0];else{if(h=Math.ceil((n+1)/Xe),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;n%=Xe,s=n-Xe+c}if(r!==void 0&&(l=La(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=r<4?(d||f)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||f||r==6&&(n>0?s>0?m/La(10,c-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(l=pt(e),g.length=1,t=t-l-1,g[0]=La(10,(Xe-t%Xe)%Xe),e.e=is(-t/Xe)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=h,l=1,h--):(g.length=h+1,l=La(10,Xe-n),g[h]=s>0?(m/La(10,c-s)%La(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Et&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Et)break;g[h--]=0,l=1}for(n=g.length;g[--n]===0;)g.pop();if(et&&(e.e>Vc||e.e<-Vc))throw Error(ng+pt(e));return e}function B2(e,t){var r,n,s,l,c,d,f,m,h,g,v=e.constructor,j=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),et?Ke(t,j):t;if(f=e.d,g=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,d=g.length):(r=g,n=m,d=f.length),s=Math.max(Math.ceil(j/Xe),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(r=f,f=g,g=r,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=Et-1;--f[l],f[s]+=Et}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,et?Ke(t,j):t):new v(0)}function ti(e,t,r){var n,s=pt(e),l=Xr(e.d),c=l.length;return t?(r&&(n=r-c)>0?l=l.charAt(0)+"."+l.slice(1)+ta(n):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+ta(-s-1)+l,r&&(n=r-c)>0&&(l+=ta(n))):s>=c?(l+=ta(s+1-c),r&&(n=r-s-1)>0&&(l=l+"."+ta(n))):((n=s+1)<c&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-c)>0&&(s+1===c&&(l+="."),l+=ta(n))),e.s<0?"-"+l:l}function _w(e,t){if(e.length>t)return e.length=t,!0}function U2(e){var t,r,n;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Ya+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return Tw(c,l.toString())}else if(typeof l!="string")throw Error(Ya+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,NI.test(l))Tw(c,l);else throw Error(Ya+l)}if(s.prototype=he,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=U2,s.config=s.set=SI,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function SI(e){if(!e||typeof e!="object")throw Error(Or+"Object expected");var t,r,n,s=["precision",1,as,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(is(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ya+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ya+r+": "+n);return this}var ag=U2(jI);dr=new ag(1);const Be=ag;var PI=e=>e,q2={},W2=e=>e===q2,Iw=e=>function t(){return arguments.length===0||arguments.length===1&&W2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},K2=(e,t)=>e===1?t:Iw(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var l=n.filter(c=>c!==q2).length;return l>=e?t(...n):K2(e-l,Iw(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=n.map(h=>W2(h)?d.shift():h);return t(...m,...d)}))}),Au=e=>K2(e.length,e),Hh=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},CI=Au((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),EI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PI;var s=r.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},Yh=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),V2=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,r=e(...s)),r}};function H2(e){var t;return e===0?t=1:t=Math.floor(new Be(e).abs().log(10).toNumber())+1,t}function Y2(e,t,r){for(var n=new Be(e),s=0,l=[];n.lt(t)&&s<1e5;)l.push(n.toNumber()),n=n.add(r),s++;return l}Au((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Au((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Au((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var G2=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},X2=(e,t,r)=>{if(e.lte(0))return new Be(0);var n=H2(e.toNumber()),s=new Be(10).pow(n),l=e.div(s),c=n!==1?.05:.1,d=new Be(Math.ceil(l.div(c).toNumber())).add(r).mul(c),f=d.mul(s);return t?new Be(f.toNumber()):new Be(Math.ceil(f.toNumber()))},kI=(e,t,r)=>{var n=new Be(1),s=new Be(e);if(!s.isint()&&r){var l=Math.abs(e);l<1?(n=new Be(10).pow(H2(e)-1),s=new Be(Math.floor(s.div(n).toNumber())).mul(n)):l>1&&(s=new Be(Math.floor(e)))}else e===0?s=new Be(Math.floor((t-1)/2)):r||(s=new Be(Math.floor(e)));var c=Math.floor((t-1)/2),d=EI(CI(f=>s.add(new Be(f-c).mul(n)).toNumber()),Hh);return d(0,t)},Q2=function(t,r,n,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Be(0),tickMin:new Be(0),tickMax:new Be(0)};var c=X2(new Be(r).sub(t).div(n-1),s,l),d;t<=0&&r>=0?d=new Be(0):(d=new Be(t).add(r).div(2),d=d.sub(new Be(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Be(r).sub(d).div(c).toNumber()),h=f+m+1;return h>n?Q2(t,r,n,s,l+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:d.sub(new Be(f).mul(c)),tickMax:d.add(new Be(m).mul(c))})};function AI(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),[c,d]=G2([t,r]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Hh(0,n-1).map(()=>1/0)]:[...Hh(0,n-1).map(()=>-1/0),d];return t>r?Yh(f):f}if(c===d)return kI(c,n,s);var{step:m,tickMin:h,tickMax:g}=Q2(c,d,l,s,0),v=Y2(h,g.add(new Be(.1).mul(m)),m);return t>r?Yh(v):v}function OI(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=G2([r,n]);if(l===-1/0||c===1/0)return[r,n];if(l===c)return[l];var d=Math.max(t,2),f=X2(new Be(c).sub(l).div(d-1),s,0),m=[...Y2(new Be(l),new Be(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),r>n?Yh(m):m}var MI=V2(AI),TI=V2(OI),Z2=e=>e.rootProps.maxBarSize,_I=e=>e.rootProps.barGap,J2=e=>e.rootProps.barCategoryGap,II=e=>e.rootProps.barSize,Ro=e=>e.rootProps.stackOffset,ig=e=>e.options.chartName,sg=e=>e.rootProps.syncId,eS=e=>e.rootProps.syncMethod,og=e=>e.options.eventEmitter,mn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ou=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mn.angleAxisId,includeHidden:!1,name:void 0,reversed:mn.reversed,scale:mn.scale,tick:mn.tick,tickCount:void 0,ticks:void 0,type:mn.type,unit:void 0},RI={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:ur.type,unit:void 0},LI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$I={allowDataOverflow:ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,ticks:void 0,type:"category",unit:void 0},lg=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?LI:DI,cg=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$I:RI,Mu=e=>e.polarOptions,ug=Y([Cn,En,bt],IN),tS=Y([Mu,ug],(e,t)=>{if(e!=null)return Wt(e.innerRadius,t,0)}),rS=Y([Mu,ug],(e,t)=>{if(e!=null)return Wt(e.outerRadius,t,t*.8)}),FI=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},nS=Y([Mu],FI);Y([lg,nS],Ou);var aS=Y([ug,tS,rS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([cg,aS],Ou);var iS=Y([Le,Mu,tS,rS,Cn,En],(e,t,r,n,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:Wt(c,s,s/2),cy:Wt(d,l,l/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),tt=(e,t)=>t,Lo=(e,t,r)=>r;function dg(e){return e?.id}var jt=e=>{var t=Le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ss=e=>e.tooltip.settings.axisId,Mt=e=>{var t=jt(e),r=ss(e);return $o(e,t,r)},sS=Y([Mt],e=>e?.dataKey);function oS(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:l}=r,c=new Map;return e.forEach(d=>{var f,m=(f=d.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var h=dg(d);m.forEach((g,v)=>{var j=l==null||s?v:String(Je(g,l,null)),b=Je(g,d.dataKey,0),w;c.has(j)?w=c.get(j):w={},Object.assign(w,{[h]:b}),c.set(j,w)})}}),Array.from(c.values())}function Tu(e){return e.stackId!=null&&e.dataKey!=null}function Dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dw(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zI(e,t,r){return(t=BI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e){var t=UI(e,"string");return typeof t=="symbol"?t:t+""}function UI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gh=[0,"auto"],lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lS=(e,t)=>e.cartesianAxis.xAxis[t],xa=(e,t)=>{var r=lS(e,t);return r??lr},cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mo},cS=(e,t)=>e.cartesianAxis.yAxis[t],ya=(e,t)=>{var r=cS(e,t);return r??cr},qI={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fg=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??qI},dt=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ya(e,r);case"zAxis":return fg(e,r);case"angleAxis":return lg(e,r);case"radiusAxis":return cg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WI=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ya(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$o=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return ya(e,r);case"angleAxis":return lg(e,r);case"radiusAxis":return cg(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mg(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var hg=e=>e.graphicalItems.cartesianItems,KI=Y([tt,Lo],mg),pg=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Fo=Y([hg,dt,KI],pg),dS=Y([Fo],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tu)),fS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mS=Y([Fo],fS),gg=e=>e.map(t=>t.data).filter(Boolean).flat(1),VI=Y([Fo],gg),vg=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},xg=Y([VI,rg],vg),yg=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Je(s,n)}))):e.map(n=>({value:n})),_u=Y([xg,dt,Fo],yg);function hS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function oi(e){return e.filter(t=>en(t)||t instanceof Date).map(Number).filter(t=>mr(t)===!1)}function HI(e,t,r){return!r||typeof t!="number"||mr(t)?[]:r.length?oi(r.flatMap(n=>{var s=Je(e,n.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!pr(l)||!pr(c)))return[t-l,t+c]})):[]}var YI=Y([dS,rg,Mt],oS),pS=(e,t,r)=>{var n={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),n);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(dg);return[c,{stackedData:d4(e,f,r),graphicalItems:d}]}))},Xh=Y([YI,dS,Ro],pS),gS=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var l=g4(e,n,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},GI=Y([Xh,va,tt],gS),vS=(e,t,r,n,s)=>r.length>0?e.flatMap(l=>r.flatMap(c=>{var d,f,m=(d=n[c.id])===null||d===void 0?void 0:d.filter(g=>hS(s,g)),h=Je(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:HI(l,h,m)}})).filter(Boolean):t?.dataKey!=null?e.map(l=>({value:Je(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),Iu=e=>e.errorBars,xS=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>hS(r,n));Y([mS,Iu,tt],xS);var XI=Y([xg,dt,mS,Iu,tt],vS);function QI(e){var{value:t}=e;if(en(t)||t instanceof Date)return t}var Rw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=oi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZI=(e,t,r)=>{var n=e.map(QI).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Oj(n))?n2(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},bg=e=>{var t;if(e==null||!("domain"in e))return Gh;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=oi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Gh},Yc=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},yS=e=>e.referenceElements.dots,os=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),JI=Y([yS,tt,Lo],os),bS=e=>e.referenceElements.areas,eD=Y([bS,tt,Lo],os),wS=e=>e.referenceElements.lines,tD=Y([wS,tt,Lo],os),jS=(e,t)=>{var r=oi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rD=Y(JI,tt,jS),NS=(e,t)=>{var r=oi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nD=Y([eD,tt],NS),SS=(e,t)=>{var r=oi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aD=Y(tD,tt,SS),iD=Y(rD,aD,nD,(e,t,r)=>Yc(e,r,t)),PS=Y([dt],bg),wg=(e,t,r,n,s,l,c)=>{var d=bI(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?Yc(r,s,Rw(n)):Yc(s,Rw(n));return wI(t,m,e.allowDataOverflow)},sD=Y([dt,PS,GI,XI,iD,Le,tt],wg),oD=[0,1],jg=(e,t,r,n,s,l,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=ai(t,l);return m&&d==null?n2(0,r.length):f==="category"?ZI(n,e,m):s==="expand"?oD:c}},Ng=Y([dt,Le,xg,_u,Ro,tt,sD],jg),CS=(e,t,r,n,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(ko(l));return d in uo?d:"point"}}},ls=Y([dt,Le,uS,ig,tt],CS);function lD(e){if(e!=null){if(e in uo)return uo[e]();var t="scale".concat(ko(e));if(t in uo)return uo[t]()}}function Sg(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=lD(t);if(s!=null){var l=s.domain(r).range(n);return s4(l),l}}}var Pg=(e,t,r)=>{var n=bg(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Qi(e))return MI(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qi(e))return TI(e,t.tickCount,t.allowDecimals)}},Cg=Y([Ng,$o,ls],Pg),Eg=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Qi(t)&&Array.isArray(r)&&r.length>0){var s=t[0],l=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},cD=Y([dt,Ng,Cg,tt],Eg),uD=Y(_u,dt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(oi(e.map(d=>d.value))).sort((d,f)=>d-f);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l+1]-n[l];r=Math.min(r,c)}return r/s}}),ES=Y(uD,Le,J2,bt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!pr(e))return 0;var l=t==="vertical"?n.height:n.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=Wt(r,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),dD=(e,t)=>{var r=xa(e,t);return r==null||typeof r.padding!="string"?0:ES(e,"xAxis",t,r.padding)},fD=(e,t)=>{var r=ya(e,t);return r==null||typeof r.padding!="string"?0:ES(e,"yAxis",t,r.padding)},mD=Y(xa,dD,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),hD=Y(ya,fD,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),pD=Y([bt,mD,bu,yu,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:l}=n;return s?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),gD=Y([bt,Le,hD,bu,yu,(e,t,r)=>r],(e,t,r,n,s,l)=>{var{padding:c}=s;return l?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),zo=(e,t,r,n)=>{var s;switch(t){case"xAxis":return pD(e,r,n);case"yAxis":return gD(e,r,n);case"zAxis":return(s=fg(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return nS(e);case"radiusAxis":return aS(e,r);default:return}},kS=Y([dt,zo],Ou),cs=Y([dt,ls,cD,kS],Sg);Y([Fo,Iu,tt],xS);function AS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Du=(e,t)=>t,Ru=(e,t,r)=>r,vD=Y(vu,Du,Ru,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AS)),xD=Y(xu,Du,Ru,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AS)),OS=(e,t)=>({width:e.width,height:t.height}),yD=(e,t)=>{var r=typeof t.width=="number"?t.width:Mo;return{width:r,height:e.height}},MS=Y(bt,xa,OS),bD=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},wD=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jD=Y(En,bt,vD,Du,Ru,(e,t,r,n,s)=>{var l={},c;return r.forEach(d=>{var f=OS(t,d);c==null&&(c=bD(t,n,e));var m=n==="top"&&!s||n==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),ND=Y(Cn,bt,xD,Du,Ru,(e,t,r,n,s)=>{var l={},c;return r.forEach(d=>{var f=yD(t,d);c==null&&(c=wD(t,n,e));var m=n==="left"&&!s||n==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),SD=(e,t)=>{var r=bt(e),n=xa(e,t);if(n!=null){var s=jD(e,n.orientation,n.mirror),l=s[t];return l==null?{x:r.left,y:0}:{x:r.left,y:l}}},PD=(e,t)=>{var r=bt(e),n=ya(e,t);if(n!=null){var s=ND(e,n.orientation,n.mirror),l=s[t];return l==null?{x:0,y:r.top}:{x:l,y:r.top}}},TS=Y(bt,ya,(e,t)=>{var r=typeof t.width=="number"?t.width:Mo;return{width:r,height:e.height}}),Lw=(e,t,r)=>{switch(t){case"xAxis":return MS(e,r).width;case"yAxis":return TS(e,r).height;default:return}},_S=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=r,d=ai(e,n),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&Oj(f))return f}},kg=Y([Le,_u,dt,tt],_S),IS=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:l}=r,c=ai(e,n);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},Ag=Y([Le,_u,$o,tt],IS),$w=Y([Le,WI,ls,cs,kg,Ag,zo,Cg,tt],(e,t,r,n,s,l,c,d,f)=>{if(t==null)return null;var m=ai(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:r,scale:n}}),CD=(e,t,r,n,s,l,c,d,f)=>{if(!(t==null||n==null)){var m=ai(e,f),{type:h,ticks:g,tickCount:v}=t,j=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/j:0;b=f==="angleAxis"&&l!=null&&l.length>=2?kt(l[0]-l[1])*2*b:b;var w=g||s;if(w){var y=w.map((P,C)=>{var E=c?c.indexOf(P):P;return{index:C,coordinate:n(E)+b,value:P,offset:b}});return y.filter(P=>!mr(P.coordinate))}return m&&d?d.map((P,C)=>({coordinate:n(P)+b,value:P,index:C,offset:b})):n.ticks?n.ticks(v).map(P=>({coordinate:n(P)+b,value:P,offset:b})):n.domain().map((P,C)=>({coordinate:n(P)+b,value:c?c[P]:P,index:C,offset:b}))}},DS=Y([Le,$o,ls,cs,Cg,zo,kg,Ag,tt],CD),ED=(e,t,r,n,s,l,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=ai(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?kt(n[0]-n[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:r(h)+m,value:h,index:g,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,g)=>({coordinate:r(h)+m,value:s?s[h]:h,index:g,offset:m}))}},Zi=Y([Le,$o,cs,zo,kg,Ag,tt],ED),Ji=Y(dt,cs,(e,t)=>{if(!(e==null||t==null))return Hc(Hc({},e),{},{scale:t})}),kD=Y([dt,ls,Ng,kS],Sg);Y((e,t,r)=>fg(e,r),kD,(e,t)=>{if(!(e==null||t==null))return Hc(Hc({},e),{},{scale:t})});var AD=Y([Le,vu,xu],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RS=e=>e.options.defaultTooltipEventType,LS=e=>e.options.validateTooltipEventTypes;function $S(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Og(e,t){var r=RS(e),n=LS(e);return $S(t,r,n)}function OD(e){return be(t=>Og(t,e))}var FS=(e,t)=>{var r,n=Number(t);if(!(mr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},MD=e=>e.tooltip.settings,na={active:!1,index:null,dataKey:void 0,coordinate:void 0},TD={itemInteraction:{click:na,hover:na},axisInteraction:{click:na,hover:na},keyboardInteraction:na,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zS=gr({name:"tooltip",initialState:TD,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=xn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_D,removeTooltipEntrySettings:ID,setTooltipSettingsState:DD,setActiveMouseOverItemIndex:BS,mouseLeaveItem:RD,mouseLeaveChart:US,setActiveClickItemIndex:LD,setMouseOverAxisIndex:qS,setMouseClickAxisIndex:$D,setSyncInteraction:Qh,setKeyboardInteraction:Zh}=zS.actions,FD=zS.reducer;function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){zD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zD(e,t,r){return(t=BD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=UD(e,"string");return typeof t=="symbol"?t:t+""}function UD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qD(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WD(e){return e.index!=null}var WS=(e,t,r,n)=>{if(t==null)return na;var s=qD(e,t,r);if(s==null)return na;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(WD(s)){if(l)return fc(fc({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return fc(fc({},na),{},{coordinate:s.coordinate})},Mg=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!pr(n))return r;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(n,l)))},KS=(e,t,r,n,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s?.[Number(l)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},VS=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Bo=e=>e.options.tooltipPayloadSearcher,us=e=>e.tooltip;function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){KD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KD(e,t,r){return(t=VD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VD(e){var t=HD(e,"string");return typeof t=="symbol"?t:t+""}function HD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YD(e,t){return e??t}var HS=(e,t,r,n,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,g=[];return e.reduce((v,j)=>{var b,{dataDefinedOnItem:w,settings:y}=j,P=YD(w,d),C=Array.isArray(P)?DN(P,m,h):P,E=(b=y?.dataKey)!==null&&b!==void 0?b:n,k=y?.nameKey,O;if(n&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?O=Qk(C,n,s):O=l(C,t,f,k),Array.isArray(O))O.forEach(I=>{var K=Bw(Bw({},y),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(Pb({tooltipEntrySettings:K,dataKey:I.dataKey,payload:I.payload,value:Je(I.payload,I.dataKey),name:I.name}))});else{var M;v.push(Pb({tooltipEntrySettings:y,dataKey:E,payload:O,value:Je(O,E),name:(M=Je(O,k))!==null&&M!==void 0?M:y?.name}))}return v},g)}},Tg=Y([Mt,Le,uS,ig,jt],CS),GD=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),XD=Y([jt,ss],mg),Uo=Y([GD,Mt,XD],pg),QD=Y([Uo],e=>e.filter(Tu)),ZD=Y([Uo],gg),ds=Y([ZD,va],vg),JD=Y([QD,va,Mt],oS),_g=Y([ds,Mt,Uo],yg),e5=Y([Mt],bg),t5=Y([Uo],e=>e.filter(Tu)),r5=Y([JD,t5,Ro],pS),n5=Y([r5,va,jt],gS),a5=Y([Uo],fS),i5=Y([ds,Mt,a5,Iu,jt],vS),s5=Y([yS,jt,ss],os),o5=Y([s5,jt],jS),l5=Y([bS,jt,ss],os),c5=Y([l5,jt],NS),u5=Y([wS,jt,ss],os),d5=Y([u5,jt],SS),f5=Y([o5,d5,c5],Yc),m5=Y([Mt,e5,n5,i5,f5,Le,jt],wg),YS=Y([Mt,Le,ds,_g,Ro,jt,m5],jg),h5=Y([YS,Mt,Tg],Pg),p5=Y([Mt,YS,h5,jt],Eg),GS=e=>{var t=jt(e),r=ss(e),n=!1;return zo(e,t,r,n)},XS=Y([Mt,GS],Ou),QS=Y([Mt,Tg,p5,XS],Sg),g5=Y([Le,_g,Mt,jt],_S),v5=Y([Le,_g,Mt,jt],IS),x5=(e,t,r,n,s,l,c,d)=>{if(t){var{type:f}=t,m=ai(e,d);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&s?.length>=2?kt(s[0]-s[1])*2*g:g,m&&c?c.map((v,j)=>({coordinate:n(v)+g,value:v,index:j,offset:g})):n.domain().map((v,j)=>({coordinate:n(v)+g,value:l?l[v]:v,index:j,offset:g}))}}},An=Y([Le,Mt,Tg,QS,GS,g5,v5,jt],x5),Ig=Y([RS,LS,MD],(e,t,r)=>$S(r.shared,e,t)),ZS=e=>e.tooltip.settings.trigger,Dg=e=>e.tooltip.settings.defaultIndex,Lu=Y([us,Ig,ZS,Dg],WS),ri=Y([Lu,ds],Mg),JS=Y([An,ri],FS),eP=Y([Lu],e=>{if(e)return e.dataKey}),tP=Y([us,Ig,ZS,Dg],VS),y5=Y([Cn,En,Le,bt,An,Dg,tP,Bo],KS),b5=Y([Lu,y5],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),w5=Y([Lu],e=>e.active),j5=Y([tP,ri,va,sS,JS,Bo,Ig],HS);Y([j5],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){N5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5(e,t,r){return(t=S5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S5(e){var t=P5(e,"string");return typeof t=="symbol"?t:t+""}function P5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C5=()=>be(Mt),E5=()=>{var e=C5(),t=be(An),r=be(QS);return kp(qw(qw({},e),{},{scale:r}),t)},k5=()=>be(ig),Rg=(e,t)=>t,rP=(e,t,r)=>r,Lg=(e,t,r,n)=>n,A5=Y(An,e=>uu(e,t=>t.coordinate)),$g=Y([us,Rg,rP,Lg],WS),nP=Y([$g,ds],Mg),O5=(e,t,r)=>{if(t!=null){var n=us(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aP=Y([us,Rg,rP,Lg],VS),Gc=Y([Cn,En,Le,bt,An,Lg,aP,Bo],KS),M5=Y([$g,Gc],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iP=Y(An,nP,FS),T5=Y([aP,nP,va,sS,iP,Bo,Rg],HS),_5=Y([$g],e=>({isActive:e.active,activeIndex:e.index})),I5=(e,t,r,n,s,l,c,d)=>{if(!(!e||!t||!n||!s||!l)){var f=v4(e.chartX,e.chartY,t,r,d);if(f){var m=y4(f,t),h=a4(m,c,l,n,s),g=x4(t,l,h,f);return{activeIndex:String(h),activeCoordinate:g}}}};function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(null,arguments)}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){D5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D5(e,t,r){return(t=R5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R5(e){var t=L5(e,"string");return typeof t=="symbol"?t:t+""}function L5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $5(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,g=r,v=n;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var j,b;if(m==="ScatterChart")j=h,b=s3;else if(m==="BarChart")j=o3(c,h,s,l),b=JN;else if(c==="radial"){var{cx:w,cy:y,radius:P,startAngle:C,endAngle:E}=e2(h);j={cx:w,cy:y,startAngle:C,endAngle:E,innerRadius:P,outerRadius:P},b=r2}else j={points:z3(c,h,s)},b=YN;var k=typeof d=="object"&&"className"in d?d.className:void 0,O=mc(mc(mc(mc({stroke:"#ccc",pointerEvents:"none"},s),j),mt(d,!1)),{},{payload:g,payloadIndex:v,className:qe("recharts-tooltip-cursor",k)});return S.isValidElement(d)?S.cloneElement(d,O):S.createElement(b,O)}function F5(e){var t=E5(),r=BN(),n=Mp(),s=k5();return S.createElement($5,Jh({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var sP=S.createContext(null),z5=()=>S.useContext(sP),Gm={exports:{}},Kw;function B5(){return Kw||(Kw=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var j=new s(h,g||f,v),b=r?r+m:m;return f._events[b]?f._events[b].fn?f._events[b]=[f._events[b],j]:f._events[b].push(j):(f._events[b]=j,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=r?r+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,j=g.length,b=new Array(j);v<j;v++)b[v]=g[v].fn;return b},d.prototype.listenerCount=function(m){var h=r?r+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,v,j,b){var w=r?r+m:m;if(!this._events[w])return!1;var y=this._events[w],P=arguments.length,C,E;if(y.fn){switch(y.once&&this.removeListener(m,y.fn,void 0,!0),P){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,g),!0;case 4:return y.fn.call(y.context,h,g,v),!0;case 5:return y.fn.call(y.context,h,g,v,j),!0;case 6:return y.fn.call(y.context,h,g,v,j,b),!0}for(E=1,C=new Array(P-1);E<P;E++)C[E-1]=arguments[E];y.fn.apply(y.context,C)}else{var k=y.length,O;for(E=0;E<k;E++)switch(y[E].once&&this.removeListener(m,y[E].fn,void 0,!0),P){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,h);break;case 3:y[E].fn.call(y[E].context,h,g);break;case 4:y[E].fn.call(y[E].context,h,g,v);break;default:if(!C)for(O=1,C=new Array(P-1);O<P;O++)C[O-1]=arguments[O];y[E].fn.apply(y[E].context,C)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,v){var j=r?r+m:m;if(!this._events[j])return this;if(!h)return c(this,j),this;var b=this._events[j];if(b.fn)b.fn===h&&(!v||b.once)&&(!g||b.context===g)&&c(this,j);else{for(var w=0,y=[],P=b.length;w<P;w++)(b[w].fn!==h||v&&!b[w].once||g&&b[w].context!==g)&&y.push(b[w]);y.length?this._events[j]=y.length===1?y[0]:y:c(this,j)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(Gm)),Gm.exports}var U5=B5();const q5=Pn(U5);var So=new q5,ep="recharts.syncEvent.tooltip",Vw="recharts.syncEvent.brush";function oP(e,t){if(t){var r=Number.parseInt(t,10);if(!mr(r))return e?.[r]}}var W5={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lP=gr({name:"options",initialState:W5,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),K5=lP.reducer,{createEventEmitter:V5}=lP.actions;function H5(e){return e.tooltip.syncInteraction}var Y5={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cP=gr({name:"chartData",initialState:Y5,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Hw,setDataStartEndIndexes:G5,setComputedData:y9}=cP.actions,X5=cP.reducer,Q5=["x","y"];function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z5(e,t,r){return(t=J5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t6(e,t){if(e==null)return{};var r,n,s=r6(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uP=()=>{};function n6(){var e=be(sg),t=be(og),r=ut(),n=be(eS),s=be(An),l=Mp(),c=Op(),d=be(f=>f.rootProps.className);S.useEffect(()=>{if(e==null)return uP;var f=(m,h,g)=>{if(t!==g&&e===m){if(n==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate){var j=h.payload.coordinate,{x:b,y:w}=j,y=t6(j,Q5),P=Ia(Ia(Ia({},y),typeof b=="number"&&{x:Math.max(c.x,Math.min(b,c.x+c.width))}),typeof w=="number"&&{y:Math.max(c.y,Math.min(w,c.y+c.height))}),C=Ia(Ia({},h),{},{payload:Ia(Ia({},h.payload),{},{coordinate:P})});r(C)}else r(h);return}if(s!=null){var E;if(typeof n=="function"){var k={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=n(s,k);E=s[O]}else n==="value"&&(E=s.find(Q=>String(Q.value)===h.payload.label));var{coordinate:M}=h.payload;if(E==null||h.payload.active===!1||M==null||c==null){r(Qh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:K}=M,V=Math.min(I,c.x+c.width),L=Math.min(K,c.y+c.height),z={x:l==="horizontal"?E.coordinate:V,y:l==="horizontal"?L:E.coordinate},X=Qh({active:h.payload.active,coordinate:z,dataKey:h.payload.dataKey,index:String(E.index),label:h.payload.label});r(X)}}};return So.on(ep,f),()=>{So.off(ep,f)}},[d,r,t,e,n,s,l,c])}function a6(){var e=be(sg),t=be(og),r=ut();S.useEffect(()=>{if(e==null)return uP;var n=(s,l,c)=>{t!==c&&e===s&&r(G5(l))};return So.on(Vw,n),()=>{So.off(Vw,n)}},[r,t,e])}function i6(){var e=ut();S.useEffect(()=>{e(V5())},[e]),n6(),a6()}function s6(e,t,r,n,s,l){var c=be(v=>O5(v,e,t)),d=be(og),f=be(sg),m=be(eS),h=be(H5),g=h?.active;S.useEffect(()=>{if(!g&&f!=null&&d!=null){var v=Qh({active:l,coordinate:r,dataKey:c,index:s,label:typeof n=="number"?String(n):n});So.emit(ep,f,v,d)}},[g,r,c,s,n,d,f,m,l])}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){o6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6(e,t,r){return(t=l6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=c6(e,"string");return typeof t=="symbol"?t:t+""}function c6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u6(e){return e.dataKey}function d6(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement($4,t)}var Qw=[],f6={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zw(e){var t=Tr(e,f6),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:g,reverseDirection:v,useTranslate3d:j,wrapperStyle:b,cursor:w,shared:y,trigger:P,defaultIndex:C,portal:E,axisId:k}=t,O=ut(),M=typeof C=="number"?String(C):C;S.useEffect(()=>{O(DD({shared:y,trigger:P,axisId:k,active:r,defaultIndex:M}))},[O,y,P,k,r,M]);var I=Op(),K=HN(),V=OD(y),{activeIndex:L,isActive:z}=be(de=>_5(de,V,P,M)),X=be(de=>T5(de,V,P,M)),Q=be(de=>iP(de,V,P,M)),R=be(de=>M5(de,V,P,M)),Z=X,le=z5(),ie=r??z,[J,F]=YO([Z,ie]),ee=V==="axis"?Q:void 0;s6(V,P,R,ee,L,ie);var _=E??le;if(_==null)return null;var B=Z??Qw;ie||(B=Qw),d&&B.length&&(B=bO(Z.filter(de=>de.value!=null&&(de.hide!==!0||t.includeHidden)),h,u6));var ge=B.length>0,ce=S.createElement(K4,{allowEscapeViewBox:n,animationDuration:s,animationEasing:l,isAnimationActive:f,active:ie,coordinate:R,hasPayload:ge,offset:m,position:g,reverseDirection:v,useTranslate3d:j,viewBox:I,wrapperStyle:b,lastBoundingBox:J,innerRef:F,hasPortalFromProps:!!E},d6(c,Xw(Xw({},t),{},{payload:B,label:ee,active:ie,coordinate:R,accessibilityLayer:K})));return S.createElement(S.Fragment,null,uA.createPortal(ce,_),ie&&S.createElement(F5,{cursor:w,tooltipEventType:V,coordinate:R,payload:Z,index:L}))}var Xm={},Qm={},Zm={},Jw;function m6(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},g=()=>{m&&h(),w()};let v=null;const j=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},b=()=>{v!==null&&(clearTimeout(v),v=null)},w=()=>{b(),c=void 0,d=null},y=()=>{h()},P=function(...C){if(s?.aborted)return;c=this,d=C;const E=v==null;j(),f&&E&&h()};return P.schedule=j,P.cancel=w,P.flush=y,s?.addEventListener("abort",w,{once:!0}),P}e.debounce=t})(Zm)),Zm}var e1;function h6(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6();function r(n,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,g=null;const v=t.debounce(function(...w){h=n.apply(this,w),g=null},s,{edges:m}),j=function(...w){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=n.apply(this,w),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,w),h)},b=()=>(v.flush(),h);return j.cancel=v.cancel,j.flush=b,j}e.debounce=r})(Qm)),Qm}var t1;function p6(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h6();function r(n,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(n,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(Xm)),Xm}var Jm,r1;function g6(){return r1||(r1=1,Jm=p6().throttle),Jm}var v6=g6();const x6=Pn(v6);var fo=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),l=2;l<n;l++)s[l-2]=arguments[l]};function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){y6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y6(e,t,r){return(t=b6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=w6(e,"string");return typeof t=="symbol"?t:t+""}function w6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a1=S.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:v,onResize:j,style:b={}}=e,w=S.useRef(null),y=S.useRef();y.current=j,S.useImperativeHandle(t,()=>w.current);var[P,C]=S.useState({containerWidth:n.width,containerHeight:n.height}),E=S.useCallback((O,M)=>{C(I=>{var K=Math.round(O),V=Math.round(M);return I.containerWidth===K&&I.containerHeight===V?I:{containerWidth:K,containerHeight:V}})},[]);S.useEffect(()=>{var O=V=>{var L,{width:z,height:X}=V[0].contentRect;E(z,X),(L=y.current)===null||L===void 0||L.call(y,z,X)};h>0&&(O=x6(O,h,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),{width:I,height:K}=w.current.getBoundingClientRect();return E(I,K),M.observe(w.current),()=>{M.disconnect()}},[E,h]);var k=S.useMemo(()=>{var{containerWidth:O,containerHeight:M}=P;if(O<0||M<0)return null;fo(Fa(s)||Fa(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),fo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Fa(s)?O:s,K=Fa(l)?M:l;return r&&r>0&&(I?K=I/r:K&&(I=K*r),f&&K>f&&(K=f)),fo(I>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,K,s,l,c,d,r),S.Children.map(m,V=>S.cloneElement(V,{width:I,height:K,style:eh({width:I,height:K},V.props.style)}))},[r,m,l,f,d,c,P,s]);return S.createElement("div",{id:g?"".concat(g):void 0,className:qe("recharts-responsive-container",v),style:eh(eh({},b),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:w},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),qo=e=>null;qo.displayName="Cell";function j6(e,t,r){return(t=N6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class P6{constructor(t){j6(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){E6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6(e,t,r){return(t=k6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k6(e){var t=A6(e,"string");return typeof t=="symbol"?t:t+""}function A6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6={cacheSize:2e3,enableCache:!0},dP=C6({},O6),s1=new P6(dP.cacheSize),M6={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},o1="recharts_measurement_span";function T6(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var l1=(e,t)=>{try{var r=document.getElementById(o1);r||(r=document.createElement("span"),r.setAttribute("id",o1),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,M6,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},mo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rs.isSsr)return{width:0,height:0};if(!dP.enableCache)return l1(t,r);var n=T6(t,r),s=s1.get(n);if(s)return s;var l=l1(t,r);return s1.set(n,l),l},c1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I6=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},D6=Object.keys(fP),$i="NaN";function R6(e,t){return e*fP[t]}class tr{static parse(t){var r,[,n,s]=(r=I6.exec(t))!==null&&r!==void 0?r:[];return new tr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mr(t)&&(this.unit=""),r!==""&&!_6.test(r)&&(this.num=NaN,this.unit=""),D6.includes(r)&&(this.num=R6(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new tr(NaN,""):new tr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new tr(NaN,""):new tr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new tr(NaN,""):new tr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new tr(NaN,""):new tr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function mP(e){if(e.includes($i))return $i;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,l]=(r=c1.exec(t))!==null&&r!==void 0?r:[],c=tr.parse(n??""),d=tr.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return $i;t=t.replace(c1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,v]=(m=u1.exec(t))!==null&&m!==void 0?m:[],j=tr.parse(h??""),b=tr.parse(v??""),w=g==="+"?j.add(b):j.subtract(b);if(w.isNaN())return $i;t=t.replace(u1,w.toString())}return t}var d1=/\(([^()]*)\)/;function L6(e){for(var t=e,r;(r=d1.exec(t))!=null;){var[,n]=r;t=t.replace(d1,mP(n))}return t}function $6(e){var t=e.replace(/\s+/g,"");return t=L6(t),t=mP(t),t}function F6(e){try{return $6(e)}catch{return $i}}function th(e){var t=F6(e.slice(5,-1));return t===$i?"":t}var z6=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],B6=["dx","dy","angle","className","breakAll"];function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}function f1(e,t){if(e==null)return{};var r,n,s=U6(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function U6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hP=/[ \f\n\r\t\v\u2028\u2029]+/,pP=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];At(t)||(r?s=t.toString().split(""):s=t.toString().split(hP));var l=s.map(d=>({word:d,width:mo(d,n).width})),c=r?0:mo("",n).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},q6=(e,t,r,n,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=we(l),h=c,g=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((X,Q)=>{var{word:R,width:Z}=Q,le=X[X.length-1];if(le&&(n==null||s||le.width+Z+r<Number(n)))le.words.push(R),le.width+=Z+r;else{var ie={words:[R],width:Z};X.push(ie)}return X},[])},v=g(t),j=L=>L.reduce((z,X)=>z.width>X.width?z:X);if(!m||s)return v;var b=v.length>l||j(v).width>Number(n);if(!b)return v;for(var w="",y=L=>{var z=h.slice(0,L),X=pP({breakAll:f,style:d,children:z+w}).wordsWithComputedWidth,Q=g(X),R=Q.length>l||j(Q).width>Number(n);return[R,Q]},P=0,C=h.length-1,E=0,k;P<=C&&E<=h.length-1;){var O=Math.floor((P+C)/2),M=O-1,[I,K]=y(M),[V]=y(O);if(!I&&!V&&(P=O+1),I&&V&&(C=O-1),!I&&V){k=K;break}E++}return k||v},m1=e=>{var t=At(e)?[]:e.toString().split(hP);return[{words:t}]},W6=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:l,maxLines:c}=e;if((t||r)&&!rs.isSsr){var d,f,m=pP({breakAll:l,children:n,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return m1(n);return q6({breakAll:l,children:n,maxLines:c,style:s},d,f,t,r)}return m1(n)},h1="#808080",$u=S.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=h1}=e,h=f1(e,z6),g=S.useMemo(()=>W6({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:v,dy:j,angle:b,className:w,breakAll:y}=h,P=f1(h,B6);if(!en(r)||!en(n)||g.length===0)return null;var C=r+(we(v)?v:0),E=n+(we(j)?j:0),k;switch(f){case"start":k=th("calc(".concat(l,")"));break;case"middle":k=th("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:k=th("calc(".concat(g.length-1," * -").concat(s,")"));break}var O=[];if(c){var M=g[0].width,{width:I}=h;O.push("scale(".concat(we(I)?I/M:1,")"))}return b&&O.push("rotate(".concat(b,", ").concat(C,", ").concat(E,")")),O.length&&(P.transform=O.join(" ")),S.createElement("text",tp({},mt(P,!0),{ref:t,x:C,y:E,className:qe("recharts-text",w),textAnchor:d,fill:m.includes("url")?h1:m}),g.map((K,V)=>{var L=K.words.join(y?"":" ");return S.createElement("tspan",{x:C,dy:V===0?k:s,key:"".concat(L,"-").concat(V)},L)}))});$u.displayName="Text";var K6=["labelRef"];function V6(e,t){if(e==null)return{};var r,n,s=H6(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function H6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(n){Y6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y6(e,t,r){return(t=G6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G6(e){var t=X6(e,"string");return typeof t=="symbol"?t:t+""}function X6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hn.apply(null,arguments)}var gP=S.createContext(null),Q6=e=>{var{x:t,y:r,width:n,height:s,children:l}=e,c=S.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return S.createElement(gP.Provider,{value:c},l)},vP=()=>{var e=S.useContext(gP),t=Op();return e||t},Z6=S.createContext(null),J6=()=>{var e=S.useContext(Z6),t=be(iS);return e||t},eR=e=>{var{value:t,formatter:r}=e,n=At(e.children)?t:e.children;return typeof r=="function"?r(n):n},Fg=e=>e!=null&&typeof e=="function",tR=(e,t)=>{var r=kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rR=(e,t,r,n,s)=>{var{offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:v,clockWise:j}=s,b=(m+h)/2,w=tR(g,v),y=w>=0?1:-1,P,C;switch(t){case"insideStart":P=g+y*l,C=j;break;case"insideEnd":P=v-y*l,C=!j;break;case"end":P=v+y*l,C=j;break;default:throw new Error("Unsupported position ".concat(t))}C=w<=0?C:!C;var E=ht(d,f,b,P),k=ht(d,f,b,P+(C?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),M=At(e.id)?po("recharts-radial-line-"):e.id;return S.createElement("text",hn({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",c)}),S.createElement("defs",null,S.createElement("path",{id:M,d:O})),S.createElement("textPath",{xlinkHref:"#".concat(M)},r))},nR=(e,t,r)=>{var{cx:n,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(r==="outside"){var{x:h,y:g}=ht(n,s,c+t,m);return{x:h,y:g,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:j,y:b}=ht(n,s,v,m);return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},xP=e=>"cx"in e&&we(e.cx),aR=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,l;r!=null&&!xP(r)&&(l=r);var{x:c,y:d,width:f,height:m}=t,h=m>=0?1:-1,g=h*n,v=h>0?"end":"start",j=h>0?"start":"end",b=f>=0?1:-1,w=b*n,y=b>0?"end":"start",P=b>0?"start":"end";if(s==="top"){var C={x:c+f/2,y:d-h*n,textAnchor:"middle",verticalAnchor:v};return ct(ct({},C),l?{height:Math.max(d-l.y,0),width:f}:{})}if(s==="bottom"){var E={x:c+f/2,y:d+m+g,textAnchor:"middle",verticalAnchor:j};return ct(ct({},E),l?{height:Math.max(l.y+l.height-(d+m),0),width:f}:{})}if(s==="left"){var k={x:c-w,y:d+m/2,textAnchor:y,verticalAnchor:"middle"};return ct(ct({},k),l?{width:Math.max(k.x-l.x,0),height:m}:{})}if(s==="right"){var O={x:c+f+w,y:d+m/2,textAnchor:P,verticalAnchor:"middle"};return ct(ct({},O),l?{width:Math.max(l.x+l.width-O.x,0),height:m}:{})}var M=l?{width:f,height:m}:{};return s==="insideLeft"?ct({x:c+w,y:d+m/2,textAnchor:P,verticalAnchor:"middle"},M):s==="insideRight"?ct({x:c+f-w,y:d+m/2,textAnchor:y,verticalAnchor:"middle"},M):s==="insideTop"?ct({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:j},M):s==="insideBottom"?ct({x:c+f/2,y:d+m-g,textAnchor:"middle",verticalAnchor:v},M):s==="insideTopLeft"?ct({x:c+w,y:d+g,textAnchor:P,verticalAnchor:j},M):s==="insideTopRight"?ct({x:c+f-w,y:d+g,textAnchor:y,verticalAnchor:j},M):s==="insideBottomLeft"?ct({x:c+w,y:d+m-g,textAnchor:P,verticalAnchor:v},M):s==="insideBottomRight"?ct({x:c+f-w,y:d+m-g,textAnchor:y,verticalAnchor:v},M):s&&typeof s=="object"&&(we(s.x)||Fa(s.x))&&(we(s.y)||Fa(s.y))?ct({x:c+Wt(s.x,f),y:d+Wt(s.y,m),textAnchor:"end",verticalAnchor:"end"},M):ct({x:c+f/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},M)},iR={offset:5};function ra(e){var t=Tr(e,iR),{viewBox:r,position:n,value:s,children:l,content:c,className:d="",textBreakAll:f,labelRef:m}=t,h=J6(),g=vP(),v=n==="center"?g:h??g,j=r||v;if(!j||At(s)&&At(l)&&!S.isValidElement(c)&&typeof c!="function")return null;var b=ct(ct({},t),{},{viewBox:j});if(S.isValidElement(c)){var{labelRef:w}=b,y=V6(b,K6);return S.cloneElement(c,y)}var P;if(typeof c=="function"){if(P=S.createElement(c,b),S.isValidElement(P))return P}else P=eR(t);var C=xP(j),E=mt(t,!0);if(C&&(n==="insideStart"||n==="insideEnd"||n==="end"))return rR(t,n,P,E,j);var k=C?nR(j,t.offset,t.position):aR(t,j);return S.createElement($u,hn({ref:m,className:qe("recharts-label",d)},E,k,{breakAll:f}),P)}ra.displayName="Label";var sR=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?S.createElement(ra,hn({key:"label-implicit"},n)):en(e)?S.createElement(ra,hn({key:"label-implicit",value:e},n)):S.isValidElement(e)?e.type===ra?S.cloneElement(e,ct({key:"label-implicit"},n)):S.createElement(ra,hn({key:"label-implicit",content:e},n)):Fg(e)?S.createElement(ra,hn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?S.createElement(ra,hn({},e,{key:"label-implicit"},n)):null};function oR(e){var{label:t}=e,r=vP();return sR(t,r)||null}var rh={},nh={},g1;function lR(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nh)),nh}var ah={},v1;function cR(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ah)),ah}var x1;function uR(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lR(),r=cR(),n=bp();function s(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=s})(rh)),rh}var ih,y1;function dR(){return y1||(y1=1,ih=uR().last),ih}var fR=dR();const mR=Pn(fR);var hR=["valueAccessor"],pR=["dataKey","clockWise","id","textBreakAll"];function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(null,arguments)}function b1(e,t){if(e==null)return{};var r,n,s=gR(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vR=e=>Array.isArray(e.value)?mR(e.value):e.value,yP=S.createContext(void 0),xR=yP.Provider,bP=S.createContext(void 0),yR=bP.Provider;function bR(){return S.useContext(yP)}function wR(){return S.useContext(bP)}function vc(e){var{valueAccessor:t=vR}=e,r=b1(e,hR),{dataKey:n,clockWise:s,id:l,textBreakAll:c}=r,d=b1(r,pR),f=bR(),m=wR(),h=f||m;return!h||!h.length?null:S.createElement(nr,{className:"recharts-label-list"},h.map((g,v)=>{var j,b=At(n)?t(g,v):Je(g&&g.payload,n),w=At(l)?{}:{id:"".concat(l,"-").concat(v)};return S.createElement(ra,Xc({},mt(g,!0),d,w,{fill:(j=r.fill)!==null&&j!==void 0?j:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:c,viewBox:g.viewBox,key:"label-".concat(v),index:v}))}))}vc.displayName="LabelList";function wP(e){var{label:t}=e;return t?t===!0?S.createElement(vc,{key:"labelList-implicit"}):S.isValidElement(t)||Fg(t)?S.createElement(vc,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(vc,Xc({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var jP=e=>e.graphicalItems.polarItems,jR=Y([tt,Lo],mg),zg=Y([jP,dt,jR],pg),NR=Y([zg],gg),Bg=Y([NR,tg],vg),SR=Y([Bg,dt,zg],yg),PR=Y([Bg,dt,zg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var l,c=Je(n,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Je(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),w1=()=>{},CR=Y([dt,PS,w1,PR,w1,Le,tt],wg),NP=Y([dt,Le,Bg,SR,Ro,tt,CR],jg),ER=Y([NP,dt,ls],Pg);Y([dt,NP,ER,tt],Eg);var kR={radiusAxis:{},angleAxis:{}},SP=gr({name:"polarAxis",initialState:kR,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:b9,removeRadiusAxis:w9,addAngleAxis:j9,removeAngleAxis:N9}=SP.actions,AR=SP.reducer;function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(r),!0).forEach(function(n){OR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OR(e,t,r){return(t=MR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=TR(e,"string");return typeof t=="symbol"?t:t+""}function TR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=(e,t)=>t,Ug=Y([jP,_R],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),IR=[],qg=(e,t,r)=>r?.length===0?IR:r,PP=Y([tg,Ug,qg],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(l=>N1(N1({},t.presentationProps),l.props))),s!=null)return s}}),DR=Y([PP,Ug,qg],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var l,c=Je(n,t.nameKey,t.name),d;return r!=null&&(l=r[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?d=n.fill:d=t.fill,{value:gu(c,t.dataKey),color:d,payload:n,type:t.legendType}})}),RR=Y([PP,Ug,qg,bt],(e,t,r,n)=>{if(!(t==null||e==null))return DL({offset:n,pieSettings:t,displayedData:e,cells:r})}),sh={},S1;function LR(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(sh)),sh}var oh,P1;function $R(){return P1||(P1=1,oh=LR().isPlainObject),oh}var FR=$R();const zR=Pn(FR);function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){BR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BR(e,t,r){return(t=UR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UR(e){var t=qR(e,"string");return typeof t=="symbol"?t:t+""}function qR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(null,arguments)}var k1=(e,t,r,n,s)=>{var l=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-l/2,",").concat(t+s),c+="L ".concat(e+r-l/2-n,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},WR={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KR=e=>{var t=Tr(e,WR),{x:r,y:n,upperWidth:s,lowerWidth:l,height:c,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isUpdateAnimationActive:g}=t,v=S.useRef(),[j,b]=S.useState(-1),w=S.useRef(s),y=S.useRef(l),P=S.useRef(c),C=S.useRef(r),E=S.useRef(n),k=ju(e,"trapezoid-");if(S.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var R=v.current.getTotalLength();R&&b(R)}catch{}},[]),r!==+r||n!==+n||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var O=qe("recharts-trapezoid",d);if(!g)return S.createElement("g",null,S.createElement("path",Qc({},mt(t,!0),{className:O,d:k1(r,n,s,l,c)})));var M=w.current,I=y.current,K=P.current,V=C.current,L=E.current,z="0px ".concat(j===-1?1:j,"px"),X="".concat(j,"px 0px"),Q=GN(["strokeDasharray"],m,f);return S.createElement(wu,{animationId:k,key:k,canBegin:j>0,duration:m,easing:f,isActive:g,begin:h},R=>{var Z=Rt(M,s,R),le=Rt(I,l,R),ie=Rt(K,c,R),J=Rt(V,r,R),F=Rt(L,n,R);v.current&&(w.current=Z,y.current=le,P.current=ie,C.current=J,E.current=F);var ee=R>0?{transition:Q,strokeDasharray:X}:{strokeDasharray:z};return S.createElement("path",Qc({},mt(t,!0),{className:O,d:k1(J,F,Z,le,ie),ref:v,style:E1(E1({},ee),t.style)}))})},VR=["option","shapeType","propTransformer","activeClassName","isActive"];function HR(e,t){if(e==null)return{};var r,n,s=YR(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){GR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GR(e,t,r){return(t=XR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XR(e){var t=QR(e,"string");return typeof t=="symbol"?t:t+""}function QR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(e,t){return Zc(Zc({},t),e)}function JR(e,t){return e==="symbols"}function O1(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return S.createElement(JN,r);case"trapezoid":return S.createElement(KR,r);case"sector":return S.createElement(r2,r);case"symbols":if(JR(t))return S.createElement(Qj,r);break;default:return null}}function eL(e){return S.isValidElement(e)?e.props:e}function CP(e){var{option:t,shapeType:r,propTransformer:n=ZR,activeClassName:s="recharts-active-shape",isActive:l}=e,c=HR(e,VR),d;if(S.isValidElement(t))d=S.cloneElement(t,Zc(Zc({},c),eL(t)));else if(typeof t=="function")d=t(c);else if(zR(t)&&typeof t!="boolean"){var f=n(t,c);d=S.createElement(O1,{shapeType:r,elementProps:f})}else{var m=c;d=S.createElement(O1,{shapeType:r,elementProps:m})}return l?S.createElement(nr,{className:s},d):d}var Wg=(e,t)=>{var r=ut();return(n,s)=>l=>{e?.(n,s,l),r(BS({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Kg=e=>{var t=ut();return(r,n)=>s=>{e?.(r,n,s),t(RD())}},Vg=(e,t)=>{var r=ut();return(n,s)=>l=>{e?.(n,s,l),r(LD({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function EP(e){var{fn:t,args:r}=e,n=ut(),s=Mr();return S.useEffect(()=>{if(!s){var l=t(r);return n(_D(l)),()=>{n(ID(l))}}},[t,r,n,s]),null}var kP=()=>{};function tL(e){var{legendPayload:t}=e,r=ut(),n=Mr();return S.useEffect(()=>n?kP:(r(KN(t)),()=>{r(VN(t))}),[r,n,t]),null}function rL(e){var{legendPayload:t}=e,r=ut(),n=be(Le);return S.useEffect(()=>n!=="centric"&&n!=="radial"?kP:(r(KN(t)),()=>{r(VN(t))}),[r,n,t]),null}var lh,nL=()=>{var[e]=S.useState(()=>po("uid-"));return e},aL=(lh=hk.useId)!==null&&lh!==void 0?lh:nL;function iL(e,t){var r=aL();return t||(e?"".concat(e,"-").concat(r):r)}var sL=S.createContext(void 0),AP=e=>{var{id:t,type:r,children:n}=e,s=iL("recharts-".concat(r),t);return S.createElement(sL.Provider,{value:s},n(s))},oL={cartesianItems:[],polarItems:[]},OP=gr({name:"graphicalItems",initialState:oL,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=xn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=xn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=xn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:lL,replaceCartesianGraphicalItem:cL,removeCartesianGraphicalItem:uL,addPolarGraphicalItem:dL,removePolarGraphicalItem:fL}=OP.actions,mL=OP.reducer;function hL(e){var t=ut(),r=S.useRef(null);return S.useEffect(()=>{r.current===null?t(lL(e)):r.current!==e&&t(cL({prev:r.current,next:e})),r.current=e},[t,e]),S.useEffect(()=>()=>{r.current&&(t(uL(r.current)),r.current=null)},[t]),null}function pL(e){var t=ut();return S.useEffect(()=>(t(dL(e)),()=>{t(fL(e))}),[t,e]),null}var gL=["onMouseEnter","onClick","onMouseLeave"],vL=["id"],xL=["id"];function Hg(e,t){if(e==null)return{};var r,n,s=yL(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){bL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bL(e,t,r){return(t=wL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=jL(e,"string");return typeof t=="symbol"?t:t+""}function jL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}function NL(e){var t=S.useMemo(()=>gp(e.children,qo),[e.children]),r=be(n=>DR(n,e.id,t));return r==null?null:S.createElement(rL,{legendPayload:r})}function SL(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:r,name:gu(d,t),hide:f,type:m,color:c,unit:""}}}var PL=(e,t)=>e>t?"start":e<t?"end":"middle",CL=(e,t,r)=>Wt(typeof t=="function"?t(e):t,r,r*.8),EL=(e,t,r)=>{var{top:n,left:s,width:l,height:c}=t,d=IN(l,c),f=s+Wt(e.cx,l,l/2),m=n+Wt(e.cy,c,c/2),h=Wt(e.innerRadius,d,0),g=CL(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:v}},kL=(e,t)=>{var r=kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function AL(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var OL=(e,t)=>{if(S.isValidElement(e))return S.cloneElement(e,t);if(typeof e=="function")return e(t);var r=qe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return S.createElement(YN,ca({},t,{type:"linear",className:r}))},ML=(e,t,r)=>{if(S.isValidElement(e))return S.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),S.isValidElement(n)))return n;var s=qe("recharts-pie-label-text",AL(e));return S.createElement($u,ca({},t,{alignmentBaseline:"middle",className:s}),n)};function TL(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:l,dataKey:c}=r;if(!n||!s||!t)return null;var d=ni(r),f=mt(s,!1),m=mt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,g=t.map((v,j)=>{var b=(v.startAngle+v.endAngle)/2,w=ht(v.cx,v.cy,v.outerRadius+h,b),y=Ze(Ze(Ze(Ze({},d),v),{},{stroke:"none"},f),{},{index:j,textAnchor:PL(w.x,v.cx)},w),P=Ze(Ze(Ze(Ze({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:j,points:[ht(v.cx,v.cy,v.outerRadius,b),w],key:"line"});return S.createElement(nr,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(j)},l&&OL(l,P),ML(s,y,Je(v,c)))});return S.createElement(nr,{className:"recharts-pie-labels"},g)}function _L(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?S.createElement(wP,{label:r.label}):S.createElement(TL,{sectors:t,props:r,showLabels:n})}function IL(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,l=be(ri),{onMouseEnter:c,onClick:d,onMouseLeave:f}=s,m=Hg(s,gL),h=Wg(c,s.dataKey),g=Kg(f),v=Vg(d,s.dataKey);return t==null||t.length===0?null:S.createElement(S.Fragment,null,t.map((j,b)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var w=r&&String(b)===l,y=l?n:null,P=w?r:y,C=Ze(Ze({},j),{},{stroke:j.stroke,tabIndex:-1,[FN]:b,[zN]:s.dataKey});return S.createElement(nr,ca({tabIndex:-1,className:"recharts-pie-sector"},su(m,j,b),{onMouseEnter:h(j,b),onMouseLeave:g(j,b),onClick:v(j,b),key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(b)}),S.createElement(CP,ca({option:P,isActive:w,shapeType:"sector"},C)))}))}function DL(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=r,v=Math.abs(r.minAngle),j=kL(d,f),b=Math.abs(j),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(M=>Je(M,m,0)!==0).length,P=(b>=360?y:y-1)*w,C=b-y*v-P,E=n.reduce((M,I)=>{var K=Je(I,m,0);return M+(we(K)?K:0)},0),k;if(E>0){var O;k=n.map((M,I)=>{var K=Je(M,m,0),V=Je(M,h,I),L=EL(r,l,M),z=(we(K)?K:0)/E,X,Q=Ze(Ze({},M),s&&s[I]&&s[I].props);I?X=O.endAngle+kt(j)*w*(K!==0?1:0):X=d;var R=X+kt(j)*((K!==0?v:0)+z*C),Z=(X+R)/2,le=(L.innerRadius+L.outerRadius)/2,ie=[{name:V,value:K,payload:Q,dataKey:m,type:g}],J=ht(L.cx,L.cy,le,Z);return O=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:z,cornerRadius:c,name:V,tooltipPayload:ie,midAngle:Z,middleRadius:le,tooltipPosition:J},Q),L),{},{value:Je(M,m),startAngle:X,endAngle:R,payload:Q,paddingAngle:kt(j)*w}),O})}return k}function RL(e){var{showLabels:t,sectors:r,children:n}=e,s=S.useMemo(()=>!t||!r?[]:r.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[r,t]);return S.createElement(yR,{value:t?s:void 0},n)}function LL(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:g}=t,v=ju(t,"recharts-pie-"),j=r.current,[b,w]=S.useState(!1),y=S.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),P=S.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return S.createElement(RL,{showLabels:!b,sectors:n},S.createElement(wu,{animationId:v,begin:l,duration:c,isActive:s,easing:d,onAnimationStart:P,onAnimationEnd:y,key:v},C=>{var E=[],k=n&&n[0],O=k?.startAngle;return n?.forEach((M,I)=>{var K=j&&j[I],V=I>0?Za(M,"paddingAngle",0):0;if(K){var L=Rt(K.endAngle-K.startAngle,M.endAngle-M.startAngle,C),z=Ze(Ze({},M),{},{startAngle:O+V,endAngle:O+L+V});E.push(z),O=z.endAngle}else{var{endAngle:X,startAngle:Q}=M,R=Rt(0,X-Q,C),Z=Ze(Ze({},M),{},{startAngle:O+V,endAngle:O+R+V});E.push(Z),O=Z.endAngle}}),r.current=E,S.createElement(nr,null,S.createElement(IL,{sectors:E,activeShape:f,inactiveShape:m,allOtherPieProps:t}))}),S.createElement(_L,{showLabels:!b,sectors:n,props:t}),t.children)}var $L={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!rs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function FL(e){var{id:t}=e,r=Hg(e,vL),{hide:n,className:s,rootTabIndex:l}=e,c=S.useMemo(()=>gp(e.children,qo),[e.children]),d=be(h=>RR(h,t,c)),f=S.useRef(null),m=qe("recharts-pie",s);return n||d==null?(f.current=null,S.createElement(nr,{tabIndex:l,className:m})):S.createElement(S.Fragment,null,S.createElement(EP,{fn:SL,args:Ze(Ze({},e),{},{sectors:d})}),S.createElement(nr,{tabIndex:l,className:m},S.createElement(LL,{props:Ze(Ze({},r),{},{sectors:d}),previousSectorsRef:f})))}function MP(e){var t=Tr(e,$L),{id:r}=t,n=Hg(t,xL),s=ni(n);return S.createElement(AP,{id:r,type:"pie"},l=>S.createElement(S.Fragment,null,S.createElement(pL,{type:"pie",id:l,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),S.createElement(NL,ca({},n,{id:l})),S.createElement(FL,ca({},n,{id:l}))))}MP.displayName="Pie";function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){zL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zL(e,t,r){return(t=BL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=UL(e,"string");return typeof t=="symbol"?t:t+""}function UL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qL={xAxis:{},yAxis:{},zAxis:{}},TP=gr({name:"cartesianAxis",initialState:qL,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=_1(_1({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:WL,removeXAxis:KL,addYAxis:VL,removeYAxis:HL,addZAxis:S9,removeZAxis:P9,updateYAxisWidth:YL}=TP.actions,GL=TP.reducer,XL=Y([bt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),QL=Y([XL,Cn,En],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),_P=()=>be(QL),ZL="Invariant failed";function JL(e,t){throw new Error(ZL)}var e$=["x","y"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){t$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$(e,t,r){return(t=r$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$(e){var t=n$(e,"string");return typeof t=="symbol"?t:t+""}function n$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a$(e,t){if(e==null)return{};var r,n,s=i$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s$(e,t){var{x:r,y:n}=e,s=a$(e,e$),l="".concat(r),c=parseInt(l,10),d="".concat(n),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),v=parseInt(g,10);return so(so(so(so(so({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function Yg(e){return S.createElement(CP,rp({shapeType:"rectangle",propTransformer:s$,activeClassName:"recharts-active-bar"},e))}var o$=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(we(t))return t;var l=we(n)||At(n);return l?t(n,s):(l||JL(),r)}},l$={},IP=gr({name:"errorBars",initialState:l$,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?s:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:C9,replaceErrorBar:E9,removeErrorBar:k9}=IP.actions,c$=IP.reducer,u$=["children"];function d$(e,t){if(e==null)return{};var r,n,s=f$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function f$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},h$=S.createContext(m$);function p$(e){var{children:t}=e,r=d$(e,u$);return S.createElement(h$.Provider,{value:r},t)}function DP(e,t){var r,n,s=be(m=>xa(m,e)),l=be(m=>ya(m,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:lr.allowDataOverflow,d=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:cr.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function g$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=_P(),{needClipX:l,needClipY:c,needClip:d}=DP(t,r);if(!d)return null;var{x:f,y:m,width:h,height:g}=s;return S.createElement("clipPath",{id:"clipPath-".concat(n)},S.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}var v$=["onMouseEnter","onMouseLeave","onClick"],x$=["value","background","tooltipPosition"],y$=["id"],b$=["onMouseEnter","onClick","onMouseLeave"];function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(null,arguments)}function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=N$(e,"string");return typeof t=="symbol"?t:t+""}function N$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(e,t){if(e==null)return{};var r,n,s=S$(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function S$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var P$=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:n,value:gu(r,t),payload:e}]};function C$(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:gu(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function E$(e){var t=be(ri),{data:r,dataKey:n,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=Jc(l,v$),h=Wg(c,n),g=Kg(d),v=Vg(f,n);if(!s||r==null)return null;var j=mt(s,!1);return S.createElement(S.Fragment,null,r.map((b,w)=>{var{value:y,background:P,tooltipPosition:C}=b,E=Jc(b,x$);if(!P)return null;var k=h(b,w),O=g(b,w),M=v(b,w),I=Ht(Ht(Ht(Ht(Ht({option:s,isActive:String(w)===t},E),{},{fill:"#eee"},P),j),su(m,b,w)),{},{onMouseEnter:k,onMouseLeave:O,onClick:M,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return S.createElement(Yg,ua({key:"background-bar-".concat(w)},I))}))}function k$(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(l=>{var c={x:l.x,y:l.y,width:l.width,height:l.height};return Ht(Ht({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return S.createElement(xR,{value:t?s:void 0},r)}function A$(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:l,dataKey:c}=e,d=be(ri),f=be(eP),m=r&&String(l)===d&&(f==null||c===f),h=m?r:t;return S.createElement(Yg,ua({},n,s,{isActive:m,option:h,index:l,dataKey:c}))}function O$(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:l}=e;return S.createElement(Yg,ua({},r,n,{isActive:!1,option:t,index:s,dataKey:l}))}function M$(e){var{data:t,props:r}=e,n=ni(r),{id:s}=n,l=Jc(n,y$),{shape:c,dataKey:d,activeBar:f}=r,{onMouseEnter:m,onClick:h,onMouseLeave:g}=r,v=Jc(r,b$),j=Wg(m,d),b=Kg(g),w=Vg(h,d);return t?S.createElement(S.Fragment,null,t.map((y,P)=>S.createElement(nr,ua({className:"recharts-bar-rectangle"},su(v,y,P),{onMouseEnter:j(y,P),onMouseLeave:b(y,P),onClick:w(y,P),key:"rectangle-".concat(y?.x,"-").concat(y?.y,"-").concat(y?.value,"-").concat(P)}),f?S.createElement(A$,{shape:c,activeBar:f,baseProps:l,entry:y,index:P,dataKey:d}):S.createElement(O$,{shape:c,baseProps:l,entry:y,index:P,dataKey:d})))):null}function T$(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=r.current,v=ju(t,"recharts-bar-"),[j,b]=S.useState(!1),w=!j,y=S.useCallback(()=>{typeof m=="function"&&m(),b(!1)},[m]),P=S.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return S.createElement(k$,{showLabels:w,rects:n},S.createElement(wu,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:y,onAnimationStart:P,key:v},C=>{var E=C===1?n:n?.map((k,O)=>{var M=g&&g[O];if(M)return Ht(Ht({},k),{},{x:Rt(M.x,k.x,C),y:Rt(M.y,k.y,C),width:Rt(M.width,k.width,C),height:Rt(M.height,k.height,C)});if(s==="horizontal"){var I=Rt(0,k.height,C);return Ht(Ht({},k),{},{y:k.y+k.height-I,height:I})}var K=Rt(0,k.width,C);return Ht(Ht({},k),{},{width:K})});return C>0&&(r.current=E??null),E==null?null:S.createElement(nr,null,S.createElement(M$,{props:t,data:E}))}),S.createElement(wP,{label:t.label}),t.children)}function _$(e){var t=S.useRef(null);return S.createElement(T$,{previousRectanglesRef:t,props:e})}var RP=0,I$=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Je(e,t)}};class D$ extends S.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t||r==null)return null;var h=qe("recharts-bar",s),g=m;return S.createElement(nr,{className:h,id:m},d&&S.createElement("defs",null,S.createElement(g$,{clipPathId:g,xAxisId:l,yAxisId:c})),S.createElement(nr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},S.createElement(E$,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),S.createElement(_$,this.props)))}}var R$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!rs.isSsr,legendType:"rect",minPointSize:RP,xAxisId:0,yAxisId:0};function L$(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:g}=DP(t,r),v=Mp(),j=Mr(),b=gp(e.children,qo),w=be(C=>uF(C,t,r,j,e.id,b));if(v!=="vertical"&&v!=="horizontal")return null;var y,P=w?.[0];return P==null||P.height==null||P.width==null?y=0:y=v==="vertical"?P.height/2:P.width/2,S.createElement(p$,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:I$,errorBarOffset:y},S.createElement(D$,ua({},e,{layout:v,needClip:g,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function $$(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:v,cells:j,parentViewBox:b}=e,w=t==="horizontal"?d:c,y=h?w.scale.domain():null,P=m4({numericAxis:w});return g.map((C,E)=>{var k,O,M,I,K,V;h?k=o4(h[E],y):(k=Je(C,r),Array.isArray(k)||(k=[P,k]));var L=o$(n,RP)(k[1],E);if(t==="horizontal"){var z,[X,Q]=[d.scale(k[0]),d.scale(k[1])];O=jb({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:C,index:E}),M=(z=Q??X)!==null&&z!==void 0?z:void 0,I=s.size;var R=X-Q;if(K=mr(R)?0:R,V={x:O,y:v.top,width:I,height:v.height},Math.abs(L)>0&&Math.abs(K)<Math.abs(L)){var Z=kt(K||L)*(Math.abs(L)-Math.abs(K));M-=Z,K+=Z}}else{var[le,ie]=[c.scale(k[0]),c.scale(k[1])];if(O=le,M=jb({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:C,index:E}),I=ie-le,K=s.size,V={x:v.left,y:M,width:v.width,height:K},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var J=kt(I||L)*(Math.abs(L)-Math.abs(I));I+=J}}if(O==null||M==null||I==null||K==null)return null;var F=Ht(Ht({},C),{},{x:O,y:M,width:I,height:K,value:h?k:k[1],payload:C,background:V,tooltipPosition:{x:O+I/2,y:M+K/2},parentViewBox:b},j&&j[E]&&j[E].props);return F}).filter(Boolean)}function LP(e){var t=Tr(e,R$),r=Mr();return S.createElement(AP,{id:t.id,type:"bar"},n=>S.createElement(S.Fragment,null,S.createElement(tL,{legendPayload:P$(t)}),S.createElement(EP,{fn:C$,args:t}),S.createElement(hL,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:f4(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),S.createElement(L$,ua({},t,{id:n}))))}LP.displayName="Bar";function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){F$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F$(e,t,r){return(t=z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U$=(e,t)=>t,q$=(e,t,r)=>r,W$=(e,t,r,n)=>n,K$=(e,t,r,n,s)=>s,Wo=Y([hg,K$],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),V$=Y([Wo],e=>e?.maxBarSize),H$=(e,t,r,n,s,l)=>l,L1=(e,t,r)=>{var n=r??e;if(!At(n))return Wt(n,t,0)},Y$=Y([Le,hg,U$,q$,W$],(e,t,r,n,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===r:l.yAxisId===n).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),G$=(e,t,r,n)=>{var s=Le(e);return s==="horizontal"?Xh(e,"yAxis",r,n):Xh(e,"xAxis",t,n)},X$=(e,t,r)=>{var n=Le(e);return n==="horizontal"?Lw(e,"xAxis",t):Lw(e,"yAxis",r)},Q$=(e,t,r)=>{var n={},s=e.filter(Tu),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),d=Object.entries(c).map(m=>{var[h,g]=m,v=g.map(b=>b.dataKey),j=L1(t,r,g[0].barSize);return{stackId:h,dataKeys:v,barSize:j}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),g=L1(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},Z$=Y([Y$,II,X$],Q$),J$=(e,t,r,n,s)=>{var l,c,d=Wo(e,t,r,n,s);if(d!=null){var f=Le(e),m=Z2(e),{maxBarSize:h}=d,g=At(h)?m:h,v,j;return f==="horizontal"?(v=Ji(e,"xAxis",t,n),j=Zi(e,"xAxis",t,n)):(v=Ji(e,"yAxis",r,n),j=Zi(e,"yAxis",r,n)),(l=(c=kp(v,j,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},$P=(e,t,r,n)=>{var s=Le(e),l,c;return s==="horizontal"?(l=Ji(e,"xAxis",t,n),c=Zi(e,"xAxis",t,n)):(l=Ji(e,"yAxis",r,n),c=Zi(e,"yAxis",r,n)),kp(l,c)};function eF(e,t,r,n,s){var l=n.length;if(!(l<1)){var c=Wt(e,r,0,!0),d,f=[];if(pr(n[0].barSize)){var m=!1,h=r/l,g=n.reduce((P,C)=>P+(C.barSize||0),0);g+=(l-1)*c,g>=r&&(g-=(l-1)*c,c=0),g>=r&&h>0&&(m=!0,h*=.9,g=l*h);var v=(r-g)/2>>0,j={offset:v-c,size:0};d=n.reduce((P,C)=>{var E,k={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j.offset+j.size+c,size:m?h:(E=C.barSize)!==null&&E!==void 0?E:0}},O=[...P,k];return j=O[O.length-1].position,O},f)}else{var b=Wt(t,r,0,!0);r-2*b-(l-1)*c<=0&&(c=0);var w=(r-2*b-(l-1)*c)/l;w>1&&(w>>=0);var y=pr(s)?Math.min(w,s):w;d=n.reduce((P,C,E)=>[...P,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b+(w+c)*E+(w-y)/2,size:y}}],f)}return d}}var tF=(e,t,r,n,s,l,c)=>{var d=At(c)?t:c,f=eF(r,n,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>hc(hc({},m),{},{position:hc(hc({},m.position),{},{offset:m.position.offset-s/2})}))),f},rF=Y([Z$,Z2,_I,J2,J$,$P,V$],tF),nF=(e,t,r,n)=>Ji(e,"xAxis",t,n),aF=(e,t,r,n)=>Ji(e,"yAxis",r,n),iF=(e,t,r,n)=>Zi(e,"xAxis",t,n),sF=(e,t,r,n)=>Zi(e,"yAxis",r,n),oF=Y([rF,Wo],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),lF=(e,t)=>{var r=dg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===r)}}}},cF=Y([G$,Wo],lF),uF=Y([bt,Ap,nF,aF,iF,sF,oF,Le,rg,$P,cF,Wo,H$],(e,t,r,n,s,l,c,d,f,m,h,g,v)=>{var{chartData:j,dataStartIndex:b,dataEndIndex:w}=f;if(!(g==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||s==null||l==null||m==null)){var{data:y}=g,P;if(y!=null&&y.length>0?P=y:P=j?.slice(b,w+1),P!=null)return $$({layout:d,barSettings:g,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:l,stackedData:h,displayedData:P,offset:e,cells:v})}}),FP=e=>{var{chartData:t}=e,r=ut(),n=Mr();return S.useEffect(()=>n?()=>{}:(r(Hw(t)),()=>{r(Hw(void 0))}),[t,r,n]),null},$1={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zP=gr({name:"brush",initialState:$1,reducers:{setBrushSettings(e,t){return t.payload==null?$1:t.payload}}}),{setBrushSettings:A9}=zP.actions,dF=zP.reducer;function fF(e,t,r){return(t=mF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gg{static create(t){return new Gg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}fF(Gg,"EPS",1e-4);function pF(e){return(e%180+180)%180}var gF=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=pF(s),c=l*Math.PI/180,d=Math.atan(n/r),f=c>d&&c<Math.PI-d?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},vF={dots:[],areas:[],lines:[]},BP=gr({name:"referenceElements",initialState:vF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:O9,removeDot:M9,addArea:T9,removeArea:_9,addLine:I9,removeLine:D9}=BP.actions,xF=BP.reducer,yF=S.createContext(void 0),bF=e=>{var{children:t}=e,[r]=S.useState("".concat(po("recharts"),"-clip")),n=_P();if(n==null)return null;var{x:s,y:l,width:c,height:d}=n;return S.createElement(yF.Provider,{value:r},S.createElement("defs",null,S.createElement("clipPath",{id:r},S.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function ch(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function UP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function wF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gF(n,r)}function jF(e,t,r){var n=r==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:n?s:l,end:n?s+c:l+d}:{start:n?s+c:l+d,end:n?s:l}}function eu(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var l=r();return e*(t-e*l/2-n)>=0&&e*(t+e*l/2-s)<=0}function NF(e,t){return UP(e,t+1)}function SF(e,t,r,n,s){for(var l=(n||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var b=n?.[f];if(b===void 0)return{v:UP(n,m)};var w=f,y,P=()=>(y===void 0&&(y=r(b,w)),y),C=b.coordinate,E=f===0||eu(e,C,P,h,d);E||(f=0,h=c,m+=1),E&&(h=C+e*(P()/2+s),f+=m)},v;m<=l.length;)if(v=g(),v)return v.v;return[]}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return(t=CF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kF(e,t,r,n,s){for(var l=(n||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var j=l[v],b,w=()=>(b===void 0&&(b=r(j,v)),b);if(v===c-1){var y=e*(j.coordinate+e*w()/2-f);l[v]=j=Ut(Ut({},j),{},{tickCoord:y>0?j.coordinate-y*e:j.coordinate})}else l[v]=j=Ut(Ut({},j),{},{tickCoord:j.coordinate});var P=eu(e,j.tickCoord,w,d,f);P&&(f=j.tickCoord-e*(w()/2+s),l[v]=Ut(Ut({},j),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function AF(e,t,r,n,s,l){var c=(n||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=n[d-1],g=r(h,d-1),v=e*(h.coordinate+e*g/2-m);c[d-1]=h=Ut(Ut({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var j=eu(e,h.tickCoord,()=>g,f,m);j&&(m=h.tickCoord-e*(g/2+s),c[d-1]=Ut(Ut({},h),{},{isShow:!0}))}for(var b=l?d-1:d,w=function(C){var E=c[C],k,O=()=>(k===void 0&&(k=r(E,C)),k);if(C===0){var M=e*(E.coordinate-e*O()/2-f);c[C]=E=Ut(Ut({},E),{},{tickCoord:M<0?E.coordinate-M*e:E.coordinate})}else c[C]=E=Ut(Ut({},E),{},{tickCoord:E.coordinate});var I=eu(e,E.tickCoord,O,f,m);I&&(f=E.tickCoord+e*(O()/2+s),c[C]=Ut(Ut({},E),{},{isShow:!0}))},y=0;y<b;y++)w(y);return c}function Xg(e,t,r){var{tick:n,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!n)return[];if(we(f)||rs.isSsr){var v;return(v=NF(s,we(f)?f:0))!==null&&v!==void 0?v:[]}var j=[],b=d==="top"||d==="bottom"?"width":"height",w=h&&b==="width"?mo(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(E,k)=>{var O=typeof m=="function"?m(E.value,k):E.value;return b==="width"?wF(mo(O,{fontSize:t,letterSpacing:r}),w,g):mo(O,{fontSize:t,letterSpacing:r})[b]},P=s.length>=2?kt(s[1].coordinate-s[0].coordinate):1,C=jF(l,P,b);return f==="equidistantPreserveStart"?SF(P,C,y,s,c):(f==="preserveStart"||f==="preserveStartEnd"?j=AF(P,C,y,s,c,f==="preserveStartEnd"):j=kF(P,C,y,s,c),j.filter(E=>E.isShow))}var OF=["viewBox"],MF=["viewBox"];function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(null,arguments)}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){Qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B1(e,t){if(e==null)return{};var r,n,s=TF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qg(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=IF(e,"string");return typeof t=="symbol"?t:t+""}function IF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ba extends S.Component{constructor(t){super(t),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=B1(t,OF),l=this.props,{viewBox:c}=l,d=B1(l,MF);return!ch(n,c)||!ch(s,d)||!ch(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,g,v,j,b,w,y=f?-1:1,P=t.tickSize||d,C=we(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=g=t.coordinate,j=n+ +!f*l,v=j-y*P,w=v-y*m,b=C;break;case"left":v=j=t.coordinate,g=r+ +!f*s,h=g-y*P,b=h-y*m,w=C;break;case"right":v=j=t.coordinate,g=r+ +f*s,h=g+y*P,b=h+y*m,w=C;break;default:h=g=t.coordinate,j=n+ +f*l,v=j+y*P,w=v+y*m,b=C;break}return{line:{x1:h,y1:v,x2:g,y2:j},tick:{x:b,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=yt(yt(yt({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=yt(yt({},f),{},{x1:t,y1:r+m*s,x2:t+n,y2:r+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=yt(yt({},f),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+s})}return S.createElement("line",Fi({},f,{className:qe("recharts-cartesian-axis-line",Za(d,"className"))}))}static renderTickItem(t,r,n){var s,l=qe(r.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))s=S.cloneElement(t,yt(yt({},r),{},{className:l}));else if(typeof t=="function")s=t(yt(yt({},r),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=qe(c,t.className)),s=S.createElement($u,Fi({},r,{className:c}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m,tickTextProps:h}=this.props,g=Xg(yt(yt({},this.props),{},{ticks:n}),t,r),v=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),b=ni(this.props),w=mt(c,!1),y=yt(yt({},b),{},{fill:"none"},mt(s,!1)),P=g.map((C,E)=>{var{line:k,tick:O}=this.getTickLineCoord(C),M=yt(yt(yt(yt({textAnchor:v,verticalAnchor:j},b),{},{stroke:"none",fill:l},w),O),{},{index:E,payload:C,visibleTicksCount:g.length,tickFormatter:d,padding:m},h);return S.createElement(nr,Fi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},su(this.props,C,E)),s&&S.createElement("line",Fi({},y,k,{className:qe("recharts-cartesian-axis-tick-line",Za(s,"className"))})),c&&ba.renderTickItem(c,M,"".concat(typeof d=="function"?d(C.value,E):C.value).concat(f||"")))});return P.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:S.createElement(nr,{className:qe("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,g=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),S.createElement(Q6,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},S.createElement(oR,{label:this.props.label}),this.props.children))}}Qg(ba,"displayName","CartesianAxis");Qg(ba,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DF=["x1","y1","x2","y2","key"],RF=["offset"],LF=["xAxisId","yAxisId"],$F=["xAxisId","yAxisId"];function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){FF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function tu(e,t){if(e==null)return{};var r,n,s=UF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:l,height:c,ry:d}=e;return S.createElement("rect",{x:n,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qP(e,t){var r;if(S.isValidElement(e))r=S.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:l,y2:c,key:d}=t,f=tu(t,DF),m=ni(f),{offset:h}=m,g=tu(m,RF);r=S.createElement("line",Ua({},g,{x1:n,y1:s,x2:l,y2:c,fill:"none",key:d}))}return r}function WF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=tu(e,LF),f=s.map((m,h)=>{var g=qt(qt({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(h),index:h});return qP(n,g)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function KF(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=tu(e,$F),f=s.map((m,h)=>{var g=qt(qt({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(h),index:h});return qP(n,g)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function VF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var j=!m[v+1],b=j?s+c-g:m[v+1]-g;if(b<=0)return null;var w=v%t.length;return S.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:b,width:l,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function HF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,v)=>g-v);s!==m[0]&&m.unshift(0);var h=m.map((g,v)=>{var j=!m[v+1],b=j?s+c-g:m[v+1]-g;if(b<=0)return null;var w=v%r.length;return S.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:b,height:d,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var YF=(e,t)=>{var{xAxis:r,width:n,height:s,offset:l}=e;return RN(Xg(qt(qt(qt({},ba.defaultProps),r),{},{ticks:LN(r),viewBox:{x:0,y:0,width:n,height:s}})),l.left,l.left+l.width,t)},GF=(e,t)=>{var{yAxis:r,width:n,height:s,offset:l}=e;return RN(Xg(qt(qt(qt({},ba.defaultProps),r),{},{ticks:LN(r),viewBox:{x:0,y:0,width:n,height:s}})),l.top,l.top+l.height,t)},XF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function WP(e){var t=UN(),r=qN(),n=BN(),s=qt(qt({},Tr(e,XF)),{},{x:we(e.x)?e.x:n.left,y:we(e.y)?e.y:n.top,width:we(e.width)?e.width:n.width,height:we(e.height)?e.height:n.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:j}=s,b=Mr(),w=be(V=>$w(V,"xAxis",l,b)),y=be(V=>$w(V,"yAxis",c,b));if(!we(m)||m<=0||!we(h)||h<=0||!we(d)||d!==+d||!we(f)||f!==+f)return null;var P=s.verticalCoordinatesGenerator||YF,C=s.horizontalCoordinatesGenerator||GF,{horizontalPoints:E,verticalPoints:k}=s;if((!E||!E.length)&&typeof C=="function"){var O=v&&v.length,M=C({yAxis:y?qt(qt({},y),{},{ticks:O?v:y.ticks}):void 0,width:t,height:r,offset:n},O?!0:g);fo(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(E=M)}if((!k||!k.length)&&typeof P=="function"){var I=j&&j.length,K=P({xAxis:w?qt(qt({},w),{},{ticks:I?j:w.ticks}):void 0,width:t,height:r,offset:n},I?!0:g);fo(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(k=K)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(qF,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),S.createElement(VF,Ua({},s,{horizontalPoints:E})),S.createElement(HF,Ua({},s,{verticalPoints:k})),S.createElement(WF,Ua({},s,{offset:n,horizontalPoints:E,xAxis:w,yAxis:y})),S.createElement(KF,Ua({},s,{offset:n,verticalPoints:k,xAxis:w,yAxis:y})))}WP.displayName="CartesianGrid";var QF=["children"],ZF=["dangerouslySetInnerHTML","ticks"],JF=["id"];function KP(e,t,r){return(t=e8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function ap(e,t){if(e==null)return{};var r,n,s=r8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n8(e){var t=ut(),r=S.useMemo(()=>{var{children:n}=e,s=ap(e,QF);return s},[e]);return S.useEffect(()=>(t(WL(r)),()=>{t(KL(r))}),[r,t]),e.children}var a8=e=>{var{xAxisId:t,className:r}=e,n=be(Ap),s=Mr(),l="xAxis",c=be(y=>cs(y,l,t,s)),d=be(y=>DS(y,l,t,s)),f=be(y=>MS(y,t)),m=be(y=>SD(y,t)),h=be(y=>lS(y,t));if(f==null||m==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,j=ap(e,ZF),{id:b}=h,w=ap(h,JF);return S.createElement(ba,np({},j,w,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:qe("recharts-".concat(l," ").concat(l),r),viewBox:n,ticks:d}))},i8=e=>{var t,r,n,s,l;return S.createElement(n8,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},S.createElement(a8,e))};class Zg extends S.Component{render(){return S.createElement(i8,this.props)}}KP(Zg,"displayName","XAxis");KP(Zg,"defaultProps",{allowDataOverflow:lr.allowDataOverflow,allowDecimals:lr.allowDecimals,allowDuplicatedCategory:lr.allowDuplicatedCategory,height:lr.height,hide:!1,mirror:lr.mirror,orientation:lr.orientation,padding:lr.padding,reversed:lr.reversed,scale:lr.scale,tickCount:lr.tickCount,type:lr.type,xAxisId:0});var s8=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=r?r.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(r?n:0);return Math.round(m)}return 0},o8=["dangerouslySetInnerHTML","ticks"],l8=["id"];function VP(e,t,r){return(t=c8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=u8(e,"string");return typeof t=="symbol"?t:t+""}function u8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function q1(e,t){if(e==null)return{};var r,n,s=d8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function d8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function f8(e){var t=ut();return S.useEffect(()=>(t(VL(e)),()=>{t(HL(e))}),[e,t]),null}var m8=e=>{var t,{yAxisId:r,className:n,width:s,label:l}=e,c=S.useRef(null),d=S.useRef(null),f=be(Ap),m=Mr(),h=ut(),g="yAxis",v=be(M=>cs(M,g,r,m)),j=be(M=>TS(M,r)),b=be(M=>PD(M,r)),w=be(M=>DS(M,g,r,m)),y=be(M=>cS(M,r));if(S.useLayoutEffect(()=>{var M;if(!(s!=="auto"||!j||Fg(l)||S.isValidElement(l)||y==null)){var I=c.current,K=I==null||(M=I.tickRefs)===null||M===void 0?void 0:M.current,{tickSize:V,tickMargin:L}=I.props,z=s8({ticks:K,label:d.current,labelGapWithTick:5,tickSize:V,tickMargin:L});Math.round(j.width)!==Math.round(z)&&h(YL({id:r,width:z}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,j?.width,j,h,l,r,s]),j==null||b==null||y==null)return null;var{dangerouslySetInnerHTML:P,ticks:C}=e,E=q1(e,o8),{id:k}=y,O=q1(y,l8);return S.createElement(ba,ip({},E,O,{ref:c,labelRef:d,scale:v,x:b.x,y:b.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:j.width,height:j.height,className:qe("recharts-".concat(g," ").concat(g),n),viewBox:f,ticks:w}))},h8=e=>{var t,r,n,s,l;return S.createElement(S.Fragment,null,S.createElement(f8,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),S.createElement(m8,e))},p8={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,hide:!1,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tickCount:cr.tickCount,type:cr.type,width:cr.width,yAxisId:0};class Jg extends S.Component{render(){return S.createElement(h8,this.props)}}VP(Jg,"displayName","YAxis");VP(Jg,"defaultProps",p8);var uh={exports:{}},dh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function g8(){if(W1)return dh;W1=1;var e=es();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return dh.useSyncExternalStoreWithSelector=function(f,m,h,g,v){var j=s(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=c(function(){function y(O){if(!P){if(P=!0,C=O,O=g(O),v!==void 0&&b.hasValue){var M=b.value;if(v(M,O))return E=M}return E=O}if(M=E,r(C,O))return M;var I=g(O);return v!==void 0&&v(M,I)?(C=O,M):(C=O,E=I)}var P=!1,C,E,k=h===void 0?null:h;return[function(){return y(m())},k===null?void 0:function(){return y(k())}]},[m,h,g,v]);var w=n(f,j[0],j[1]);return l(function(){b.hasValue=!0,b.value=w},[w]),d(w),w},dh}var K1;function v8(){return K1||(K1=1,uh.exports=g8()),uh.exports}v8();function x8(e){e()}function y8(){let e=null,t=null;return{clear(){e=null,t=null},notify(){x8(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var V1={notify(){},get:()=>[]};function b8(e,t){let r,n=V1,s=0,l=!1;function c(w){h();const y=n.subscribe(w);let P=!1;return()=>{P||(P=!0,y(),g())}}function d(){n.notify()}function f(){b.onStateChange&&b.onStateChange()}function m(){return l}function h(){s++,r||(r=e.subscribe(f),n=y8())}function g(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=V1)}function v(){l||(l=!0,h())}function j(){l&&(l=!1,g())}const b={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:j,getListeners:()=>n};return b}var w8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j8=w8(),N8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",S8=N8(),P8=()=>j8||S8?S.useLayoutEffect:S.useEffect,C8=P8(),E8=Symbol.for("react-redux-context"),k8=typeof globalThis<"u"?globalThis:{};function A8(){if(!S.createContext)return{};const e=k8[E8]??=new Map;let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var O8=A8();function M8(e){const{children:t,context:r,serverState:n,store:s}=e,l=S.useMemo(()=>{const f=b8(s);return{store:s,subscription:f,getServerState:n?()=>n:void 0}},[s,n]),c=S.useMemo(()=>s.getState(),[s]);C8(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=r||O8;return S.createElement(d.Provider,{value:l},t)}var T8=M8,_8=(e,t)=>t,ev=Y([_8,Le,iS,jt,XS,An,A5,bt],I5),tv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},HP=Ar("mouseClick"),YP=Oo();YP.startListening({actionCreator:HP,effect:(e,t)=>{var r=e.payload,n=ev(t.getState(),tv(r));n?.activeIndex!=null&&t.dispatch($D({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sp=Ar("mouseMove"),GP=Oo();GP.startListening({actionCreator:sp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Og(n,n.tooltip.settings.shared),l=ev(n,tv(r));s==="axis"&&(l?.activeIndex!=null?t.dispatch(qS({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(US()))}});function I8(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var H1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},XP=gr({name:"rootProps",initialState:H1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:H1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),D8=XP.reducer,{updateOptions:R8}=XP.actions,QP=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:L8}=QP.actions,$8=QP.reducer,ZP=Ar("keyDown"),JP=Ar("focus"),rv=Oo();rv.startListening({actionCreator:ZP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(Mg(s,ds(r))),d=An(r);if(l==="Enter"){var f=Gc(r,"axis","hover",String(s.index));t.dispatch(Zh({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=AD(r),h=m==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,v=c+g*h;if(!(d==null||v>=d.length||v<0)){var j=Gc(r,"axis","hover",String(v));t.dispatch(Zh({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}});rv.startListening({actionCreator:JP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var l="0",c=Gc(r,"axis","hover",String(l));t.dispatch(Zh({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Pr=Ar("externalEvent"),eC=Oo();eC.startListening({actionCreator:Pr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:b5(r),activeDataKey:eP(r),activeIndex:ri(r),activeLabel:JS(r),activeTooltipIndex:ri(r),isTooltipActive:w5(r)};e.payload.handler(n,e.payload.reactEvent)}}});var F8=Y([us],e=>e.tooltipItemPayloads),z8=Y([F8,Bo,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(d=>d.settings.dataKey===n);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,r);return c}}}),tC=Ar("touchMove"),rC=Oo();rC.startListening({actionCreator:tC,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Og(n,n.tooltip.settings.shared);if(s==="axis"){var l=ev(n,tv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(qS({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=r.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(FN),h=(c=f.getAttribute(zN))!==null&&c!==void 0?c:void 0,g=z8(t.getState(),m,h);t.dispatch(BS({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}});var B8=dN({brush:dF,cartesianAxis:GL,chartData:X5,errorBars:c$,graphicalItems:mL,layout:KM,legend:_4,options:K5,polarAxis:AR,polarOptions:$8,referenceElements:xF,rootProps:D8,tooltip:FD}),U8=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gM({reducer:B8,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([YP.middleware,GP.middleware,rv.middleware,eC.middleware,rC.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:I8},name:"recharts-".concat(r)}})};function nC(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Mr(),l=S.useRef(null);if(s)return r;l.current==null&&(l.current=U8(t,n));var c=jp;return S.createElement(T8,{context:c,store:l.current},r)}function aC(e){var{layout:t,width:r,height:n,margin:s}=e,l=ut(),c=Mr();return S.useEffect(()=>{c||(l(UM(t)),l(qM({width:r,height:n})),l(BM(s)))},[l,c,t,r,n,s]),null}function iC(e){var t=ut();return S.useEffect(()=>{t(R8(e))},[t,e]),null}var q8=["children"];function W8(e,t){if(e==null)return{};var r,n,s=K8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function K8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(null,arguments)}var V8={width:"100%",height:"100%"},H8=S.forwardRef((e,t)=>{var r=UN(),n=qN(),s=HN();if(!Hi(r)||!Hi(n))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,S.createElement(_j,ru({},c,{title:d,desc:f,role:h,tabIndex:m,width:r,height:n,style:V8,ref:t}),l)}),Y8=e=>{var{children:t}=e,r=be(bu);if(!r)return null;var{width:n,height:s,y:l,x:c}=r;return S.createElement(_j,{width:n,height:s,x:c,y:l},t)},Y1=S.forwardRef((e,t)=>{var{children:r}=e,n=W8(e,q8),s=Mr();return s?S.createElement(Y8,null,r):S.createElement(H8,ru({ref:t},n),r)});function G8(){var e=ut(),[t,r]=S.useState(null),n=be(b4);return S.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;pr(l)&&l!==n&&e(WM(l))}},[t,e,n]),r}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){Q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q8(e,t,r){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ez=S.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:j,onTouchMove:b,onTouchStart:w,style:y,width:P}=e,C=ut(),[E,k]=S.useState(null),[O,M]=S.useState(null);i6();var I=G8(),K=S.useCallback(B=>{I(B),typeof t=="function"&&t(B),k(B),M(B)},[I,t,k,M]),V=S.useCallback(B=>{C(HP(B)),C(Pr({handler:l,reactEvent:B}))},[C,l]),L=S.useCallback(B=>{C(sp(B)),C(Pr({handler:m,reactEvent:B}))},[C,m]),z=S.useCallback(B=>{C(US()),C(Pr({handler:h,reactEvent:B}))},[C,h]),X=S.useCallback(B=>{C(sp(B)),C(Pr({handler:g,reactEvent:B}))},[C,g]),Q=S.useCallback(()=>{C(JP())},[C]),R=S.useCallback(B=>{C(ZP(B.key))},[C]),Z=S.useCallback(B=>{C(Pr({handler:c,reactEvent:B}))},[C,c]),le=S.useCallback(B=>{C(Pr({handler:d,reactEvent:B}))},[C,d]),ie=S.useCallback(B=>{C(Pr({handler:f,reactEvent:B}))},[C,f]),J=S.useCallback(B=>{C(Pr({handler:v,reactEvent:B}))},[C,v]),F=S.useCallback(B=>{C(Pr({handler:w,reactEvent:B}))},[C,w]),ee=S.useCallback(B=>{C(tC(B)),C(Pr({handler:b,reactEvent:B}))},[C,b]),_=S.useCallback(B=>{C(Pr({handler:j,reactEvent:B}))},[C,j]);return S.createElement(sP.Provider,{value:E},S.createElement(dA.Provider,{value:O},S.createElement("div",{className:qe("recharts-wrapper",n),style:X8({position:"relative",cursor:"default",width:P,height:s},y),onClick:V,onContextMenu:Z,onDoubleClick:le,onFocus:Q,onKeyDown:R,onMouseDown:ie,onMouseEnter:L,onMouseLeave:z,onMouseMove:X,onMouseUp:J,onTouchEnd:_,onTouchMove:ee,onTouchStart:F,ref:K},r)))}),tz=["children","className","width","height","style","compact","title","desc"];function rz(e,t){if(e==null)return{};var r,n,s=nz(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sC=S.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=rz(e,tz),g=ni(h);return d?S.createElement(Y1,{otherAttributes:g,title:f,desc:m},r):S.createElement(ez,{className:n,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(Y1,{otherAttributes:g,title:f,desc:m,ref:t},S.createElement(bF,null,r)))}),az=["width","height"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function iz(e,t){if(e==null)return{};var r,n,s=sz(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oz={top:5,right:5,bottom:5,left:5},lz={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oz,reverseStackOrder:!1,syncMethod:"index"},cz=S.forwardRef(function(t,r){var n,s=Tr(t.categoricalChartProps,lz),{width:l,height:c}=s,d=iz(s,az);if(!Hi(l)||!Hi(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:v}=t,j={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return S.createElement(nC,{preloadedState:{options:j},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:f},S.createElement(FP,{chartData:v.data}),S.createElement(aC,{width:l,height:c,layout:s.layout,margin:s.margin}),S.createElement(iC,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(sC,op({},d,{width:l,height:c,ref:r})))}),uz=["axis","item"],dz=S.forwardRef((e,t)=>S.createElement(cz,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uz,tooltipPayloadSearcher:oP,categoricalChartProps:e,ref:t}));function fz(e){var t=ut();return S.useEffect(()=>{t(L8(e))},[t,e]),null}var mz=["width","height","layout"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function hz(e,t){if(e==null)return{};var r,n,s=pz(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gz={top:5,right:5,bottom:5,left:5},vz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gz,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xz=S.forwardRef(function(t,r){var n,s=Tr(t.categoricalChartProps,vz),{width:l,height:c,layout:d}=s,f=hz(s,mz);if(!Hi(l)||!Hi(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:v}=t,j={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:v,eventEmitter:void 0};return S.createElement(nC,{preloadedState:{options:j},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:m},S.createElement(FP,{chartData:s.data}),S.createElement(aC,{width:l,height:c,layout:d,margin:s.margin}),S.createElement(iC,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),S.createElement(fz,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),S.createElement(sC,lp({width:l,height:c},f,{ref:r})))}),yz=["item"],bz={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wz=S.forwardRef((e,t)=>{var r=Tr(e,bz);return S.createElement(xz,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yz,tooltipPayloadSearcher:oP,categoricalChartProps:r,ref:t})});const oC=6048e5,jz=864e5,X1=Symbol.for("constructDateFrom");function da(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&X1 in e?e[X1](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wr(e,t){return da(t||e,e)}let Nz={};function Fu(){return Nz}function Po(e,t){const r=Fu(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Wr(e,t?.in),l=s.getDay(),c=(l<n?7:0)+l-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function nu(e,t){return Po(e,{...t,weekStartsOn:1})}function lC(e,t){const r=Wr(e,t?.in),n=r.getFullYear(),s=da(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const l=nu(s),c=da(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=nu(c);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Q1(e){const t=Wr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Sz(e,...t){const r=da.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Z1(e,t){const r=Wr(e,t?.in);return r.setHours(0,0,0,0),r}function Pz(e,t,r){const[n,s]=Sz(r?.in,e,t),l=Z1(n),c=Z1(s),d=+l-Q1(l),f=+c-Q1(c);return Math.round((d-f)/jz)}function Cz(e,t){const r=lC(e,t),n=da(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),nu(n)}function Ez(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kz(e){return!(!Ez(e)&&typeof e!="number"||isNaN(+Wr(e)))}function Az(e,t){const r=Wr(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Oz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mz=(e,t,r)=>{let n;const s=Oz[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Tz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_z={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Iz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dz={date:fh({formats:Tz,defaultWidth:"full"}),time:fh({formats:_z,defaultWidth:"full"}),dateTime:fh({formats:Iz,defaultWidth:"full"})},Rz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lz=(e,t,r,n)=>Rz[e];function oo(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=r?.width?String(r.width):c;s=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=r?.width?String(r.width):e.defaultWidth;s=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return s[l]}}const $z={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Uz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wz=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kz={ordinalNumber:Wz,era:oo({values:$z,defaultWidth:"wide"}),quarter:oo({values:Fz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oo({values:zz,defaultWidth:"wide"}),day:oo({values:Bz,defaultWidth:"wide"}),dayPeriod:oo({values:Uz,defaultWidth:"wide",formattingValues:qz,defaultFormattingWidth:"wide"})};function lo(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],l=t.match(s);if(!l)return null;const c=l[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?Hz(d,g=>g.test(c)):Vz(d,g=>g.test(c));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const h=t.slice(c.length);return{value:m,rest:h}}}function Vz(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Hz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Yz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(s.length);return{value:c,rest:d}}}const Gz=/^(\d+)(th|st|nd|rd)?/i,Xz=/\d+/i,Qz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zz={any:[/^b/i,/^(a|c)/i]},Jz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e7={any:[/1/i,/2/i,/3/i,/4/i]},t7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},s7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},o7={ordinalNumber:Yz({matchPattern:Gz,parsePattern:Xz,valueCallback:e=>parseInt(e,10)}),era:lo({matchPatterns:Qz,defaultMatchWidth:"wide",parsePatterns:Zz,defaultParseWidth:"any"}),quarter:lo({matchPatterns:Jz,defaultMatchWidth:"wide",parsePatterns:e7,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lo({matchPatterns:t7,defaultMatchWidth:"wide",parsePatterns:r7,defaultParseWidth:"any"}),day:lo({matchPatterns:n7,defaultMatchWidth:"wide",parsePatterns:a7,defaultParseWidth:"any"}),dayPeriod:lo({matchPatterns:i7,defaultMatchWidth:"any",parsePatterns:s7,defaultParseWidth:"any"})},l7={code:"en-US",formatDistance:Mz,formatLong:Dz,formatRelative:Lz,localize:Kz,match:o7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c7(e,t){const r=Wr(e,t?.in);return Pz(r,Az(r))+1}function u7(e,t){const r=Wr(e,t?.in),n=+nu(r)-+Cz(r);return Math.round(n/oC)+1}function cC(e,t){const r=Wr(e,t?.in),n=r.getFullYear(),s=Fu(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=da(t?.in||e,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const d=Po(c,t),f=da(t?.in||e,0);f.setFullYear(n,0,l),f.setHours(0,0,0,0);const m=Po(f,t);return+r>=+d?n+1:+r>=+m?n:n-1}function d7(e,t){const r=Fu(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=cC(e,t),l=da(t?.in||e,0);return l.setFullYear(s,0,n),l.setHours(0,0,0,0),Po(l,t)}function f7(e,t){const r=Wr(e,t?.in),n=+Po(r,t)-+d7(r,t);return Math.round(n/oC)+1}function ze(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ea={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ze(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ze(r+1,2)},d(e,t){return ze(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ze(e.getHours()%12||12,t.length)},H(e,t){return ze(e.getHours(),t.length)},m(e,t){return ze(e.getMinutes(),t.length)},s(e,t){return ze(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ze(s,t.length)}},Ii={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ea.y(e,t)},Y:function(e,t,r,n){const s=cC(e,n),l=s>0?s:1-s;if(t==="YY"){const c=l%100;return ze(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):ze(l,t.length)},R:function(e,t){const r=lC(e);return ze(r,t.length)},u:function(e,t){const r=e.getFullYear();return ze(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ea.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=f7(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ze(s,t.length)},I:function(e,t,r){const n=u7(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ea.d(e,t)},D:function(e,t,r){const n=c7(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return ze(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),l=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return ze(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ze(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Ii.noon:n===0?s=Ii.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Ii.evening:n>=12?s=Ii.afternoon:n>=4?s=Ii.morning:s=Ii.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ea.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ea.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ea.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ea.s(e,t)},S:function(e,t){return ea.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return tj(n);case"XXXX":case"XX":return $a(n);case"XXXXX":case"XXX":default:return $a(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return tj(n);case"xxxx":case"xx":return $a(n);case"xxxxx":case"xxx":default:return $a(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ej(n,":");case"OOOO":default:return"GMT"+$a(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ej(n,":");case"zzzz":default:return"GMT"+$a(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ze(n,t.length)},T:function(e,t,r){return ze(+e,t.length)}};function ej(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),l=n%60;return l===0?r+String(s):r+String(s)+t+ze(l,2)}function tj(e,t){return e%60===0?(e>0?"-":"+")+ze(Math.abs(e)/60,2):$a(e,t)}function $a(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ze(Math.trunc(n/60),2),l=ze(n%60,2);return r+s+t+l}const rj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},m7=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return rj(e,t);let l;switch(n){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",rj(n,t)).replace("{{time}}",uC(s,t))},h7={p:uC,P:m7},p7=/^D+$/,g7=/^Y+$/,v7=["D","DD","YY","YYYY"];function x7(e){return p7.test(e)}function y7(e){return g7.test(e)}function b7(e,t,r){const n=w7(e,t,r);if(console.warn(n),v7.includes(e))throw new RangeError(n)}function w7(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S7=/^'([^]*?)'?$/,P7=/''/g,C7=/[a-zA-Z]/;function E7(e,t,r){const n=Fu(),s=n.locale??l7,l=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=Wr(e,r?.in);if(!kz(d))throw new RangeError("Invalid time value");let f=t.match(N7).map(h=>{const g=h[0];if(g==="p"||g==="P"){const v=h7[g];return v(h,s.formatLong)}return h}).join("").match(j7).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:k7(h)};if(J1[g])return{isToken:!0,value:h};if(g.match(C7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(f=s.localize.preprocessor(d,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return f.map(h=>{if(!h.isToken)return h.value;const g=h.value;(y7(g)||x7(g))&&b7(g,t,String(e));const v=J1[g[0]];return v(d,g,s.localize,m)}).join("")}function k7(e){const t=e.match(S7);return t?t[1].replace(P7,"'"):e}function fs({type:e,libelle:t,classe:r,enseignant:n}){const s=Eo(e),l=G.getAll("ecole")?.[0],c=l&&l.logo?l.logo:s.logo||"",d=s.logoMinistere||"",f=d&&d!==c,m=l&&l.nom?l.nom:s.etablissement;return i.jsxs("div",{className:"w-full mb-2",children:[i.jsxs("div",{className:"grid grid-cols-[120px_1fr_120px] items-center gap-4 mb-2 print:mb-1",children:[i.jsx("div",{className:"flex flex-col items-start space-y-2",children:c?i.jsx("img",{src:c,alt:"logo",style:{maxHeight:80,width:"auto"},className:"logo-left object-contain"}):i.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-600",children:"Logo"})}),i.jsxs("div",{className:"text-center px-2",children:[i.jsx("div",{className:"text-sm text-gray-700",children:s.pays}),i.jsx("div",{className:"font-bold text-lg tracking-wider text-blue-800",children:s.ministere}),i.jsx("div",{className:"font-extrabold text-xl mt-1",children:m}),i.jsx("div",{className:"text-base text-teal-700 mt-1 entete-libelle font-semibold",children:t||s.header}),(r||n)&&i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[r&&i.jsxs("span",{className:"mr-3",children:["Classe: ",r]}),n&&i.jsxs("span",{children:["Enseignant: ",n]})]})]}),i.jsx("div",{className:"flex flex-col items-end space-y-2",children:f?i.jsx("img",{src:d,alt:"logo-ministere",style:{maxHeight:64,width:"auto"},className:"logo-right object-contain"}):i.jsx("div",{style:{height:64,width:64}})})]}),i.jsx("div",{className:"text-xs text-right text-gray-600 print:text-xs",children:s.footer})]})}const nj=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result)),n.onerror=r,n.readAsDataURL(e)});function A7({onClose:e}){const[t,r]=S.useState(()=>la()),[n,s]=S.useState("eleves");function l(d){r(d),ho(d)}function c(d,f){const m={...t,[n]:{...t[n],[d]:f}};l(m)}return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-bold",children:"Paramtrage des enttes"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>{r(la())},children:"Restaurer"}),i.jsx("button",{className:"px-3 py-1",onClick:e,children:"Fermer"})]})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[i.jsx("div",{className:"col-span-3",children:i.jsxs("nav",{className:"flex flex-col gap-2",children:[i.jsx("button",{className:`text-left px-3 py-2 rounded ${n==="eleves"?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50"}`,onClick:()=>s("eleves"),children:"lves"}),i.jsx("button",{className:`text-left px-3 py-2 rounded ${n==="recu"?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50"}`,onClick:()=>s("recu"),children:"Reu"}),i.jsx("button",{className:`text-left px-3 py-2 rounded ${n==="transport"?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50"}`,onClick:()=>s("transport"),children:"Transport"})]})}),i.jsxs("div",{className:"col-span-6 bg-gray-50 p-3 rounded",children:[i.jsx("label",{className:"block text-sm text-gray-700",children:"Entte"}),i.jsx("input",{className:"w-full mt-1 p-2 border rounded",value:t[n].header,onChange:d=>c("header",d.target.value)}),i.jsx("label",{className:"block text-sm text-gray-700 mt-3",children:"Pied de page"}),i.jsx("input",{className:"w-full mt-1 p-2 border rounded",value:t[n].footer||"",onChange:d=>c("footer",d.target.value)}),i.jsx("label",{className:"block text-sm text-gray-700 mt-3",children:"Colonnes (spares par une virgule)"}),i.jsx("input",{className:"w-full mt-1 p-2 border rounded",value:t[n].columns.join(", "),onChange:d=>c("columns",d.target.value.split(",").map(f=>f.trim()))}),i.jsxs("div",{className:"mt-3",children:[i.jsx("label",{className:"block text-sm text-gray-700",children:"Logo principal"}),i.jsx("input",{type:"file",accept:"image/*",onChange:async d=>{const f=d.target.files?.[0];if(f)try{const m=await nj(f);c("logo",m)}catch{}}}),t[n].logo?i.jsx("img",{src:t[n].logo,alt:"logo",className:"h-12 mt-2"}):null]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("label",{className:"block text-sm text-gray-700",children:"Logo Ministre"}),i.jsx("input",{type:"file",accept:"image/*",onChange:async d=>{const f=d.target.files?.[0];if(f)try{const m=await nj(f);c("logoMinistere",m)}catch{}}}),t[n].logoMinistere?i.jsx("img",{src:t[n].logoMinistere,alt:"logo-min",className:"h-12 mt-2"}):null]})]}),i.jsxs("div",{className:"col-span-3",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Aperu"}),i.jsx("div",{className:"border p-3 bg-white rounded",children:i.jsx(fs,{type:n,libelle:t[n].header})}),i.jsx("div",{className:"mt-3 flex justify-end",children:i.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:()=>{l(t),e()},children:"Enregistrer"})})]})]})]})})}function ms({title:e,subtitle:t,actions:r,children:n}){return i.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-extrabold text-gray-900",children:e}),t&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t})]}),r&&i.jsx("div",{className:"mt-4 sm:mt-0 flex items-center gap-3",children:r})]}),i.jsx("div",{className:"space-y-6",children:n})]})})}class zi{static instance;static getInstance(){return zi.instance||(zi.instance=new zi),zi.instance}cancelPayment(t,r){const n=G.getById("paiements",t);if(!n)throw new Error("Paiement introuvable");try{const l=Number(n.avance||0);l>0&&G.getAll("credits").filter(d=>d.eleveId===n.eleveId&&Math.abs(Number(d.montant||0)-l)<1).forEach(d=>G.delete("credits",d.id))}catch{}const s={canceled:!0,updatedAt:new Date().toISOString()};return r&&(s.cancelNote=r),G.update("paiements",t,s),G.addHistorique({type:"autre",cible:"Paiement",cibleId:t,description:`Annulation du paiement ${t} de ${n.montant} FCFA${r?`  Motif: ${r}`:""}`,utilisateur:n&&n.operateur||"SYSTEM"}),!0}getSituationEcheances(t){const r=G.getById("eleves",t);if(!r)return null;const n=G.getById("classes",r.classeId);if(!n)return null;const s=G.getAll("fraisScolaires").find(b=>b.niveau===n.niveau&&b.anneeScolaire===n.anneeScolaire);if(!s||!s.echeances)return null;const l=G.getAll("paiements").filter(b=>b.eleveId===t&&!b.canceled),c=new Date,d={};l.forEach(b=>{if(b.allocations&&b.allocations.length>0)b.allocations.forEach(w=>{const y=s.echeances.find(P=>!!(P.id&&P.id===w.echeanceId||`${n.niveau}-${P.modalite}`===w.echeanceId));y&&y.modalite!=null&&(d[y.modalite]=(d[y.modalite]||0)+w.montant)});else{const w=b;let y=null;w.modalite?y=Number(w.modalite):w.typeFrais==="inscription"?y=1:w.typeFrais==="scolarite"&&w.versementIndex&&(y=Number(w.versementIndex)+1),y&&(d[y]=(d[y]||0)+b.montant)}});const f=s.echeances.map(b=>{const w=d[b.modalite||0]||0,y=Math.max(0,b.montant-w),P=new Date(b.date),C=P<c&&y>0,E=C?Math.floor((c.getTime()-P.getTime())/(1e3*60*60*24)):0;return{echeanceId:b.id||`${n.niveau}-${b.modalite}`,modalite:b.modalite||0,label:b.label||`Versement ${b.modalite}`,date:b.date,montant:b.montant,montantPaye:w,montantRestant:y,isEchue:C,joursRetard:E}}),m=f.reduce((b,w)=>b+w.montant,0),h=f.reduce((b,w)=>b+w.montantPaye,0),g=f.reduce((b,w)=>b+w.montantRestant,0),v=f.filter(b=>b.isEchue),j=f.filter(b=>b.montantRestant>0&&!b.isEchue).sort((b,w)=>new Date(b.date).getTime()-new Date(w.date).getTime())[0]||null;return{eleveId:t,eleve:r,classe:n,echeances:f,totalDu:m,totalPaye:h,totalRestant:g,echeancesEchues:v,prochainEcheance:j}}getAlertesEcheances(){const t=G.getAll("eleves").filter(l=>l.statut==="Actif"),r=new Date,n=[],s=[];return t.forEach(l=>{const c=this.getSituationEcheances(l.id);if(c){if(c.echeancesEchues.length>0){const d=c.echeancesEchues.reduce((f,m)=>f+m.montantRestant,0);n.push({eleve:l,echeances:c.echeancesEchues,totalDu:d})}if(c.prochainEcheance){const d=new Date(c.prochainEcheance.date),f=Math.ceil((d.getTime()-r.getTime())/(1e3*60*60*24));f<=7&&f>0&&s.push({eleve:l,echeance:c.prochainEcheance,joursRestants:f})}}}),{echeancesEchues:n,echeancesProches:s}}processPaymentIntelligent(t,r,n,s={}){const l=this.getSituationEcheances(t);if(!l)throw new Error("Impossible de calculer la situation des chances");let c=r;const d=[],f=Array.isArray(s.selectedEcheances)?s.selectedEcheances:void 0,m=l.echeances.filter(w=>w.montantRestant>0),h=f&&f.length>0?m.filter(w=>f.includes(w.echeanceId)):m,g=[...h.filter(w=>w.isEchue).sort((w,y)=>new Date(w.date).getTime()-new Date(y.date).getTime()),...h.filter(w=>!w.isEchue).sort((w,y)=>new Date(w.date).getTime()-new Date(y.date).getTime())],v=!!l.eleve?.protege;if(v&&f&&f.length>0){if(h.find(P=>P.modalite!==1))throw new Error("lve protg : seules les chances d'inscription (modalit 1) peuvent tre rgles");const y=h.reduce((P,C)=>P+(C.modalite===1?C.montantRestant:0),0);if(r<y)throw new Error("lve protg : l'inscription doit tre rgle en totalit")}else if(v&&(!f||f.length===0)){const w=l.echeances.filter(y=>y.modalite===1).reduce((y,P)=>y+P.montantRestant,0);if(r<w)throw new Error("lve protg : l'inscription doit tre rgle en totalit")}for(const w of g){if(c<=0)break;if(w.montantRestant<=0)continue;if(w.modalite===1){if(c<w.montantRestant)throw new Error("L'inscription doit tre rgle en totalit");d.push({echeanceId:w.echeanceId,montant:w.montantRestant}),c-=w.montantRestant;continue}const y=Math.min(c,w.montantRestant);d.push({echeanceId:w.echeanceId,montant:y}),c-=y}const j={eleveId:t,montant:r,datePaiement:n,typeFrais:s&&s.typeFrais||"scolarite",versementIndex:s&&s.versementIndex||void 0,modePaiement:s&&s.modePaiement||"Espces",numeroRecu:s&&s.numeroRecu||`REC-${Date.now()}`,operateur:s&&s.operateur||"SYSTEM",notes:s&&s.notes||"",allocations:d,avance:c,updatedAt:new Date().toISOString()};return{paiement:G.create("paiements",j),allocations:d,avance:c,situation:this.getSituationEcheances(t)}}generateConvocations(){return this.getAlertesEcheances().echeancesEchues.map(r=>({eleve:r.eleve,classe:G.getById("classes",r.eleve.classeId),echeancesEchues:r.echeances,totalDu:r.totalDu,anneeScolaire:G.getById("classes",r.eleve.classeId)?.anneeScolaire||""}))}}const kr=zi.getInstance();function mh(){const[e,t]=S.useState(!1),[r,n]=S.useState(0),s=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{page:"eleves",action:"new"}}))},l=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{page:"finances"}})),window.dispatchEvent(new CustomEvent("open-payment-form"))},c=()=>{window.dispatchEvent(new CustomEvent("navigate",{detail:{page:"notes"}})),window.dispatchEvent(new CustomEvent("open-notes-entry"))},d=G.getAll("eleves"),f=G.getAll("paiements").filter(k=>!k.canceled),m=G.getAll("fraisScolaires"),h=G.getAll("classes"),g=G.getAll("notes"),v=S.useMemo(()=>kr.getAlertesEcheances(),[r]),j=S.useMemo(()=>d.filter(k=>!g.some(O=>O.eleveId===k.id)),[d,g,r]),b=S.useMemo(()=>{const k=d.length,O=d.filter(L=>L.statut==="Actif").length,M=f.reduce((L,z)=>L+z.montant,0),I=f.filter(L=>{const z=new Date(L.datePaiement),X=new Date;return z.getMonth()===X.getMonth()&&z.getFullYear()===X.getFullYear()}).reduce((L,z)=>L+z.montant,0),K=d.map(L=>{const z=kr.getSituationEcheances(L.id);if(!z)return{eleveId:L.id,statut:"Non Pay",solde:0};if(z.eleve&&z.eleve.protege){const Z=(z.echeances||[]).filter(F=>F.modalite===1),le=Z.reduce((F,ee)=>F+(ee.montant||0),0),ie=Z.reduce((F,ee)=>F+(ee.montantPaye||0),0);let J="Non Pay";return le>0&&ie>=le?J="Pay":ie>0&&(J="Partiellement Pay"),{eleveId:L.id,statut:J,solde:le-ie}}const X=z.totalDu||0,Q=z.totalPaye||0;let R="Non Pay";return X>0&&Q>=X?R="Pay":Q>0&&(R="Partiellement Pay"),{eleveId:L.id,statut:R,solde:X-Q}}),V={soldes:K.filter(L=>L.statut==="Pay").length,partiels:K.filter(L=>L.statut==="Partiellement Pay").length,impayes:K.filter(L=>L.statut==="Non Pay").length};return{totalEleves:k,elevesActifs:O,totalRecettes:M,recettesMoisCourant:I,elevesParStatut:V}},[d,f,m,h,r]),w=S.useMemo(()=>{const k=Array.from({length:12},(O,M)=>({mois:E7(new Date(2024,M,1),"MMM"),recettes:0}));return f.forEach(O=>{const M=new Date(O.datePaiement);if(!isNaN(M.getTime())){const I=M.getMonth();I>=0&&I<12&&(k[I].recettes+=O.montant)}}),k},[f,r]),y=[{name:"Pay",value:b.elevesParStatut.soldes,color:"#10b981"},{name:"Partiel",value:b.elevesParStatut.partiels,color:"#f59e0b"},{name:"Non Pay",value:b.elevesParStatut.impayes,color:"#ef4444"}],P=k=>new Intl.NumberFormat("fr-FR").format(k)+" FCFA",[C,E]=S.useState(null);return S.useEffect(()=>E(G.getAll("ecole")[0]||null),[r]),S.useEffect(()=>{const k=()=>n(O=>O+1);return window.addEventListener("dataChanged",k),()=>window.removeEventListener("dataChanged",k)},[]),i.jsxs(ms,{title:"Tableau de bord",subtitle:`Anne scolaire ${C?.anneeScolaireActive||"Non configure"}`,actions:i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:s,className:"px-3 py-2 bg-teal-600 text-white rounded-md",children:"Nouvel lve"}),i.jsx("button",{onClick:l,className:"px-3 py-2 bg-gray-900 text-white rounded-md",children:"Paiement"})]}),children:[(j.length>0||(v?.echeancesEchues?.length||0)>0||(v?.echeancesProches?.length||0)>0)&&i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(gj,{className:"h-5 w-5 text-gray-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Alertes"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[j.length>0&&i.jsxs("p",{children:[j.length," lve(s) n'ont aucune note enregistre."]}),v?.echeancesEchues?.length>0&&i.jsxs("p",{children:[v.echeancesEchues.length," lve(s) ont des chances chues."]}),v?.echeancesProches?.length>0&&i.jsxs("p",{children:[v.echeancesProches.length," chance(s) dans les 7 prochains jours."]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"lves Actifs"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.elevesActifs}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Total: ",b.totalEleves]})]}),i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx(Qa,{className:"h-6 w-6 text-gray-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recettes Totales"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:P(b.totalRecettes)}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[i.jsx(xh,{className:"inline h-3 w-3 mr-1"}),"Ce mois: ",P(b.recettesMoisCourant)]})]}),i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx(sa,{className:"h-6 w-6 text-gray-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paiements Complts"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.elevesParStatut.soldes}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(Qr,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-500",children:"Frais pays"})]})]}),i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx(Qr,{className:"h-6 w-6 text-gray-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Non Pay"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.elevesParStatut.impayes}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(Jr,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-sm text-gray-500",children:"En attente"})]})]}),i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx($k,{className:"h-6 w-6 text-gray-600"})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(xh,{className:"h-5 w-5 text-gray-600"})," volution des Recettes"]}),i.jsx(a1,{width:"100%",height:260,children:i.jsxs(dz,{data:w,children:[i.jsx(WP,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),i.jsx(Zg,{dataKey:"mois",tick:{fontSize:12}}),i.jsx(Jg,{tickFormatter:k=>new Intl.NumberFormat("fr-FR",{notation:"compact"}).format(k),tick:{fontSize:12}}),i.jsx(Zw,{formatter:k=>P(Number(k))}),i.jsx(LP,{dataKey:"recettes",fill:"#374151",radius:[2,2,0,0]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Qr,{className:"h-5 w-5 text-gray-600"})," Situation des Paiements"]}),i.jsx(a1,{width:"100%",height:260,children:i.jsxs(wz,{children:[i.jsx(MP,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:y.map((k,O)=>i.jsx(qo,{fill:k.color},`cell-${O}`))}),i.jsx(Zw,{})]})}),i.jsx("div",{className:"flex justify-center space-x-6 mt-4",children:y.map(k=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}})," ",i.jsxs("span",{className:"text-sm text-gray-600",children:[k.name," (",k.value,")"]})]},k.name))})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Actions Rapides"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{className:"group p-6 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all text-left",onClick:s,children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:i.jsx(Qa,{className:"h-5 w-5 text-gray-600"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Nouvel lve"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Inscrire un nouvel lve"})]}),i.jsxs("button",{className:"group p-6 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all text-left",onClick:l,children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:i.jsx(sa,{className:"h-5 w-5 text-gray-600"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Nouveau Paiement"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enregistrer un paiement"})]}),i.jsxs("button",{className:"group p-6 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all text-left",onClick:c,children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:i.jsx(ia,{className:"h-5 w-5 text-gray-600"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Saisir Notes"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enregistrer les notes"})]})]})]}),e&&i.jsx(A7,{onClose:()=>t(!1)})]})}const O7="modulepreload",M7=function(e,t){return new URL(e,t).href},aj={},qa=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let m=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=m(r.map(h=>{if(h=M7(h,n),h in aj)return;aj[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(!!n)for(let w=c.length-1;w>=0;w--){const y=c[w];if(y.href===h&&(!g||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":O7,g||(b.as="script"),b.crossOrigin="",b.href=h,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((w,y)=>{b.addEventListener("load",w),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},T7={primary:"bg-teal-600 text-white hover:bg-teal-700",secondary:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",ghost:"bg-transparent text-gray-700 hover:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700"},ij={sm:"px-2 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-base"};function ke({variant:e="primary",className:t="",children:r,leftIcon:n,rightIcon:s,size:l="md",...c}){const d=`rounded-md font-medium inline-flex items-center space-x-2 ${ij[l]||ij.md}`;return i.jsxs("button",{className:`${d} ${T7[e]} ${t}`,...c,children:[n&&i.jsx("span",{className:"inline-flex mr-1",children:n}),i.jsx("span",{className:"inline-flex items-center",children:r}),s&&i.jsx("span",{className:"inline-flex ml-1",children:s})]})}function _7({onEleveSelect:e,onNewEleve:t}){const{showToast:r}=Lt(),[n,s]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(""),m=q=>{s(q?gt.map(fe=>fe.id):[])},h=(q,fe)=>{s(Me=>fe?[...Me,q]:Me.filter(Oe=>Oe!==q))},g=()=>{n.length!==0&&window.confirm(`Supprimer ${n.length} lve(s) ?`)&&(n.forEach(q=>G.delete("eleves",q)),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(q){console.warn(q)}},100))},v=()=>{d&&(n.forEach(q=>G.update("eleves",q,{classeId:d})),c(!1),s([]),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(q){console.warn(q)}},100))},[j,b]=S.useState(null),[w,y]=S.useState([]),[P,C]=S.useState([]),[E,k]=S.useState({matricule:"",nom:"",prenoms:"",nomPrenoms:""}),[O,M]=S.useState(""),[I,K]=S.useState(!1),[V,L]=S.useState(!1),z=async q=>{const fe=q.target.files?.[0];if(fe){b(fe);try{const Oe=(await qa(()=>import("./excelImportExport-C3uC7Eqi.js"),[],import.meta.url)).importerElevesDepuisExcel;if(typeof Oe!="function")throw new Error("Module d'import introuvable");const We=await Oe(fe);if(!We)throw new Error("Aucune donne retourne par l'importeur");Array.isArray(We)?(C(We),K(!0)):We.columns?(y(We.columns),C(We.preview||[]),L(!0)):(C(We.preview||[]),K(!0))}catch(Me){const Oe=Me instanceof Error?Me.message:String(Me);r("Erreur lors de l'importation: "+Oe,"error"),console.error("Import error:",Me)}}},X=async()=>{if(!j)return;L(!1);const{importerElevesDepuisExcel:q}=await qa(async()=>{const{importerElevesDepuisExcel:Me}=await import("./excelImportExport-C3uC7Eqi.js");return{importerElevesDepuisExcel:Me}},[],import.meta.url),fe=await q(j,E);C(fe),K(!0)},Q=async()=>{if(!O){alert("Slectionnez une classe pour l'importation.");return}const{db:q}=await qa(async()=>{const{db:fe}=await Promise.resolve().then(()=>zk);return{db:fe}},void 0,import.meta.url);P.forEach(fe=>{const Me=q.getAll("eleves").find(Oe=>Oe.matricule&&Oe.matricule===(fe.matricule||"")||Oe.nom===(fe.nom||"")&&Oe.prenoms===(fe.prenoms||""));if(Me)q.update("eleves",Me.id,{classeId:O});else{const Oe=q.generateMatricule();q.create("eleves",{...fe,id:Oe,classeId:O,anneeEntree:new Date().getFullYear().toString(),statut:"Actif",pereTuteur:fe.pereTuteur||"",mereTutrice:fe.mereTutrice||"",telephone:fe.telephone||"",adresse:fe.adresse||"",photo:fe.photo||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}}),K(!1),C([]),M(""),b(null);try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(fe){console.warn(fe)}},R=async()=>{const{exporterElevesEnExcel:q}=await qa(async()=>{const{exporterElevesEnExcel:rn}=await import("./excelImportExport-C3uC7Eqi.js");return{exporterElevesEnExcel:rn}},[],import.meta.url),fe=await q(se),Me=new Blob([fe],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Oe=window.URL.createObjectURL(Me),We=document.createElement("a");We.href=Oe,We.download=`eleves_klasnet_${new Date().toISOString().split("T")[0]}.xlsx`,We.click(),window.URL.revokeObjectURL(Oe)};function Z(q){try{const fe=kr.getSituationEcheances(q.id);if(!fe)return"Non dfini";if(fe.eleve&&fe.eleve.protege){const We=(fe.echeances||[]).filter(In=>In.modalite===1),rn=We.reduce((In,nn)=>In+(nn.montant||0),0),_n=We.reduce((In,nn)=>In+(nn.montantPaye||0),0);return rn>0&&_n>=rn?"Pay":_n>0&&_n<rn?"Partiel":"Impay"}const Me=fe.totalDu||0,Oe=fe.totalPaye||0;return Me===0?"Non dfini":Oe>=Me?"Pay":Oe>0&&Oe<Me?"Partiel":"Impay"}catch(fe){return console.warn("Unable to compute financial status for",q.id,fe),"Non dfini"}}function le(q){switch(q){case"Pay":return"bg-green-100 text-green-800";case"Partiel":return"bg-orange-100 text-orange-800";case"Impay":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}const[ie,J]=S.useState(""),[F,ee]=S.useState(""),[_,B]=S.useState(""),[ge,ce]=S.useState("nom"),[de,Ae]=S.useState("asc"),[$e,Te]=S.useState(0);S.useEffect(()=>{const q=()=>Te(fe=>fe+1);return window.addEventListener("dataChanged",q),()=>window.removeEventListener("dataChanged",q)},[]);const se=G.getAll("eleves"),ye=G.getAll("classes"),Ce=Eo("eleves"),ne=ye.find(q=>q.id===F),st=ne?`${ne.niveau} ${ne.section||""}`.trim():"Toutes les classes",_e=ne?ne.anneeScolaire:ye[0]?.anneeScolaire||"",Nt=`${st}${_e?"  "+_e:""}  ${Ce.header}`,rt=!ne,gt=S.useMemo(()=>{let q=[...se];if(ie){const fe=ie.toLowerCase();q=q.filter(Me=>Me.nom.toLowerCase().includes(fe)||Me.prenoms.toLowerCase().includes(fe)||Me.matricule.toLowerCase().includes(fe)||Me.pereTuteur.toLowerCase().includes(fe)||Me.mereTutrice.toLowerCase().includes(fe))}return F&&(q=q.filter(fe=>fe.classeId===F)),_&&(q=q.filter(fe=>Z(fe)===_)),q.sort((fe,Me)=>{let Oe=fe[ge],We=Me[ge];return(typeof Oe>"u"||Oe===null)&&(Oe=""),(typeof We>"u"||We===null)&&(We=""),typeof Oe=="string"&&(Oe=Oe.toLowerCase(),We=We.toLowerCase()),de==="asc"?Oe<We?-1:Oe>We?1:0:Oe>We?-1:Oe<We?1:0}),q},[se,ie,F,_,ge,de]),On=q=>{ge===q?Ae(de==="asc"?"desc":"asc"):(ce(q),Ae("asc"))},hs=q=>{window.confirm(`tes-vous sr de vouloir supprimer l'lve ${q.prenoms} ${q.nom} ?`)&&(G.delete("eleves",q.id),G.addHistorique({type:"suppression",cible:"lve",cibleId:q.id,description:`Suppression de l'lve ${q.prenoms} ${q.nom}`,utilisateur:"ADMIN"}),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(fe){console.warn(fe)}},100))},Mn=q=>{const fe=ye.find(Me=>Me.id===q);return fe?`${fe.niveau} ${fe.section}`:"Non assign"},Tn=q=>{switch(q){case"Actif":return"bg-green-100 text-green-800";case"Inactif":return"bg-gray-100 text-gray-800";case"Transfr":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs(ms,{title:"Gestion des lves",subtitle:`${gt.length} lve(s) trouv(s)`,actions:i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"cursor-pointer",children:[i.jsx("input",{type:"file",accept:".xlsx,.xls",style:{display:"none"},onChange:z}),i.jsxs(ke,{variant:"secondary",className:"px-3",children:[i.jsx(Co,{className:"h-4 w-4"}),i.jsx("span",{children:"Importer"})]})]}),i.jsxs(ke,{variant:"secondary",className:"px-3",onClick:R,children:[i.jsx(Ck,{className:"h-4 w-4"}),i.jsx("span",{children:"Exporter"})]}),i.jsxs(ke,{variant:"primary",onClick:t,children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{children:"Nouvel lve"})]}),i.jsxs(ke,{variant:"secondary",onClick:()=>window.print(),className:"px-3",children:[i.jsx(au,{className:"h-4 w-4"}),i.jsx("span",{children:"Imprimer / PDF"})]}),V&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative animate-fade-in flex flex-col items-center",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Slectionnez les colonnes  importer"}),i.jsxs("div",{className:"space-y-3 w-full",children:[i.jsxs("div",{children:[i.jsx("label",{children:"Matricule :"}),i.jsxs("select",{value:E.matricule,onChange:q=>k({...E,matricule:q.target.value}),className:"w-full border rounded px-2 py-1",children:[i.jsx("option",{value:"",children:"-- Choisir --"}),w.map(q=>i.jsx("option",{value:q,children:q},q))]})]}),i.jsxs("div",{children:[i.jsx("label",{children:"Nom :"}),i.jsxs("select",{value:E.nom,onChange:q=>k({...E,nom:q.target.value}),className:"w-full border rounded px-2 py-1",children:[i.jsx("option",{value:"",children:"-- Choisir --"}),w.map(q=>i.jsx("option",{value:q,children:q},q))]})]}),i.jsxs("div",{children:[i.jsx("label",{children:"Prnoms :"}),i.jsxs("select",{value:E.prenoms,onChange:q=>k({...E,prenoms:q.target.value}),className:"w-full border rounded px-2 py-1",children:[i.jsx("option",{value:"",children:"-- Choisir --"}),w.map(q=>i.jsx("option",{value:q,children:q},q))]})]}),i.jsxs("div",{children:[i.jsx("label",{children:"Noms et Prnoms (si tout est dans une seule colonne) :"}),i.jsxs("select",{value:E.nomPrenoms,onChange:q=>k({...E,nomPrenoms:q.target.value}),className:"w-full border rounded px-2 py-1",children:[i.jsx("option",{value:"",children:"-- Choisir --"}),w.map(q=>i.jsx("option",{value:q,children:q},q))]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Si cette colonne est slectionne, le nom sera le premier mot, le reste les prnoms."})]})]}),i.jsxs("div",{className:"mt-4 flex justify-end space-x-2 w-full",children:[i.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded",onClick:()=>L(!1),children:"Annuler"}),i.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded",onClick:X,children:"Valider"})]}),i.jsxs("div",{className:"mt-4 w-full",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Aperu des donnes :"}),i.jsxs("table",{className:"w-full text-xs border",children:[i.jsx("thead",{children:i.jsx("tr",{children:w.map(q=>i.jsx("th",{className:"border px-1",children:q},q))})}),i.jsx("tbody",{children:P.map((q,fe)=>i.jsx("tr",{children:w.map((Me,Oe)=>i.jsx("td",{className:"border px-1",children:q[Oe]},Oe))},fe))})]})]})]})}),I&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-[90vw] p-8 relative animate-fade-in flex flex-col items-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Aperu de l'importation"}),i.jsx("div",{className:"w-full max-h-[60vh] overflow-y-auto mb-6 border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{className:"bg-gray-100 sticky top-0",children:i.jsxs("tr",{className:"text-center",children:[i.jsx("th",{className:"py-2 px-3 border",children:"Matricule"}),i.jsx("th",{className:"py-2 px-3 border",children:"Nom"}),i.jsx("th",{className:"py-2 px-3 border",children:"Prnoms"})]})}),i.jsx("tbody",{children:P.map((q,fe)=>i.jsxs("tr",{className:"text-center hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-3 border",children:q.matricule}),i.jsx("td",{className:"py-2 px-3 border",children:q.nom}),i.jsx("td",{className:"py-2 px-3 border",children:q.prenoms})]},fe))})]})}),i.jsxs("div",{className:"mb-6 w-full flex flex-col items-center",children:[i.jsx("label",{className:"font-semibold mb-2",children:"Classe d'affectation :"}),i.jsxs("select",{value:O,onChange:q=>M(q.target.value),className:"px-3 py-2 border rounded w-full max-w-xs",children:[i.jsx("option",{value:"",children:"Slectionner une classe"}),ye.map(q=>i.jsxs("option",{value:q.id,children:[q.niveau," ",q.section]},q.id))]})]}),i.jsxs("div",{className:"flex justify-end gap-4 w-full",children:[i.jsx("button",{className:"px-4 py-2 bg-gray-400 text-white rounded",onClick:()=>K(!1),children:"Annuler"}),i.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded font-bold",onClick:Q,children:"Valider l'importation"})]})]})})]}),children:[i.jsx("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher un lve...",value:ie,onChange:q=>J(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]}),i.jsxs("select",{value:F,onChange:q=>ee(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500",children:[i.jsx("option",{value:"",children:"Toutes les classes"}),ye.map(q=>i.jsxs("option",{value:q.id,children:[q.niveau," ",q.section]},q.id))]}),i.jsxs("select",{value:_,onChange:q=>B(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500",children:[i.jsx("option",{value:"",children:"Tous les statuts financiers"}),i.jsx("option",{value:"Pay",children:"Pay"}),i.jsx("option",{value:"Partiel",children:"Partiel"}),i.jsx("option",{value:"Impay",children:"Impay"})]}),i.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[i.jsx(kk,{className:"h-4 w-4"}),i.jsx("span",{children:"Plus de filtres"})]})]})}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 overflow-hidden",children:[i.jsxs("div",{id:"print-area",className:"hidden print:block bg-white p-4 mb-4",children:[i.jsx(fs,{type:"eleves",libelle:Nt}),i.jsx("div",{className:"mb-2 overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",style:{tableLayout:"fixed"},children:[i.jsxs("colgroup",{children:[i.jsx("col",{style:{width:"8%"}}),i.jsx("col",{style:{width:"20%"}}),i.jsx("col",{style:{width:rt?"60%":"72%"}}),rt&&i.jsx("col",{style:{width:"12%"}})]}),i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border px-2 py-1 text-left text-sm font-medium",children:"N"}),i.jsx("th",{className:"border px-2 py-1 text-left text-sm font-medium",children:"Matricule"}),i.jsx("th",{className:"border px-2 py-1 text-left text-sm font-medium",children:"Noms et Prnoms"}),rt&&i.jsx("th",{className:"border px-2 py-1 text-left text-sm font-medium",children:"Classe"})]})})]})}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full border-collapse",style:{tableLayout:"fixed"},children:[i.jsxs("colgroup",{children:[i.jsx("col",{style:{width:"8%"}}),i.jsx("col",{style:{width:"20%"}}),i.jsx("col",{style:{width:rt?"60%":"72%"}}),rt&&i.jsx("col",{style:{width:"12%"}})]}),i.jsx("tbody",{children:gt.map((q,fe)=>i.jsxs("tr",{className:fe%2===0?"bg-white":"bg-gray-50",children:[i.jsx("td",{className:"border px-2 py-1 text-sm",children:fe+1}),i.jsx("td",{className:"border px-2 py-1 text-sm",children:q.matricule}),i.jsx("td",{className:"border px-2 py-1 text-sm",children:`${q.prenoms} ${q.nom}`.trim()}),rt&&i.jsx("td",{className:"border px-2 py-1 text-sm",children:Mn(q.classeId)})]},q.id))})]}),i.jsx("div",{className:"text-xs text-right text-gray-500 mt-2",children:Ce.footer})]})]}),n.length>0&&i.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 bg-gray-50 border-b border-gray-200",children:[i.jsxs("span",{className:"font-medium text-gray-700",children:[n.length," slectionn(s)"]}),i.jsx(ke,{variant:"danger",onClick:g,children:"Supprimer"}),i.jsx(ke,{variant:"primary",onClick:()=>c(!0),children:"Changer de classe"}),i.jsx(ke,{variant:"ghost",onClick:()=>s([]),children:"Tout dslectionner"})]}),l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-[90vw] mx-4",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center",children:"Changement de Classe"}),i.jsxs("p",{className:"text-gray-600 text-center mt-1",children:[n.length," lve(s) slectionn(s)"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Nouvelle classe d'affectation"}),i.jsxs("select",{value:d,onChange:q=>f(q.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",children:[i.jsx("option",{value:"",children:"Slectionner une classe"}),ye.map(q=>i.jsxs("option",{value:q.id,children:[q.niveau," ",q.section," (",q.anneeScolaire,")"]},q.id))]})]}),i.jsx("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:i.jsx("p",{className:"text-gray-700 text-sm",children:" Cette action modifiera la classe de tous les lves slectionns"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-gray-200",children:[i.jsx(ke,{variant:"secondary",className:"w-full sm:w-auto",onClick:()=>c(!1),children:"Annuler"}),i.jsx(ke,{variant:"primary",className:"w-full sm:w-auto",onClick:v,disabled:!d,children:"Valider le Changement"})]}),i.jsxs(i.Fragment,{children:[i.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Changer la classe de ",n.length," lve(s)"]}),i.jsxs("select",{value:d,onChange:q=>f(q.target.value),className:"w-full mb-4 border rounded px-3 py-2",children:[i.jsx("option",{value:"",children:"Slectionner une classe"}),ye.map(q=>i.jsxs("option",{value:q.id,children:[q.niveau," ",q.section]},q.id))]}),i.jsxs("div",{className:"flex justify-end space-x-2 w-full",children:[i.jsx(ke,{variant:"secondary",onClick:()=>c(!1),children:"Annuler"}),i.jsx(ke,{variant:"primary",onClick:v,children:"Valider"})]})]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 py-3 text-center",children:i.jsx("input",{type:"checkbox",checked:n.length===gt.length&&gt.length>0,onChange:q=>m(q.target.checked)})}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"N"}),i.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-100",onClick:()=>On("matricule"),children:["Matricule ",ge==="matricule"&&(de==="asc"?"":"")]}),i.jsxs("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600 cursor-pointer hover:bg-gray-100",onClick:()=>On("nom"),children:["Nom et Prnoms ",ge==="nom"&&(de==="asc"?"":"")]}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Sexe"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date Naissance"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Classe"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Parents"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Statut"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Statut Financier"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:gt.map((q,fe)=>i.jsxs("tr",{className:`hover:bg-gray-50 ${n.includes(q.id)?"bg-teal-50":""}`,children:[i.jsx("td",{className:"px-2 py-3 text-center",children:i.jsx("input",{type:"checkbox",checked:n.includes(q.id),onChange:Me=>h(q.id,Me.target.checked)})}),i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:fe+1}),i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:q.matricule}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[q.photo&&i.jsx("img",{src:q.photo,alt:`${q.prenoms} ${q.nom}`,className:"h-8 w-8 rounded-full object-cover"}),i.jsx("div",{children:i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[q.prenoms," ",q.nom]})})]})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.sexe==="M"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:q.sexe==="M"?"Masculin":"Fminin"})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(q.dateNaissance).toLocaleDateString("fr-FR")}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Mn(q.classeId)}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["P: ",q.pereTuteur]}),i.jsxs("div",{children:["M: ",q.mereTutrice]}),q.protege&&q.garantId&&i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Garant: ",G.getById("enseignants",q.garantId)?.prenoms," ",G.getById("enseignants",q.garantId)?.nom]})]})}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Tn(q.statut)}`,children:q.statut})}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${le(Z(q))}`,children:Z(q)})}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>e(q),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Voir dtails",children:i.jsx(hj,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>e(q),className:"p-1 text-gray-600 hover:bg-gray-50 rounded",title:"Modifier",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>hs(q),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:i.jsx(oa,{className:"h-4 w-4"})})]})})]},q.id))})]})})]}),gt.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Aucun lve trouv"})})]})}function I7({eleve:e,onSave:t,onCancel:r}){const{showToast:n}=Lt(),[s,l]=S.useState({matricule:"",nom:"",prenoms:"",sexe:"M",dateNaissance:"",lieuNaissance:"",classeId:"",anneeEntree:new Date().getFullYear().toString(),statut:"Actif",pereTuteur:"",mereTutrice:"",telephone:"",adresse:"",photo:"",protege:!1,garantId:""}),[c,d]=S.useState({}),[f,m]=S.useState(!1),h=G.getAll("classes"),g=G.getAll("enseignants");S.useEffect(()=>{e?(l({matricule:e.matricule,nom:e.nom,prenoms:e.prenoms,sexe:e.sexe,dateNaissance:e.dateNaissance,lieuNaissance:e.lieuNaissance,classeId:e.classeId,anneeEntree:e.anneeEntree,statut:e.statut,pereTuteur:e.pereTuteur,mereTutrice:e.mereTutrice,telephone:e.telephone,adresse:e.adresse,photo:e.photo||"",protege:e.protege||!1,garantId:e.garantId||""}),G.getAll("enseignants")):l(y=>({...y,matricule:G.generateMatricule()}))},[e]);const v=()=>{const y={};s.nom.trim()||(y.nom="Le nom est obligatoire"),s.prenoms.trim()||(y.prenoms="Les prnoms sont obligatoires"),s.classeId||(y.classeId="La classe est obligatoire"),s.protege&&!s.garantId&&(y.garantId="Un garant (enseignant) est requis pour un lve protg");const P=G.getAll("eleves");return s.matricule&&s.matricule.trim()&&P.find(E=>E.matricule===s.matricule&&E.id!==e?.id)&&(y.matricule="Ce matricule existe dj"),d(y),Object.keys(y).length===0},j=async y=>{if(y.preventDefault(),!!v()){m(!0);try{e?(G.update("eleves",e.id,s),n("lve mis  jour avec succs","success")):(G.create("eleves",s),n("lve ajout avec succs","success")),t()}catch{n("Erreur lors de la sauvegarde de l'lve","error")}finally{m(!1)}}},b=(y,P)=>{l(C=>({...C,[y]:P})),c[y]&&d(C=>({...C,[y]:""}))},w=y=>{const P=y.target.files?.[0];if(P){const C=new FileReader;C.onload=E=>{l(k=>({...k,photo:E.target?.result}))},C.readAsDataURL(P)}};return i.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Modifier l'lve":"Nouvel lve"}),i.jsx("p",{className:"text-gray-600 mt-1",children:e?"Modifiez les informations de l'lve":"Ajoutez un nouvel lve"})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-md transition-colors",children:i.jsx(ha,{className:"h-6 w-6"})})]})}),i.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations personnelles"}),i.jsxs("div",{className:"flex items-start space-x-8",children:[i.jsxs("div",{className:"flex-shrink-0",children:[i.jsxs("div",{className:"w-32 h-32 bg-white rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center relative overflow-hidden group hover:border-gray-400 transition-colors",children:[s.photo?i.jsx("img",{src:s.photo,alt:"Photo lve",className:"w-full h-full object-cover rounded-lg"}):i.jsxs("div",{className:"text-center",children:[i.jsx(Xa,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Photo lve"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),i.jsxs("button",{type:"button",className:"mt-3 w-full flex items-center justify-center px-3 py-2 text-sm bg-gray-700 text-white rounded-md hover:bg-gray-800 transition-colors",children:[i.jsx(Co,{className:"h-4 w-4 mr-2"}),"Changer photo"]})]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Matricule ",i.jsx("span",{className:"text-gray-400 text-sm",children:"(optionnel)"})]}),i.jsx("input",{type:"text",value:s.matricule,onChange:y=>b("matricule",y.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.matricule?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Gnr automatiquement"}),c.matricule&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.matricule]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.nom,onChange:y=>b("nom",y.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.nom?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Nom de famille"}),c.nom&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.nom]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Prnoms ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.prenoms,onChange:y=>b("prenoms",y.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.prenoms?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Prnoms"}),c.prenoms&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.prenoms]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Sexe ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer transition-all ${s.sexe==="M"?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",name:"sexe",value:"M",checked:s.sexe==="M",onChange:y=>b("sexe",y.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium",children:" Masculin"})]}),i.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer transition-all ${s.sexe==="F"?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",name:"sexe",value:"F",checked:s.sexe==="F",onChange:y=>b("sexe",y.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium",children:" Fminin"})]})]})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations scolaires"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Date de naissance ",i.jsx("span",{className:"text-gray-400 text-sm",children:"(optionnel)"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(mj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:s.dateNaissance,onChange:y=>b("dateNaissance",y.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.dateNaissance?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`})]}),c.dateNaissance&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.dateNaissance]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Lieu de naissance"}),i.jsxs("div",{className:"relative",children:[i.jsx(vh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:s.lieuNaissance,onChange:y=>b("lieuNaissance",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",placeholder:"Ville de naissance"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Classe ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:s.classeId,onChange:y=>b("classeId",y.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.classeId?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,children:[i.jsx("option",{value:"",children:"Slectionner une classe"}),h.map(y=>i.jsxs("option",{value:y.id,children:[y.niveau," ",y.section," (",y.anneeScolaire,")"]},y.id))]}),c.classeId&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.classeId]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Anne d'entre"}),i.jsx("input",{type:"text",value:s.anneeEntree,onChange:y=>b("anneeEntree",y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",placeholder:"2025"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Statut"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"Actif",label:"Actif"},{value:"Inactif",label:"Inactif"},{value:"Transfr",label:"Transfr"}].map(y=>i.jsxs("label",{className:`flex items-center justify-center p-2 border rounded-md cursor-pointer transition-all ${s.statut===y.value?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",name:"statut",value:y.value,checked:s.statut===y.value,onChange:P=>b("statut",P.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium text-sm",children:y.label})]},y.value))})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations familiales"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Pre / Tuteur"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:s.pereTuteur,onChange:y=>b("pereTuteur",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",placeholder:"Nom du pre ou tuteur"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mre / Tutrice"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:s.mereTutrice,onChange:y=>b("mereTutrice",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",placeholder:"Nom de la mre ou tutrice"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(dp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"tel",value:s.telephone,onChange:y=>b("telephone",y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",placeholder:"+225 XX XX XX XX XX"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse"}),i.jsxs("div",{className:"relative",children:[i.jsx(vh,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("textarea",{value:s.adresse,onChange:y=>b("adresse",y.target.value),rows:3,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors resize-none",placeholder:"Adresse de rsidence"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statut spcial"}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("label",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",checked:s.protege,onChange:y=>b("protege",y.target.checked),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"lve protg (ne paie que l'inscription)"})]})}),s.protege&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Garant (enseignant)"}),i.jsxs("select",{value:s.garantId,onChange:y=>b("garantId",y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500",children:[i.jsx("option",{value:"",children:"-- Aucun --"}),g.map(y=>i.jsxs("option",{value:y.id,children:[y.prenoms," ",y.nom]},y.id))]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors font-medium",children:"Annuler"}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:f,children:[f?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:e?f?"Sauvegarde...":"Mettre  jour l'lve":f?"Sauvegarde...":"Enregistrer l'lve"})]})]})]})]})})}function D7({onEnseignantSelect:e,onNewEnseignant:t}){const[r,n]=S.useState(""),[s,l]=S.useState(""),c=G.getAll("enseignants"),d=G.getAll("classes"),f=S.useMemo(()=>{let v=[...c];if(r){const j=r.toLowerCase();v=v.filter(b=>b.nom.toLowerCase().includes(j)||b.prenoms.toLowerCase().includes(j)||(b.specialite||"").toLowerCase().includes(j)||(b.email||"").toLowerCase().includes(j))}return s&&(v=v.filter(j=>j.statut===s)),v.sort((j,b)=>j.nom.localeCompare(b.nom))},[c,r,s]),m=v=>{const j=d.filter(b=>b.enseignantPrincipal===`${v.prenoms} ${v.nom}`);if(j.length>0){alert(`Impossible de supprimer cet enseignant car il est assign  ${j.length} classe(s).`);return}if(window.confirm(`tes-vous sr de vouloir supprimer l'enseignant ${v.prenoms} ${v.nom} ?`)){G.delete("enseignants",v.id);try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(b){console.warn(b)}}},h=v=>{switch(v){case"Actif":return"bg-green-100 text-green-800";case"Inactif":return"bg-gray-100 text-gray-800";case"Cong":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=v=>d.filter(j=>j.enseignantPrincipal===v);return i.jsxs(ms,{title:"Gestion des Enseignants",subtitle:`${f.length} enseignant(s) trouv(s)`,actions:i.jsx(i.Fragment,{children:i.jsxs(ke,{variant:"primary",onClick:t,children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{children:"Nouvel Enseignant"})]})}),children:[i.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher un enseignant...",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),i.jsxs("select",{value:s,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Tous les statuts"}),i.jsx("option",{value:"Actif",children:"Actif"}),i.jsx("option",{value:"Inactif",children:"Inactif"}),i.jsx("option",{value:"Cong",children:"En cong"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(v=>{const j=g(`${v.prenoms} ${v.nom}`);return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[v.photo?i.jsx("img",{src:v.photo,alt:`${v.prenoms} ${v.nom}`,className:"h-12 w-12 rounded-full object-cover"}):i.jsx("div",{className:"h-12 w-12 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(Xa,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[v.prenoms," ",v.nom]}),i.jsx("p",{className:"text-sm text-gray-500",children:v.specialite})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>e(v),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Modifier",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(v),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:i.jsx(oa,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(v.statut)}`,children:v.statut})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[v.telephone&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(dp,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600",children:v.telephone})]}),v.email&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tk,{className:"h-4 w-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600",children:v.email})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Diplme:"})," ",v.diplome]})}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Classes assignes (",j.length,")"]}),j.length>0?i.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.slice(0,3).map(b=>i.jsxs("span",{className:"px-2 py-1 bg-teal-100 text-teal-800 text-xs rounded",children:[b.niveau," ",b.section]},b.id)),j.length>3&&i.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",j.length-3]})]}):i.jsx("span",{className:"text-xs text-gray-500",children:"Aucune classe assigne"})]}),i.jsx("div",{className:"pt-4 border-t border-gray-100",children:i.jsxs("p",{className:"text-xs text-gray-500",children:["Embauch le ",new Date(v.dateEmbauche).toLocaleDateString("fr-FR")]})})]},v.id)})}),f.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Aucun enseignant trouv"}),i.jsx(ke,{variant:"primary",onClick:t,className:"mt-4",children:"Ajouter votre premier enseignant"})]})]})}function R7({enseignant:e,onSave:t,onCancel:r}){const{showToast:n}=Lt(),[s,l]=S.useState({nom:"",prenoms:"",sexe:"M",telephone:"",adresse:"",specialite:"",diplome:"",dateEmbauche:"",statut:"Actif",salaire:0,photo:"",classesPrincipales:[],matieresEnseignees:[]}),[c,d]=S.useState({}),[f,m]=S.useState(!1);S.useEffect(()=>{e&&l({nom:e.nom,prenoms:e.prenoms,sexe:e.sexe,telephone:e.telephone,adresse:e.adresse,specialite:e.specialite,diplome:e.diplome,dateEmbauche:e.dateEmbauche,statut:e.statut,salaire:e.salaire,photo:e.photo||"",classesPrincipales:e.classesPrincipales||[],matieresEnseignees:e.matieresEnseignees||[]})},[e]);const h=()=>{const b={};return s.nom.trim()||(b.nom="Le nom est obligatoire"),s.prenoms.trim()||(b.prenoms="Les prnoms sont obligatoires"),s.specialite.trim()||(b.specialite="La spcialit est obligatoire"),s.diplome.trim()||(b.diplome="Le diplme est obligatoire"),s.dateEmbauche||(b.dateEmbauche="La date d'embauche est obligatoire"),s.salaire<0&&(b.salaire="Le salaire doit tre positif"),G.getAll("enseignants").find(P=>P.nom.toLowerCase()===s.nom.toLowerCase()&&P.prenoms.toLowerCase()===s.prenoms.toLowerCase()&&P.id!==e?.id)&&(b.nom="Un enseignant avec ce nom et ces prnoms existe dj"),d(b),Object.keys(b).length===0},g=async b=>{if(b.preventDefault(),!!h()){m(!0);try{e?(G.update("enseignants",e.id,s),n("Enseignant mis  jour avec succs","success")):(G.create("enseignants",s),n("Enseignant ajout avec succs","success")),t()}catch{n("Erreur lors de la sauvegarde de l'enseignant","error")}finally{m(!1)}}},v=(b,w)=>{l(y=>({...y,[b]:w})),c[b]&&d(y=>({...y,[b]:""}))},j=b=>{const w=b.target.files?.[0];if(w){const y=new FileReader;y.onload=P=>{l(C=>({...C,photo:P.target?.result}))},y.readAsDataURL(w)}};return i.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:i.jsx(Xa,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:e?"Modifier l'enseignant":"Nouvel enseignant"}),i.jsx("p",{className:"text-blue-100 mt-1",children:e?"Modifiez les informations de l'enseignant":"Ajoutez un nouvel enseignant"})]})]}),i.jsx("button",{onClick:r,className:"text-white hover:bg-white hover:bg-opacity-20 p-3 rounded-xl transition-colors",children:i.jsx(ha,{className:"h-6 w-6"})})]})}),i.jsxs("form",{onSubmit:g,className:"p-8 space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx("span",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:""}),"Informations personnelles"]}),i.jsxs("div",{className:"flex items-start space-x-8",children:[i.jsxs("div",{className:"flex-shrink-0",children:[i.jsxs("div",{className:"w-32 h-32 bg-white rounded-2xl border-4 border-dashed border-gray-300 flex items-center justify-center relative overflow-hidden group hover:border-blue-400 transition-colors",children:[s.photo?i.jsx("img",{src:s.photo,alt:"Photo enseignant",className:"w-full h-full object-cover rounded-xl"}):i.jsxs("div",{className:"text-center",children:[i.jsx(Xa,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Photo enseignant"})]}),i.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),i.jsxs("button",{type:"button",className:"mt-3 w-full flex items-center justify-center px-3 py-2 text-sm bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[i.jsx(Co,{className:"h-4 w-4 mr-2"}),"Changer photo"]})]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Nom ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.nom,onChange:b=>v("nom",b.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.nom?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Nom de famille"}),c.nom&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.nom]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Prnoms ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.prenoms,onChange:b=>v("prenoms",b.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.prenoms?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Prnoms"}),c.prenoms&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.prenoms]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Sexe ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:`flex items-center justify-center p-3 border-2 rounded-xl cursor-pointer transition-all ${s.sexe==="M"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("input",{type:"radio",name:"sexe",value:"M",checked:s.sexe==="M",onChange:b=>v("sexe",b.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium",children:" Masculin"})]}),i.jsxs("label",{className:`flex items-center justify-center p-3 border-2 rounded-xl cursor-pointer transition-all ${s.sexe==="F"?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("input",{type:"radio",name:"sexe",value:"F",checked:s.sexe==="F",onChange:b=>v("sexe",b.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium",children:" Fminin"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx(dp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"tel",value:s.telephone,onChange:b=>v("telephone",b.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all",placeholder:"+225 XX XX XX XX XX"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx("span",{className:"bg-green-100 p-2 rounded-lg mr-3",children:""}),"Informations professionnelles"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Spcialit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(pj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:s.specialite,onChange:b=>v("specialite",b.target.value),className:`w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.specialite?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Ex: Instituteur, Professeur des coles..."})]}),c.specialite&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.specialite]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Diplme ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.diplome,onChange:b=>v("diplome",b.target.value),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.diplome?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Ex: CEAP, Licence, Master..."}),c.diplome&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.diplome]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Date d'embauche ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(mj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:s.dateEmbauche,onChange:b=>v("dateEmbauche",b.target.value),className:`w-full pl-10 pr-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.dateEmbauche?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`})]}),c.dateEmbauche&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.dateEmbauche]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Salaire (FCFA)"}),i.jsx("input",{type:"number",value:s.salaire,onChange:b=>v("salaire",parseInt(b.target.value)),className:`w-full px-4 py-3 border-2 rounded-xl focus:ring-4 focus:ring-blue-100 transition-all ${c.salaire?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,min:"0",placeholder:"150000"}),c.salaire&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.salaire]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Statut"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"Actif",label:" Actif",color:"green"},{value:"Inactif",label:" Inactif",color:"gray"},{value:"Cong",label:" En cong",color:"orange"}].map(b=>i.jsxs("label",{className:`flex items-center justify-center p-3 border-2 rounded-xl cursor-pointer transition-all ${s.statut===b.value?`border-${b.color}-500 bg-${b.color}-50 text-${b.color}-700`:"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("input",{type:"radio",name:"statut",value:b.value,checked:s.statut===b.value,onChange:w=>v("statut",w.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium text-sm",children:b.label})]},b.value))})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx("span",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:""}),"Informations de contact"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse"}),i.jsxs("div",{className:"relative",children:[i.jsx(vh,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("textarea",{value:s.adresse,onChange:b=>v("adresse",b.target.value),rows:3,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all resize-none",placeholder:"Adresse de rsidence"})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:r,className:"px-8 py-4 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors font-semibold",children:"Annuler"}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",disabled:f,children:[f?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:e?f?"Sauvegarde...":"Mettre  jour l'enseignant":f?"Sauvegarde...":"Enregistrer l'enseignant"})]})]})]})]})})}function fa(e,t="Aperu"){const r=document.getElementById(e);if(r)try{const n=r.innerHTML,l=new DOMParser().parseFromString(n,"text/html");l.querySelectorAll("button").forEach(b=>{b.textContent&&b.textContent.toLowerCase().includes("aperu")&&b.remove()});const d=l.body.innerHTML,f=`
      <style>
          @page { size: A4 portrait; margin: 12mm; }
          body { font-family: 'Times New Roman', Times, serif; color: #111827; padding: 0; margin: 0; background: #f9fafb; }
          .receipt-wrapper { max-width: 210mm; margin: 0 auto; padding: 0; background: #ffffff; box-sizing: border-box; }
          .receipt-compact { font-size: 12px; line-height: 1.28; font-family: 'Times New Roman', Times, serif; }
          body, .receipt-wrapper { font-family: 'Times New Roman', Times, serif; }
          /* Two receipts per page: precise box heights so two fit on A4 */
          .print-two-per-page .receipt-compact { height: 133.5mm; padding: 8mm; box-sizing: border-box; overflow: hidden; }
          /* stronger separator to visually separate the two stacked receipts */
          .print-two-per-page .receipt-compact + .receipt-compact { border-top: 2px solid rgba(0,0,0,0.12); margin-top: 8mm; padding-top: 8mm; position: relative; }
          .print-two-per-page .receipt-compact + .receipt-compact::before { content: '\\2702'; position: absolute; top: -10mm; left: 50%; transform: translateX(-50%); background: white; padding: 0 6px; color: #444; font-size: 11px; border-radius: 2px; }

          /* Four convocations per A4 */
          .print-four-per-page .convocation { height: 65mm; padding: 6mm; box-sizing: border-box; overflow: hidden; position: relative; }
          .print-four-per-page .convocation + .convocation { border-top: 1px dashed #444; margin-top: 4mm; padding-top: 4mm; position: relative; }
          .print-four-per-page .convocation + .convocation::before { content: '\\2702'; position: absolute; top: -9mm; left: 50%; transform: translateX(-50%); background: white; padding: 0 3px; color: #444; font-size: 10px; }

          img.h-16, img.h-12, img.object-contain, img.logo { max-height: 64px; height: auto; width: auto; }
          img { max-width: 100%; height: auto; }
          h1,h2,h3 { color: #0f766e; }
          table { border-collapse: collapse; width: 100%; font-size: 12px; }
          th, td { border: 1px solid #d1d5db; padding: 6px; text-align: left; }
          th { background: #f3f4f6; font-weight: 600; }
          .text-right { text-align: right; }
          .text-center { text-align: center; }
          .muted { color: #6b7280; font-size: 11px; margin-top: 12px; text-align: center; }
+          
          /* small crop mark on convocation left edge for manual cutting */
          .print-four-per-page .convocation::after { content: ''; position: absolute; left: 6mm; top: 2mm; bottom: 2mm; width: 0; border-left: 1px solid rgba(0,0,0,0.08); pointer-events: none; }
        </style>
    `;let m="";r&&r.getAttribute&&r.getAttribute("data-print-two-up")?m=(r.className?r.className+" ":"")+"print-two-per-page":m=r&&r.className?r.className:l.body.firstElementChild&&l.body.firstElementChild.className?l.body.firstElementChild.className:"";const g=m&&m.includes("print-two-per-page")?`${d}<div style="height:8mm;width:100%"></div>${d}`:d,v=`<!doctype html><html><head><meta charset="utf-8"/><title>${t}</title>${f}</head><body><div class="receipt-wrapper ${m}"><div class="print-content">${g}</div></div></body></html>`,j=window.open("","_blank");if(!j)return;j.document.open(),j.document.write(v),j.document.close(),j.focus(),setTimeout(()=>{try{j.print()}catch{}},300)}catch{const s=window.open("","_blank");if(!s)return;s.document.open(),s.document.write("<html><head><title>"+t+"</title></head><body>"+r.innerHTML+"</body></html>"),s.document.close(),s.print()}}function L7({onClasseSelect:e,onNewClasse:t}){const r=()=>fa("classes-print-area","Liste des classes"),{showToast:n}=Lt(),s=G.getAll("classes"),[l,c]=S.useState(!1),[d,f]=S.useState(s),[m,h]=S.useState(""),[g,v]=S.useState(""),j=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"],b=G.getAll("enseignants"),w=G.getAll("eleves"),y=S.useMemo(()=>{let k=[...d];if(m){const M=m.toLowerCase();k=k.filter(I=>I.niveau.toLowerCase().includes(M)||I.section.toLowerCase().includes(M)||I.enseignantPrincipal.toLowerCase().includes(M)||I.salle.toLowerCase().includes(M))}g&&(k=k.filter(M=>M.niveau===g));const O=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"];return k.sort((M,I)=>{const K=O.indexOf(M.niveau),V=O.indexOf(I.niveau);return K!==V?K-V:M.section.localeCompare(I.section)})},[s,m,g]),P=k=>{c(!0);const O=w.filter(M=>M.classeId===k.id);if(O.length>0){n(`Impossible de supprimer cette classe car elle contient ${O.length} lve(s).`,"error"),c(!1);return}window.confirm(`tes-vous sr de vouloir supprimer la classe ${k.niveau} ${k.section} ?`)&&(G.delete("classes",k.id),f(d.filter(M=>M.id!==k.id)),n("Classe supprime avec succs","success")),c(!1)},C=k=>w.filter(O=>O.classeId===k&&O.statut==="Actif").length,E=k=>{const O=b.find(M=>`${M.prenoms} ${M.nom}`===k);return O?`${O.prenoms} ${O.nom}`:k};return i.jsxs(ms,{title:"Gestion des Classes",subtitle:`${y.length} classe(s) trouve(s)`,actions:i.jsxs(i.Fragment,{children:[i.jsx(ke,{variant:"secondary",onClick:r,children:"Aperu & Impression"}),i.jsxs(ke,{variant:"primary",onClick:t,children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{children:"Nouvelle Classe"})]})]}),children:[l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("svg",{className:"animate-spin h-10 w-10 text-teal-600 mb-4",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),i.jsx("span",{className:"text-white text-lg font-semibold",children:"Chargement..."})]})}),i.jsx("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher une classe...",value:m,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]}),i.jsxs("select",{value:g,onChange:k=>v(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500",children:[i.jsx("option",{value:"",children:"Tous les niveaux"}),j.map(k=>i.jsx("option",{value:k,children:k},k))]})]})}),i.jsxs("div",{id:"print-area",className:"hidden print:block bg-white p-4 mb-4 print-compact",children:[i.jsx(fs,{type:"eleves",libelle:"Liste des classes"}),i.jsx("div",{className:"mb-2 overflow-x-auto",children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px",tableLayout:"fixed"},children:[i.jsxs("colgroup",{children:[i.jsx("col",{style:{width:"6%"}}),i.jsx("col",{style:{width:"18%"}}),i.jsx("col",{style:{width:"12%"}}),i.jsx("col",{style:{width:"14%"}}),i.jsx("col",{style:{width:"24%"}}),i.jsx("col",{style:{width:"10%"}}),i.jsx("col",{style:{width:"16%"}})]}),i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border px-2 py-1",children:"N"}),i.jsx("th",{className:"border px-2 py-1",children:"Niveau"}),i.jsx("th",{className:"border px-2 py-1",children:"Section"}),i.jsx("th",{className:"border px-2 py-1",children:"Anne scolaire"}),i.jsx("th",{className:"border px-2 py-1",children:"Enseignant principal"}),i.jsx("th",{className:"border px-2 py-1",children:"Effectif max"}),i.jsx("th",{className:"border px-2 py-1",children:"Effectif actuel"})]})})]})}),i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px",tableLayout:"fixed"},children:[i.jsxs("colgroup",{children:[i.jsx("col",{style:{width:"6%"}}),i.jsx("col",{style:{width:"18%"}}),i.jsx("col",{style:{width:"12%"}}),i.jsx("col",{style:{width:"14%"}}),i.jsx("col",{style:{width:"24%"}}),i.jsx("col",{style:{width:"10%"}}),i.jsx("col",{style:{width:"16%"}})]}),i.jsx("tbody",{children:y.map((k,O)=>i.jsxs("tr",{children:[i.jsx("td",{children:O+1}),i.jsx("td",{children:k.niveau}),i.jsx("td",{children:k.section}),i.jsx("td",{children:k.anneeScolaire}),i.jsx("td",{children:E(k.enseignantPrincipal)}),i.jsx("td",{children:k.effectifMax}),i.jsx("td",{children:C(k.id)})]},k.id))})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(k=>{const O=C(k.id),M=O/k.effectifMax*100;return i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:[k.niveau," ",k.section]}),i.jsx("p",{className:"text-sm text-gray-500",children:k.anneeScolaire})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ke,{variant:"ghost",className:"p-2",onClick:()=>e(k),title:"Modifier",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx(ke,{variant:"danger",className:"p-2",onClick:()=>P(k),title:"Supprimer",children:i.jsx(oa,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Qa,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Enseignant: ",E(k.enseignantPrincipal)]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ia,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Salle: ",k.salle]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Effectif"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[O,"/",k.effectifMax]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded h-2",children:i.jsx("div",{className:`h-2 rounded ${M>=90?"bg-red-500":M>=75?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(M,100)}%`}})}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[M.toFixed(0),"% de remplissage"]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[k.matieres.length," matire(s)"]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.matieres.slice(0,3).map(I=>i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:I.nom},I.id)),k.matieres.length>3&&i.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded",children:["+",k.matieres.length-3]})]})]})]})]},k.id)})}),y.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Aucune classe trouve"}),i.jsx(ke,{variant:"primary",onClick:t,className:"mt-4",children:"Crer une classe"})]})]})}function $7({classe:e,onSave:t,onCancel:r}){const[n,s]=S.useState({niveau:"CP1",section:"A",anneeScolaire:new Date().getFullYear()+"-"+(new Date().getFullYear()+1),enseignantPrincipal:"",effectifMax:35,salle:""}),{showToast:l}=Lt(),[c,d]=S.useState([]),[f,m]=S.useState({}),[h,g]=S.useState(!1),v=G.getAll("matieres"),j=G.getAll("enseignants");S.useEffect(()=>{e&&(s({niveau:e.niveau,section:e.section,anneeScolaire:e.anneeScolaire,enseignantPrincipal:e.enseignantPrincipal,effectifMax:e.effectifMax,salle:e.salle}),d(e.matieres))},[e]);const b=()=>{const E={};return n.niveau||(E.niveau="Le niveau est obligatoire"),n.section.trim()||(E.section="La section est obligatoire"),n.anneeScolaire.trim()||(E.anneeScolaire="L'anne scolaire est obligatoire"),n.enseignantPrincipal.trim()||(E.enseignantPrincipal="L'enseignant principal est obligatoire"),(n.effectifMax<1||n.effectifMax>50)&&(E.effectifMax="L'effectif maximum doit tre entre 1 et 50"),n.salle.trim()||(E.salle="La salle est obligatoire"),c.length===0&&(E.matieres="Au moins une matire doit tre slectionne"),G.getAll("classes").find(M=>M.niveau===n.niveau&&M.section===n.section&&M.anneeScolaire===n.anneeScolaire&&M.id!==e?.id)&&(E.section="Cette classe existe dj pour cette anne scolaire"),m(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),!!b()){g(!0);try{const k=new Date().toISOString(),O={...n,matieres:c,updatedAt:k,...e?{}:{createdAt:k}};if(e){const M=G.update("classes",e.id,O);M&&(l("Classe mise  jour avec succs","success"),t(M))}else{const M=G.create("classes",O);l("Classe ajoute avec succs","success"),t(M)}}catch{l("Erreur lors de la sauvegarde de la classe","error")}finally{g(!1)}}},y=(E,k)=>{s(O=>({...O,[E]:k})),f[E]&&m(O=>({...O,[E]:""}))},P=E=>{d(k=>k.find(M=>M.id===E.id)?k.filter(M=>M.id!==E.id):[...k,E]),f.matieres&&m(k=>({...k,matieres:""}))},C=E=>v.filter(k=>k.type===E);return i.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Modifier la classe":"Nouvelle classe"}),i.jsx("p",{className:"text-gray-600 mt-1",children:e?"Modifiez les informations de la classe":"Crez une nouvelle classe"})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-md transition-colors",children:i.jsx(ha,{className:"h-6 w-6"})})]})}),i.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de base"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Niveau ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n.niveau,onChange:E=>y("niveau",E.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.niveau?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,children:[i.jsx("option",{value:"Petite Section",children:"Petite Section"}),i.jsx("option",{value:"Moyenne Section",children:"Moyenne Section"}),i.jsx("option",{value:"Grande Section",children:"Grande Section"}),i.jsx("option",{value:"CP1",children:"CP1"}),i.jsx("option",{value:"CP2",children:"CP2"}),i.jsx("option",{value:"CE1",children:"CE1"}),i.jsx("option",{value:"CE2",children:"CE2"}),i.jsx("option",{value:"CM1",children:"CM1"}),i.jsx("option",{value:"CM2",children:"CM2"})]}),f.niveau&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.niveau]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Section ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.section,onChange:E=>y("section",E.target.value.toUpperCase()),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.section?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"A, B, C...",maxLength:2}),f.section&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.section]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Anne scolaire ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.anneeScolaire,onChange:E=>y("anneeScolaire",E.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.anneeScolaire?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"2025-2026"}),f.anneeScolaire&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.anneeScolaire]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gestion et organisation"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Enseignant principal ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:n.enseignantPrincipal,onChange:E=>y("enseignantPrincipal",E.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.enseignantPrincipal?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,children:[i.jsx("option",{value:"",children:"Slectionner un enseignant"}),j.filter(E=>E.statut==="Actif").map(E=>i.jsxs("option",{value:`${E.prenoms} ${E.nom}`,children:[E.prenoms," ",E.nom]},E.id))]}),f.enseignantPrincipal&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.enseignantPrincipal]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Effectif maximum ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:n.effectifMax,onChange:E=>y("effectifMax",parseInt(E.target.value)),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.effectifMax?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,min:"1",max:"50"}),f.effectifMax&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.effectifMax]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Salle de classe ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.salle,onChange:E=>y("salle",E.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${f.salle?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Ex: Salle 1, Salle A..."}),f.salle&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),f.salle]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Matires enseignes ",i.jsx("span",{className:"text-red-500",children:"*"})]}),f.matieres&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:i.jsxs("p",{className:"text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""}),f.matieres]})}),i.jsx("div",{className:"space-y-8",children:["Fondamentale","veil","Expression"].map(E=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:E}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C(E).map(k=>{const O=c.find(M=>M.id===k.id);return i.jsxs("label",{className:`flex items-center p-3 border rounded-md cursor-pointer transition-all ${O?"border-gray-900 bg-gray-50":"border-gray-300 hover:border-gray-400 bg-white"}`,children:[i.jsx("input",{type:"checkbox",checked:!!O,onChange:()=>P(k),className:"sr-only"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:k.nom}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Coefficient: ",k.coefficient,k.obligatoire&&i.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:"Obligatoire"})]})]}),O&&i.jsx("div",{className:"w-6 h-6 bg-gray-900 rounded-full flex items-center justify-center ml-3",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},k.id)})})]},E))}),i.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-md border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c.length," matire(s) slectionne(s)"]}),i.jsxs("p",{className:"text-gray-700 mt-1",children:["Coefficient total: ",c.reduce((E,k)=>E+k.coefficient,0)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),i.jsx("p",{className:"text-gray-600 text-sm",children:"matires"})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors font-medium",children:"Annuler"}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:[h?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:e?h?"Sauvegarde...":"Mettre  jour la classe":h?"Sauvegarde...":"Crer la classe"})]})]})]})]})})}function F7({onMatiereSelect:e,onNewMatiere:t}){const{showToast:r}=Lt(),[n,s]=S.useState(!1),[l,c]=S.useState(""),[d,f]=S.useState(""),m=G.getAll("matieres"),h=G.getAll("classes"),[g,v]=S.useState(m),j=S.useMemo(()=>{let P=[...g];if(l){const C=l.toLowerCase();P=P.filter(E=>E.nom.toLowerCase().includes(C)||E.type.toLowerCase().includes(C))}return d&&(P=P.filter(C=>C.type===d)),P.sort((C,E)=>C.nom.localeCompare(E.nom))},[g,l,d]),b=P=>{s(!0);const C=h.filter(E=>E.matieres.some(k=>k.id===P.id));if(C.length>0){r(`Impossible de supprimer cette matire car elle est utilise dans ${C.length} classe(s).`,"error"),s(!1);return}window.confirm(`tes-vous sr de vouloir supprimer la matire "${P.nom}" ?`)&&(G.delete("matieres",P.id),v(g.filter(E=>E.id!==P.id)),r("Matire supprime avec succs","success")),s(!1)},w=P=>{switch(P){case"Fondamentale":return"bg-blue-100 text-blue-800";case"veil":return"bg-green-100 text-green-800";case"Expression":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},y=P=>h.filter(C=>C.matieres.some(E=>E.id===P));return i.jsxs(ms,{title:"Gestion des Matires",subtitle:`${j.length} matire(s) trouve(s)`,actions:i.jsx(i.Fragment,{children:i.jsxs(ke,{variant:"primary",onClick:t,children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{children:"Nouvelle Matire"})]})}),children:[n&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("svg",{className:"animate-spin h-10 w-10 text-teal-600 mb-4",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),i.jsx("span",{className:"text-white text-lg font-semibold",children:"Chargement..."})]})}),i.jsx("div",{className:"bg-white p-4 rounded-md border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Rechercher une matire...",value:l,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500"})]}),i.jsxs("select",{value:d,onChange:P=>f(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500",children:[i.jsx("option",{value:"",children:"Tous les types"}),i.jsx("option",{value:"Fondamentale",children:"Fondamentale"}),i.jsx("option",{value:"veil",children:"veil"}),i.jsx("option",{value:"Expression",children:"Expression"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(P=>{const C=y(P.id);return i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ia,{className:"h-4 w-4 text-gray-600"}),i.jsx("h3",{className:"text-base font-semibold text-gray-900",children:P.nom})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ke,{variant:"ghost",className:"p-2",onClick:()=>e(P),title:"Modifier",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx(ke,{variant:"danger",className:"p-2",onClick:()=>b(P),title:"Supprimer",children:i.jsx(oa,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${w(P.type)}`,children:P.type}),P.obligatoire&&i.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"Obligatoire"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Coefficient:"}),i.jsx("span",{className:"text-lg font-bold text-gray-900",children:P.coefficient})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Abrviation:"}),i.jsx("span",{className:"text-sm font-bold text-gray-900 bg-gray-100 px-2 py-1 rounded",children:P.abreviation})]}),i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["Utilise dans ",C.length," classe(s)"]}),C.length>0&&i.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[C.slice(0,3).map(E=>i.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded",children:[E.niveau," ",E.section]},E.id)),C.length>3&&i.jsxs("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded",children:["+",C.length-3]})]})]}),i.jsx("div",{className:"pt-2 border-t border-gray-100",children:i.jsxs("p",{className:"text-xs text-gray-500",children:["Cre le ",new Date(P.createdAt).toLocaleDateString("fr-FR")]})})]})]},P.id)})}),j.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Aucune matire trouve"}),i.jsx(ke,{variant:"primary",onClick:t,className:"mt-4",children:"Crer votre premire matire"})]})]})}function z7({matiere:e,onSave:t,onCancel:r}){const{showToast:n}=Lt(),[s,l]=S.useState({nom:"",abreviation:"",coefficient:1,type:"Fondamentale",obligatoire:!0,classeIds:[],baremeParNiveau:{}}),[c,d]=S.useState({}),[f,m]=S.useState(!1),[h,g]=S.useState("CP1"),v=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"];S.useEffect(()=>{e&&l({nom:e.nom,abreviation:e.abreviation,coefficient:e.coefficient,type:e.type,obligatoire:e.obligatoire,classeIds:e.classeIds||[],baremeParNiveau:e.baremeParNiveau||{}})},[e]);const j=()=>{const y={};s.nom.trim()||(y.nom="Le nom de la matire est obligatoire"),s.abreviation.trim()||(y.abreviation="L'abrviation est obligatoire"),(s.coefficient<1||s.coefficient>10)&&(y.coefficient="Le coefficient doit tre entre 1 et 10");const P=G.getAll("matieres");return P.find(k=>k.nom.toLowerCase()===s.nom.toLowerCase()&&k.id!==e?.id)&&(y.nom="Une matire avec ce nom existe dj"),P.find(k=>k.abreviation.toLowerCase()===s.abreviation.toLowerCase()&&k.id!==e?.id)&&(y.abreviation="Une matire avec cette abrviation existe dj"),d(y),Object.keys(y).length===0},b=async y=>{if(y.preventDefault(),!!j()){m(!0);try{if(e){const P=G.update("matieres",e.id,s);P&&(n("Matire mise  jour avec succs","success"),t(P))}else{const P=G.create("matieres",s);n("Matire ajoute avec succs","success"),t(P)}}catch{n("Erreur lors de la sauvegarde de la matire","error")}finally{m(!1)}}},w=(y,P)=>{l(C=>({...C,[y]:P})),c[y]&&d(C=>({...C,[y]:""}))};return i.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Modifier la matire":"Nouvelle matire"}),i.jsx("p",{className:"text-gray-600 mt-1",children:e?"Modifiez les informations de la matire":"Crez une nouvelle matire"})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-md transition-colors",children:i.jsx(ha,{className:"h-6 w-6"})})]})}),i.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de base"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Nom de la matire ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.nom,onChange:y=>w("nom",y.target.value),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.nom?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Ex: Mathmatiques, Franais, Sciences..."}),c.nom&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.nom]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Abrviation ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:s.abreviation,onChange:y=>w("abreviation",y.target.value.toUpperCase()),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.abreviation?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,placeholder:"Ex: MATH, FR, AEM...",maxLength:10}),c.abreviation&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.abreviation]}),i.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Abrviation utilise dans les tableaux de notes (max 10 caractres)"})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuration avance"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Type de matire ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"space-y-3",children:[{value:"Fondamentale",label:"Fondamentale",desc:"Matires principales (Franais, Maths...)"},{value:"veil",label:"veil",desc:"Matires d'veil (Sciences, Histoire...)"},{value:"Expression",label:"Expression",desc:"Matires d'expression (Arts, Sport...)"}].map(y=>i.jsxs("label",{className:`flex items-center p-4 border rounded-md cursor-pointer transition-all ${s.type===y.value?"border-gray-900 bg-gray-50":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",name:"type",value:y.value,checked:s.type===y.value,onChange:P=>w("type",P.target.value),className:"sr-only"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:y.label}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:y.desc})]}),s.type===y.value&&i.jsx("div",{className:"w-6 h-6 bg-gray-900 rounded-full flex items-center justify-center ml-3",children:i.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},y.value))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Coefficient ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",value:s.coefficient,onChange:y=>w("coefficient",parseInt(y.target.value)),className:`w-full px-4 py-3 border rounded-md focus:ring-2 focus:ring-gray-500 transition-colors ${c.coefficient?"border-red-300 bg-red-50 focus:border-red-500":"border-gray-300 focus:border-gray-500"}`,min:"1",max:"100"}),c.coefficient&&i.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),c.coefficient]}),i.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Poids de la matire dans le calcul de la moyenne (1-100)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",checked:s.obligatoire,onChange:y=>w("obligatoire",y.target.checked),className:"w-4 h-4 text-gray-900 border border-gray-300 rounded focus:ring-gray-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Matire obligatoire"})]}),i.jsx("p",{className:"mt-2 text-xs text-gray-500 ml-8",children:"Les matires obligatoires doivent tre enseignes dans toutes les classes du niveau correspondant"})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuration des barmes par niveau"}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.map(y=>i.jsx("button",{type:"button",onClick:()=>g(y),className:`px-3 py-2 rounded-md text-sm font-medium transition-all ${h===y?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y},y))}),i.jsxs("div",{className:"bg-gray-50 rounded-md p-4",children:[i.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["Barme pour ",h]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Note minimale"}),i.jsx("input",{type:"number",min:"0",value:s.baremeParNiveau[h]?.min||0,onChange:y=>{const P={...s.baremeParNiveau,[h]:{...s.baremeParNiveau[h],min:Number(y.target.value)}};w("baremeParNiveau",P)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Note maximale"}),i.jsx("input",{type:"number",min:"1",value:s.baremeParNiveau[h]?.max||20,onChange:y=>{const P={...s.baremeParNiveau,[h]:{...s.baremeParNiveau[h],max:Number(y.target.value)}};w("baremeParNiveau",P)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsxs("strong",{children:["Exemple pour ",h,":"]}),h==="CE2"?" Mathmatiques /50, Orthographe /20":" Notes gnralement /20"]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Les notes seront automatiquement converties pour le calcul des moyennes"})]})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Aperu des barmes configurs"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v.map(y=>{const P=s.baremeParNiveau[y];return i.jsxs("div",{className:"bg-white rounded-md p-3 border border-gray-200",children:[i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:y}),i.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["/",P?.max||20]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",P?.min||0]})]},y)})})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:r,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors font-medium",children:"Annuler"}),i.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:f,children:[f?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:e?f?"Sauvegarde...":"Mettre  jour la matire":f?"Sauvegarde...":"Crer la matire"})]})]})]})]})})}function B7(){const{showToast:e}=Lt(),[t,r]=S.useState(""),[n,s]=S.useState(""),[l,c]=S.useState({}),[d,f]=S.useState(!1),[m,h]=S.useState(20),g=G.getAll("classes"),v=G.getAll("compositions"),j=G.getAll("notes"),b=g.find(L=>L.id===t),w=G.getAll("eleves").filter(L=>L.classeId===t&&L.statut==="Actif").sort((L,z)=>L.nom.localeCompare(z.nom)),y=S.useMemo(()=>b?v.filter(L=>!L.niveau||L.niveau===b.niveau).sort((L,z)=>L.ordre-z.ordre):v,[b,v]),P=S.useMemo(()=>b?(b.matieres||[]).sort((L,z)=>L.nom.localeCompare(z.nom)):[],[b]);S.useEffect(()=>{if(!n||!t)return;const L={};w.forEach(z=>{L[z.id]={},P.forEach(X=>{const Q=j.find(R=>R.eleveId===z.id&&R.matiereId===X.id&&R.compositionId===n&&R.classeId===t);Q&&(L[z.id][X.id]=Q.valeur)})}),c(L)},[n,t,w,P,j]),S.useEffect(()=>{const L=()=>{!t&&g.length>0&&r(g[0].id),!n&&y.length>0&&s(y[0].id)};return window.addEventListener("open-notes-entry",L),()=>window.removeEventListener("open-notes-entry",L)},[t,n,g,y]);const C=(L,z,X)=>{c(Q=>({...Q,[L]:{...Q[L],[z]:X}}))},E=(L,z)=>L.baremeParNiveau?.[z]?.max||20,k=L=>l[L]?P.reduce((z,X)=>{const Q=l[L][X.id]||0;return z+Q},0):0,O=L=>{if(!l[L]||!b)return 0;let z=0,X=0;return P.forEach(Q=>{const R=l[L][Q.id]||0,Z=E(Q,b.niveau),le=m===20?R/Z*20:R/Z*10;z+=le*Q.coefficient,X+=m*Q.coefficient}),X>0?z/X*m:0},M=L=>{O(L);const z=w.map(Q=>({eleveId:Q.id,moyenne:O(Q.id)})).filter(Q=>Q.moyenne>0);return z.sort((Q,R)=>R.moyenne-Q.moyenne),z.findIndex(Q=>Q.eleveId===L)+1||0},I=async()=>{if(!n||!t){e("Slectionnez une classe et une composition","error");return}f(!0);try{Object.entries(l).forEach(([L,z])=>{Object.entries(z).forEach(([X,Q])=>{if(Q>=0){const R=P.find(J=>J.id===X);if(!R||!b)return;const Z=E(R,b.niveau),le=j.find(J=>J.eleveId===L&&J.matiereId===X&&J.compositionId===n&&J.classeId===t),ie={eleveId:L,matiereId:X,compositionId:n,classeId:t,valeur:Q,bareme:Z,date:new Date().toISOString()};le?G.update("notes",le.id,ie):G.create("notes",ie)}})}),w.forEach(L=>{const z=O(L.id),X=M(L.id);if(z>0){const Q=G.getAll("moyennesGenerales").find(Z=>Z.eleveId===L.id&&Z.compositionId===n&&Z.classeId===t),R={eleveId:L.id,classeId:t,compositionId:n,moyenne:z,rang:X,dateCalcul:new Date().toISOString()};Q?G.update("moyennesGenerales",Q.id,R):G.create("moyennesGenerales",R)}}),e("Notes enregistres avec succs","success")}catch(L){console.error(L),e("Erreur lors de l'enregistrement des notes","error")}finally{f(!1)}},K=()=>b?P.reduce((L,z)=>L+E(z,b.niveau),0):0,V=()=>{if(!b)return 1;const L=K();return m===20?L/20:L/10};return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8",children:[i.jsx("div",{className:"bg-white border border-gray-200 p-6 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Notes par Classe"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Saisie et calcul des moyennes selon le systme ivoirien"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Base de calcul"}),i.jsxs("div",{className:"flex space-x-2 mt-2",children:[i.jsx("button",{onClick:()=>h(10),className:`px-3 py-2 rounded-md font-medium transition-all ${m===10?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"/10"}),i.jsx("button",{onClick:()=>h(20),className:`px-3 py-2 rounded-md font-medium transition-all ${m===20?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"/20"})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Slection des paramtres"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Classe"}),i.jsxs("select",{value:t,onChange:L=>{r(L.target.value),s(""),c({})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",children:[i.jsx("option",{value:"",children:"Slectionner une classe"}),g.map(L=>{const z=G.getAll("eleves").filter(X=>X.classeId===L.id&&X.statut==="Actif").length;return i.jsxs("option",{value:L.id,children:[L.niveau," ",L.section," (",z," lves)"]},L.id)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Composition"}),i.jsxs("select",{value:n,onChange:L=>{s(L.target.value),c({})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",disabled:!t,children:[i.jsx("option",{value:"",children:"Slectionner une composition"}),y.map(L=>i.jsxs("option",{value:L.id,children:[L.nom," (coeff. ",L.coefficient,")"]},L.id))]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:I,disabled:d||!n||!t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50",children:[d?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(ma,{className:"h-4 w-4"}),i.jsx("span",{children:d?"Sauvegarde...":"Enregistrer"})]})})]})]}),t&&n&&P.length>0&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Saisie des notes - ",b?.niveau," ",b?.section]}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[v.find(L=>L.id===n)?.nom,"  Total /",K(),"  Moyenne /",m]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Notes compltes"}),i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Object.keys(l).filter(L=>{const z=l[L]||{};return P.every(X=>z[X.id]!==void 0)}).length,"/",w.length]})]})]})}),i.jsx("div",{className:"p-6 overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-semibold text-gray-900 min-w-[60px]",children:"N"}),i.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left text-sm font-semibold text-gray-900 min-w-[200px]",children:"Noms et Prnoms"}),P.map(L=>i.jsxs("th",{className:"border border-gray-300 px-2 py-2 text-center text-sm font-semibold text-gray-900 min-w-[80px]",children:[i.jsx("div",{children:L.abreviation}),i.jsxs("div",{className:"text-xs text-gray-500 font-normal",children:["/",E(L,b?.niveau||"")]})]},L.id)),i.jsxs("th",{className:"border border-gray-300 px-2 py-2 text-center text-sm font-semibold text-gray-900 min-w-[80px]",children:[i.jsx("div",{children:"Total"}),i.jsxs("div",{className:"text-xs text-gray-500 font-normal",children:["/",K()]})]}),i.jsxs("th",{className:"border border-gray-300 px-2 py-2 text-center text-sm font-semibold text-gray-900 min-w-[80px]",children:[i.jsx("div",{children:"Moy"}),i.jsxs("div",{className:"text-xs text-gray-500 font-normal",children:["/",m]})]}),i.jsx("th",{className:"border border-gray-300 px-2 py-2 text-center text-sm font-semibold text-gray-900 min-w-[60px]",children:"Rang"})]})}),i.jsx("tbody",{children:w.map((L,z)=>{const X=k(L.id),Q=O(L.id),R=M(L.id);return i.jsxs("tr",{className:z%2===0?"bg-white":"bg-gray-50",children:[i.jsx("td",{className:"border border-gray-300 px-3 py-2 text-sm font-medium text-gray-900",children:z+1}),i.jsx("td",{className:"border border-gray-300 px-3 py-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[L.photo&&i.jsx("img",{src:L.photo,alt:`${L.prenoms} ${L.nom}`,className:"h-6 w-6 rounded-full object-cover"}),i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[L.prenoms," ",L.nom]})]})}),P.map(Z=>{const le=E(Z,b?.niveau||""),ie=l[L.id]?.[Z.id]||"";return i.jsx("td",{className:"border border-gray-300 px-2 py-2 text-center",children:i.jsx("input",{type:"number",min:"0",max:le,step:"0.5",value:ie,onChange:J=>C(L.id,Z.id,Number(J.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-center font-bold focus:ring-2 focus:ring-gray-500 focus:border-gray-500",placeholder:"0"})},Z.id)}),i.jsx("td",{className:"border border-gray-300 px-2 py-2 text-center",children:i.jsx("div",{className:"font-bold text-blue-600",children:X.toFixed(1)})}),i.jsx("td",{className:"border border-gray-300 px-2 py-2 text-center",children:i.jsx("div",{className:`font-bold ${Q>=m*.5?"text-green-600":"text-red-600"}`,children:Q.toFixed(2)})}),i.jsx("td",{className:"border border-gray-300 px-2 py-2 text-center",children:R>0&&i.jsxs("div",{className:`font-bold ${R===1?"text-yellow-600":R<=3?"text-green-600":"text-gray-600"}`,children:[R,R===1&&i.jsx(Lk,{className:"inline h-3 w-3 ml-1"})]})})]},L.id)})})]})}),w.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qa,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Aucun lve dans cette classe"})]})]}),t&&b&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations sur le calcul des moyennes"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Rk,{className:"h-6 w-6 text-gray-600 mx-auto mb-2"}),i.jsx("div",{className:"text-xl font-bold text-gray-900",children:K()}),i.jsx("p",{className:"text-gray-700 font-medium",children:"Total maximum"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Somme des barmes de toutes les matires"})]})}),i.jsx("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Nk,{className:"h-6 w-6 text-gray-600 mx-auto mb-2"}),i.jsx("div",{className:"text-xl font-bold text-gray-900",children:V().toFixed(1)}),i.jsx("p",{className:"text-gray-700 font-medium",children:"Diviseur"}),i.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Pour obtenir la moyenne /",m]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-md p-4 border border-gray-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ia,{className:"h-6 w-6 text-gray-600 mx-auto mb-2"}),i.jsx("div",{className:"text-xl font-bold text-gray-900",children:P.length}),i.jsx("p",{className:"text-gray-700 font-medium",children:"Matires"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Configures pour cette classe"})]})})]}),i.jsxs("div",{className:"mt-6 bg-gray-50 rounded-md p-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Dtail des matires"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:P.map(L=>{const z=E(L,b.niveau),X=m===20?z/20:z/10;return i.jsxs("div",{className:"bg-white rounded-md p-3 border border-gray-200",children:[i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:L.abreviation}),i.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["/",z]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Diviseur: ",X.toFixed(1)]})]},L.id)})})]})]}),t&&n&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques de la classe"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-md border border-gray-200",children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:w.length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"lves"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-md border border-gray-200",children:[i.jsx("div",{className:"text-xl font-bold text-green-600",children:w.filter(L=>O(L.id)>=m*.5).length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Admis"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[" ",m/2,"/",m]})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-md border border-gray-200",children:[i.jsx("div",{className:"text-xl font-bold text-red-600",children:w.filter(L=>{const z=O(L.id);return z>0&&z<m*.5}).length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"chec"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["< ",m/2,"/",m]})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-md border border-gray-200",children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{const L=w.map(z=>O(z.id)).filter(z=>z>0);return L.length>0?(L.reduce((z,X)=>z+X,0)/L.length).toFixed(2):"0"})()}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Moy. Classe"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["/",m]})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-md border border-gray-200",children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:Object.keys(l).reduce((L,z)=>{const X=l[z]||{},Q=Object.values(X).filter(R=>R!=null).length;return L+Q},0)}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Notes saisies"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["/ ",w.length*P.length]})]})]})]})]})}function U7(e){const t=e.split("-"),r=parseInt(t[0],10);return isNaN(r)?new Date().getFullYear():r}function q7(e,t){const r=U7(t),n=r+1,s=[`${r}-09-01`,`${r}-10-05`,`${r}-11-05`,`${r}-12-05`,`${n}-01-05`,`${n}-02-05`,`${n}-03-05`];let l=35e3,c=15e3,d=15e3;["Petite Section","Moyenne Section","Grande Section"].includes(e)&&(l=35e3,c=15e3,d=1e4),["CP1","CP2","CE1","CE2"].includes(e)&&(l=35e3,c=15e3,d=15e3),e==="CM1"&&(l=35e3,c=2e4,d=15e3),e==="CM2"&&(l=45e3,c=2e4,d=15e3);const f=[{modalite:1,label:"Inscription",date:s[0],montant:l,id:`${e}-1`},{modalite:2,label:"Versement 1",date:s[1],montant:c,id:`${e}-2`},{modalite:3,label:"Versement 2",date:s[2],montant:d,id:`${e}-3`},{modalite:4,label:"Versement 3",date:s[3],montant:1e4,id:`${e}-4`},{modalite:5,label:"Versement 4",date:s[4],montant:1e4,id:`${e}-5`},{modalite:6,label:"Versement 5",date:s[5],montant:1e4,id:`${e}-6`},{modalite:7,label:"Versement 6",date:s[6],montant:1e4,id:`${e}-7`}],m=f.reduce((h,g)=>h+g.montant,0);return{niveau:e,anneeScolaire:t,montant:m,fraisInscription:0,echeances:f.map(h=>({date:h.date,montant:h.montant,modalite:h.modalite,label:h.label,id:h.id}))}}const W7=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"];function K7(e){(G.getAll("fraisScolaires")||[]).forEach(n=>{if(n&&n.annee&&!n.anneeScolaire)try{G.update("fraisScolaires",n.id,{...n,anneeScolaire:n.annee,updatedAt:new Date().toISOString()})}catch{}});let r=0;return W7.forEach(n=>{if(!(G.getAll("fraisScolaires")||[]).find(l=>l.niveau===n&&l.anneeScolaire===e)){const l=q7(n,e);G.create("fraisScolaires",l),r++}}),r}function dC(){const e="2025-2026",t=K7(e);return t>0&&console.log(`Frais scolaires initialiss: ${t} niveaux crs pour ${e}`),t}const sj=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"];function V7(){const{showToast:e}=Lt(),[t,r]=S.useState([]),[n,s]=S.useState(null),[l,c]=S.useState(!1),[d,f]=S.useState({niveau:"CP1",anneeScolaire:"2025-2026",echeances:[{date:"2025-09-01",montant:35e3,modalite:1,label:"Inscription"}]});S.useEffect(()=>{m(),G.getAll("fraisScolaires").length===0&&(dC(),m())},[]);const m=()=>{const C=G.getAll("fraisScolaires");r(C)},h=()=>{f({niveau:"CP1",anneeScolaire:"2025-2026",echeances:[{date:"2025-09-01",montant:35e3,modalite:1,label:"Inscription"}]}),s(null),c(!1)},g=C=>{f({niveau:C.niveau,anneeScolaire:C.anneeScolaire,echeances:(C.echeances||[]).map(E=>({date:E.date,montant:E.montant,modalite:E.modalite||1,label:E.label||""}))}),s(C.id),c(!0)},v=C=>{window.confirm(`Supprimer les frais pour ${C.niveau} (${C.anneeScolaire}) ?`)&&(G.delete("fraisScolaires",C.id),m(),e("Frais supprims","success"))},j=()=>{const C=d.echeances.reduce((k,O)=>k+O.montant,0),E={niveau:d.niveau,anneeScolaire:d.anneeScolaire,fraisInscription:0,montant:C,echeances:d.echeances.map((k,O)=>({id:`${d.niveau}-${d.anneeScolaire}-${O+1}`,date:k.date,montant:k.montant,modalite:k.modalite,label:k.label}))};if(n)G.update("fraisScolaires",n,E),e("Frais mis  jour","success");else{if(t.find(O=>O.niveau===d.niveau&&O.anneeScolaire===d.anneeScolaire)){e("Des frais existent dj pour ce niveau et cette anne","error");return}G.create("fraisScolaires",E),e("Frais ajouts","success")}m(),h()},b=()=>{f(C=>({...C,echeances:[...C.echeances,{date:"",montant:1e4,modalite:C.echeances.length+1,label:`Versement ${C.echeances.length}`}]}))},w=(C,E,k)=>{f(O=>({...O,echeances:O.echeances.map((M,I)=>I===C?{...M,[E]:E==="montant"||E==="modalite"?Number(k):k}:M)}))},y=C=>{f(E=>({...E,echeances:E.echeances.filter((k,O)=>O!==C)}))},P=C=>(C.echeances||[]).reduce((E,k)=>E+(k.montant||0),0);return i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-8 rounded-2xl shadow-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:i.jsx(sa,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuration des Frais Scolaires"}),i.jsx("p",{className:"text-green-100 mt-2",children:"Gestion des modalits de paiement par niveau"})]})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-6 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-xl transition-all",children:[i.jsx(bn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Nouveau Frais"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 gap-6",children:sj.map(C=>{const E=t.filter(k=>k.niveau===C);return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[E.length," configuration(s)"]})]}),i.jsx("div",{className:"p-6",children:E.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(sa,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"Aucun frais configur pour ce niveau"}),i.jsx("button",{onClick:()=>{f(k=>({...k,niveau:C})),c(!0)},className:"mt-3 text-teal-600 hover:text-teal-700 font-medium",children:"Configurer les frais"})]}):i.jsx("div",{className:"space-y-4",children:E.map(k=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:k.anneeScolaire}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[P(k).toLocaleString("fr-FR")," FCFA"]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>g(k),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(k),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(oa,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(k.echeances||[]).map((O,M)=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Modalit ",O.modalite]}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(O.date).toLocaleDateString("fr-FR")})]}),i.jsx("p",{className:"text-xs text-gray-600 font-medium",children:O.label||`Modalit ${O.modalite}`}),i.jsxs("p",{className:"font-bold text-gray-900",children:[(O.montant||0).toLocaleString("fr-FR")," FCFA"]})]},M))})]},k.id))})})]},C)})}),l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 text-white p-6",children:i.jsx("h3",{className:"text-xl font-bold",children:n?"Modifier les frais":"Nouveau frais scolaire"})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Niveau"}),i.jsx("select",{value:d.niveau,onChange:C=>f(E=>({...E,niveau:C.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-green-100 focus:border-green-500 transition-all",children:sj.map(C=>i.jsx("option",{value:C,children:C},C))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Anne scolaire"}),i.jsx("input",{type:"text",value:d.anneeScolaire,onChange:C=>f(E=>({...E,anneeScolaire:C.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-green-100 focus:border-green-500 transition-all",placeholder:"2025-2026"})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"chances de paiement"}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",d.echeances.reduce((C,E)=>C+E.montant,0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[i.jsx(bn,{className:"h-4 w-4"}),i.jsx("span",{children:"Ajouter"})]})]}),i.jsx("div",{className:"space-y-4",children:d.echeances.map((C,E)=>i.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modalit"}),i.jsx("input",{type:"number",min:"1",value:C.modalite,onChange:k=>w(E,"modalite",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-center font-bold"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label"}),i.jsx("input",{type:"text",value:C.label,onChange:k=>w(E,"label",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent font-medium",placeholder:"Ex: Inscription, Versement 1..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date d'chance"}),i.jsx("input",{type:"date",value:C.date,onChange:k=>w(E,"date",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent font-mono"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant (FCFA)"}),i.jsx("input",{type:"number",min:"0",value:C.montant,onChange:k=>w(E,"montant",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-right font-bold text-green-700"})]}),i.jsx("div",{children:i.jsx("button",{onClick:()=>y(E),className:"w-full p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",disabled:d.echeances.length===1,children:i.jsx(oa,{className:"h-4 w-4 mx-auto"})})})]})},E))}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-blue-900 font-semibold",children:"Total des frais:"}),i.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[d.echeances.reduce((C,E)=>C+E.montant,0).toLocaleString("fr-FR")," FCFA"]})]}),i.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[d.echeances.length," modalit(s) de paiement configure(s)"]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{onClick:h,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Annuler"}),i.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-xl hover:from-green-700 hover:to-teal-700 transition-all",children:[i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{children:n?"Mettre  jour":"Enregistrer"})]})]})]})]})})]})}const oj=["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"];function H7(){const{showToast:e}=Lt(),[t,r]=S.useState([]),[n,s]=S.useState(null),[l,c]=S.useState(!1),[d,f]=S.useState({nom:"",coefficient:1,niveau:"",ordre:1});S.useEffect(()=>{m()},[]);const m=()=>{const w=G.getAll("compositions");r(w.sort((y,P)=>y.ordre-P.ordre))},h=()=>{f({nom:"",coefficient:1,niveau:"",ordre:1}),s(null),c(!1)},g=w=>{f({nom:w.nom,coefficient:w.coefficient,niveau:w.niveau||"",ordre:w.ordre}),s(w),c(!0)},v=()=>{if(!d.nom.trim()){e("Le nom est obligatoire","error");return}if(t.some(y=>y.nom.toLowerCase()===d.nom.trim().toLowerCase()&&y.niveau===(d.niveau||void 0)&&y.id!==n?.id)){e("Cette composition existe dj pour ce niveau","error");return}const w={nom:d.nom.trim(),coefficient:d.coefficient,niveau:d.niveau||void 0,ordre:d.ordre};n?(G.update("compositions",n.id,w),e("Composition mise  jour","success")):(G.create("compositions",w),e("Composition ajoute","success")),m(),h()},j=w=>{window.confirm("Supprimer cette composition ? Toutes les notes associes seront perdues.")&&(G.getAll("notes").filter(C=>C.compositionId===w).forEach(C=>G.delete("notes",C.id)),G.getAll("moyennesGenerales").filter(C=>C.compositionId===w).forEach(C=>G.delete("moyennesGenerales",C.id)),G.delete("compositions",w),m(),e("Composition supprime","success"))},b=w=>t.filter(y=>!y.niveau||y.niveau===w);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-8 rounded-2xl shadow-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:i.jsx(ia,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuration des Compositions"}),i.jsx("p",{className:"text-purple-100 mt-2",children:"Gestion des priodes d'valuation par niveau"})]})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-6 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-xl transition-all",children:[i.jsx(bn,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Nouvelle Composition"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:oj.map(w=>i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[b(w).length," composition(s)"]})]}),i.jsx("div",{className:"p-6",children:b(w).length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(pj,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500 mb-3",children:"Aucune composition spcifique"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Les compositions gnrales s'appliquent  ce niveau"})]}):i.jsx("div",{className:"space-y-3",children:b(w).map(y=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:y.nom}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Coefficient: ",y.coefficient,"  Ordre: ",y.ordre]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>g(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:i.jsx(Ga,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(oa,{className:"h-4 w-4"})})]})]},y.id))})})]},w))}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Compositions Gnrales"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"S'appliquent  tous les niveaux sauf configuration spcifique"})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.filter(w=>!w.niveau).map(w=>i.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-4 border border-gray-200 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:w.nom}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{onClick:()=>g(w),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",children:i.jsx(Ga,{className:"h-3 w-3"})}),i.jsx("button",{onClick:()=>j(w.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:i.jsx(oa,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:w.coefficient}),i.jsx("p",{className:"text-gray-600 text-xs",children:"Coefficient"}),i.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Ordre: ",w.ordre]})]})]},w.id))})})]}),l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-bold",children:n?"Modifier la composition":"Nouvelle composition"}),i.jsx("button",{onClick:h,className:"text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-lg transition-colors",children:i.jsx(ha,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Nom de la composition ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:d.nom,onChange:w=>f(y=>({...y,nom:w.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all",placeholder:"Ex: 1re Composition, Devoir de Nol..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Coefficient ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",min:"1",max:"10",value:d.coefficient,onChange:w=>f(y=>({...y,coefficient:Number(w.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Ordre d'affichage"}),i.jsx("input",{type:"number",min:"1",value:d.ordre,onChange:w=>f(y=>({...y,ordre:Number(w.target.value)})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Niveau spcifique (optionnel)"}),i.jsxs("select",{value:d.niveau,onChange:w=>f(y=>({...y,niveau:w.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all",children:[i.jsx("option",{value:"",children:"Tous les niveaux"}),oj.map(w=>i.jsx("option",{value:w,children:w},w))]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Laissez vide pour appliquer  tous les niveaux"})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx("button",{onClick:h,className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Annuler"}),i.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all",children:[i.jsx(ma,{className:"h-5 w-5"}),i.jsx("span",{children:n?"Mettre  jour":"Enregistrer"})]})]})]})]})})]})}const lj=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result)),n.onerror=r,n.readAsDataURL(e)});function Y7(){const[e,t]=S.useState(()=>la()),[r,n]=S.useState("eleves");function s(c,d,f){t(m=>{const h=m[c];return{...m,[c]:{...h,[d]:f}}})}const l=()=>{ho(e),alert("Configurations d'impression sauvegardes")};return i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Configuration des impressions"}),i.jsx("p",{className:"mb-6 text-sm text-gray-600 max-w-3xl",children:"ditez l'en-tte, le pied de page, les logos et les colonnes pour chaque type de document. Chaque onglet dispose d'un aperu plac sous le formulaire."}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-3",children:["eleves","recu","transport"].map(c=>i.jsx("button",{onClick:()=>n(c),className:`px-4 py-2 rounded-md font-semibold shadow-sm ${r===c?"bg-teal-600 text-white":"bg-white border text-gray-700"}`,children:c==="eleves"?"LVES":c==="recu"?"REU":"TRANSPORT"},c))}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3",children:["Paramtres  ",r==="eleves"?"Liste lves":r==="recu"?"Reu de paiement":"Transport"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"En-tte"}),i.jsx("textarea",{rows:2,value:e[r].header,onChange:c=>s(r,"header",c.target.value),className:"w-full border rounded px-3 py-2 mt-1 resize-none",placeholder:r==="eleves"?"Ministre de l'ducation Nationale  Nom de l'tablissement":r==="recu"?"Reu de paiement":"Fiche de renseignement transport"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pied de page"}),i.jsx("textarea",{rows:2,value:e[r].footer||"",onChange:c=>s(r,"footer",c.target.value),className:"w-full border rounded px-3 py-2 mt-1 resize-none",placeholder:r==="recu"?"Aucun remboursement n'est possible aprs encaissement.":""})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Colonnes (spares par des virgules)"}),i.jsx("input",{value:e[r].columns.join(", "),onChange:c=>s(r,"columns",c.target.value.split(",").map(d=>d.trim())),className:"w-full border rounded px-3 py-2 mt-1",placeholder:r==="eleves"?"Matricule, Nom & Prnom":r==="recu"?"Nom, Montant, Date, Classe":"Nom, Classe, Montant, Versement"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Logo principal"}),i.jsx("input",{type:"file",accept:"image/*",onChange:async c=>{const d=c.target.files?.[0];if(!d)return;const f=await lj(d);s(r,"logo",f)},className:"mt-1"}),i.jsx("div",{className:"mt-2 text-sm text-gray-600",children:e[r].logo?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:e[r].logo,alt:"logo",className:"h-14"}),i.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:()=>s(r,"logo",""),children:"Supprimer"})]}):i.jsx("div",{children:"Aucun fichier slectionn"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Logo Ministre"}),i.jsx("input",{type:"file",accept:"image/*",onChange:async c=>{const d=c.target.files?.[0];if(!d)return;const f=await lj(d);s(r,"logoMinistere",f)},className:"mt-1"}),i.jsx("div",{className:"mt-2 text-sm text-gray-600",children:e[r].logoMinistere?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:e[r].logoMinistere,alt:"logo-min",className:"h-14"}),i.jsx("button",{className:"px-3 py-1 border rounded text-sm",onClick:()=>s(r,"logoMinistere",""),children:"Supprimer"})]}):i.jsx("div",{children:"Aucun fichier slectionn"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Options"}),i.jsxs("div",{className:"space-x-2",children:[i.jsx("button",{onClick:()=>t(la()),className:"px-3 py-1 border rounded",children:"Restaurer"}),i.jsx("button",{onClick:l,className:"px-3 py-1 bg-teal-600 text-white rounded",children:"Sauvegarder"})]})]})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold",children:["Aperu  ",r==="eleves"?"Liste lves":r==="recu"?"Reu":"Transport"]}),i.jsx("div",{className:"text-sm text-gray-500",children:r==="eleves"?"Liste des lves":r==="recu"?"Reu de paiement":"Fiche de renseignement transport"})]}),i.jsxs("div",{className:"border rounded bg-white p-4",children:[i.jsx(fs,{type:r,libelle:e[r].header}),i.jsxs("div",{className:"mt-4 text-sm text-gray-700",children:[r==="eleves"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:"Ministre de l'ducation Nationale et de l'Alphabtisation"}),i.jsx("div",{className:"mt-1",children:"GROUPE SCOLAIRE BAPTISTE MISSIONNAIRE DE KOUMASSI"}),i.jsx("div",{className:"mt-3 font-medium",children:"Liste des lves"})]}),r==="recu"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:"Reu de paiement"}),i.jsx("div",{className:"mt-2 text-gray-600",children:"Aucun remboursement n'est possible aprs encaissement."})]}),r==="transport"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-semibold",children:"Fiche de renseignement transport"}),i.jsx("div",{className:"mt-2 text-gray-600",children:"Informations : nom, classe, montant, versement"})]})]})]})]})})]})]})]})}function G7(){const{showToast:e}=Lt(),t=S.useRef(null),r=async()=>{try{const l=await qa(()=>import("./jszip.min-VeGiWWgk.js").then(w=>w.j),[],import.meta.url),c=l&&(l.default||l),d=new c,f=JSON.parse(G.exportData()),m=new Date().toISOString().split("T")[0],h=d.folder(`backup_${m}/data`);Object.entries(f).forEach(([w,y])=>{h.file(`${w}.json`,JSON.stringify(y,null,2))}),d.folder(`backup_${m}/meta`).file("info.json",JSON.stringify({generatedAt:new Date().toISOString(),app:"KlasNet"},null,2));const v=await d.generateAsync({type:"blob"}),j=window.URL.createObjectURL(v),b=document.createElement("a");b.href=j,b.download=`klasnet_backup_${m}.zip`,b.click(),window.URL.revokeObjectURL(j),e("Sauvegarde ZIP exporte avec succs","success")}catch{const c=G.exportData(),d=new Blob([c],{type:"application/json"}),f=window.URL.createObjectURL(d),m=document.createElement("a"),h=new Date().toISOString().split("T")[0];m.href=f,m.download=`klasnet_backup_${h}.json`,m.click(),window.URL.revokeObjectURL(f),e("Sauvegarde exporte (fallback JSON)","success")}},n=l=>{const c=l.target.files?.[0];if(!c)return;const d=new FileReader;d.onload=f=>{try{const m=f.target?.result;if(G.importData(m)){e("Donnes importes avec succs","success");try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(g){console.warn(g)}}else e("Erreur lors de limportation des donnes","error")}catch{e("Erreur lors de la lecture du fichier","error")}},d.readAsText(c)},s=()=>{if(window.confirm("tes-vous sr de vouloir rinitialiser toutes les donnes ? Cette action est irrversible.")){G.resetData(),e("Donnes rinitialises avec succs","success");try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(l){console.warn(l)}}};return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Sauvegarde et Restauration"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Export / import / rinitialisation des donnes de l'application"})]}),i.jsxs("div",{className:"max-w-xl bg-white p-6 rounded shadow-sm border",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Utilisez ces commandes pour exporter une sauvegarde complte de l'application, importer une sauvegarde ou rinitialiser la base de donnes locale."}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-blue-600 text-white rounded",children:"Exporter les donnes"}),i.jsx("button",{onClick:()=>t.current?.click(),className:"w-full px-4 py-2 border rounded",children:"Importer des donnes"}),i.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-red-600 text-white rounded",children:"Rinitialiser toutes les donnes"})]}),i.jsx("input",{ref:t,type:"file",accept:".json",onChange:n,className:"hidden"})]})]})}function X7(){const[e,t]=S.useState([]);return S.useEffect(()=>{t(G.getAll("historiques").sort((r,n)=>n.date.localeCompare(r.date)))},[]),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Historique des actions"}),e.length===0?i.jsx("div",{className:"text-gray-500 text-center",children:"Aucune action enregistre."}):i.jsxs("table",{className:"w-full text-sm border",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border px-2 py-1",children:"Date"}),i.jsx("th",{className:"border px-2 py-1",children:"Type"}),i.jsx("th",{className:"border px-2 py-1",children:"Cible"}),i.jsx("th",{className:"border px-2 py-1",children:"Description"}),i.jsx("th",{className:"border px-2 py-1",children:"Utilisateur"})]})}),i.jsx("tbody",{children:e.map(r=>i.jsxs("tr",{children:[i.jsx("td",{className:"border px-2 py-1 whitespace-nowrap",children:new Date(r.date).toLocaleString()}),i.jsx("td",{className:"border px-2 py-1 capitalize",children:r.type}),i.jsx("td",{className:"border px-2 py-1",children:r.cible}),i.jsx("td",{className:"border px-2 py-1",children:r.description}),i.jsx("td",{className:"border px-2 py-1",children:r.utilisateur||"-"})]},r.id))})]})]})}function Q7(){const{showToast:e}=Lt(),[t,r]=S.useState(null),[n,s]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(!1),[m,h]=S.useState(!1),[g,v]=S.useState(null);S.useEffect(()=>{j()},[]);const j=async()=>{f(!0);try{await pn.updateLicenceFromServer();const P=await pn.checkLicenceStatus();r(P)}catch(P){console.error("Erreur refresh licence:",P)}finally{f(!1)}},b=async()=>{if(!n.trim()){e("Veuillez entrer une cl de licence","error");return}c(!0);try{const P=pn.activateLicence(n.trim());P.success?(e(P.message,"success"),s(""),await j()):e(P.message,"error")}catch{e("Erreur lors de l'activation","error")}finally{c(!1)}},w=()=>t?t.isValid&&!t.isExpired?i.jsx(Qr,{className:"h-8 w-8 text-green-600"}):i.jsx(Jr,{className:"h-8 w-8 text-red-600"}):i.jsx(yc,{className:"h-8 w-8 text-gray-400"}),y=()=>t?t.isValid&&!t.isExpired?t.daysRemaining<=7?"from-yellow-500 to-orange-500":"from-green-500 to-teal-500":"from-red-500 to-red-600":"from-gray-500 to-gray-600";return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsx("div",{className:`bg-gradient-to-r ${y()} text-white p-8 rounded-2xl shadow-lg`,children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"bg-white bg-opacity-20 p-4 rounded-xl",children:w()}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Licences"}),i.jsx("p",{className:"text-white text-opacity-90 mt-2",children:t?.isValid?`Licence ${t.type} active - ${t.daysRemaining} jour(s) restant(s)`:"Licence expire ou invalide"})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Statut de la Licence"}),i.jsxs("button",{onClick:j,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:opacity-50",children:[i.jsx(Dk,{className:`h-4 w-4 ${d?"animate-spin":""}`}),i.jsx("span",{children:"Actualiser"})]})]})}),i.jsxs("div",{className:"p-6",children:[t?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600 capitalize",children:t.type}),i.jsx("p",{className:"text-blue-800 font-medium",children:"Type de licence"})]}),i.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.daysRemaining}),i.jsx("p",{className:"text-purple-800 font-medium",children:"Jours restants"})]}),i.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.isValid?"":""}),i.jsx("p",{className:"text-green-800 font-medium",children:t.isValid?"Valide":"Expire"})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500",children:"Vrification en cours..."})]}),t&&i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Dtails"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Date d'expiration:"}),i.jsx("div",{className:"font-medium text-gray-900",children:t.dateExpiration?new Date(t.dateExpiration).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Non dfinie"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Dernire vrification:"}),i.jsx("div",{className:"font-medium text-gray-900",children:new Date(t.lastCheck).toLocaleString("fr-FR")})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 px-6 py-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Activation de Licence"}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Entrez votre cl de licence pour activer ou renouveler"})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Cl de licence"}),i.jsx("textarea",{value:n,onChange:P=>s(P.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-teal-100 focus:border-teal-500 transition-all resize-none font-mono text-sm",rows:4,placeholder:"Collez votre cl de licence ici..."})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{onClick:()=>s(""),className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Effacer"}),i.jsxs("button",{onClick:b,disabled:l||!n.trim(),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-teal-600 to-blue-600 text-white rounded-xl hover:from-teal-700 hover:to-blue-700 transition-all disabled:opacity-50",children:[l?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(bc,{className:"h-4 w-4"}),i.jsx("span",{children:l?"Activation...":"Activer la licence"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gnrateur de Cls (dsactiv)"}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"La gnration de cls a t dsactive dans le client. Utilisez un service serveur scuris pour mettre des licences."})]}),i.jsx("div",{className:"p-6",children:i.jsxs("button",{disabled:!0,title:"Gnration de cls dsactive",className:"flex items-center space-x-2 px-6 py-3 bg-gray-200 text-gray-500 rounded-xl cursor-not-allowed",children:[i.jsx(bc,{className:"h-5 w-5"}),i.jsx("span",{children:"Gnration dsactive"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 px-6 py-4 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Actions Avances"}),i.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Utilisez avec prcaution"})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"flex space-x-4",children:i.jsx("button",{onClick:()=>{window.confirm("Rinitialiser la licence ? Cela supprimera la licence actuelle.")&&(pn.resetLicence(),j(),e("Licence rinitialise","success"))},className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors",children:"Rinitialiser la licence"})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Systme"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:i.jsx("div",{className:"text-sm",children:i.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Tlphone:"})," +2250555863953"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Email:"})," Non disponible"]}),i.jsxs("p",{children:[" ",i.jsx("strong",{children:"Site web:"})," Non disponible"]})]})})})]})]})}const Z7=[{id:"ecole",title:"Configuration cole",description:"Nom, logo, coordonnes de l'tablissement",icon:fj},{id:"frais",title:"Configuration Frais",description:"Modalits et chances de paiement par niveau",icon:sa},{id:"compositions",title:"Configuration Compositions",description:"Priodes d'valuation et coefficients",icon:ia},{id:"impression",title:"Configuration Impression",description:"Enttes, logos et mise en page des documents",icon:up},{id:"backup",title:"Sauvegarde & Restauration",description:"Export, import et gestion des donnes",icon:Pk},{id:"historique",title:"Historique des Actions",description:"Journal des modifications et oprations",icon:Ak},{id:"licence",title:"Gestion des Licences",description:"Activation et statut de la licence logicielle",icon:yj}];function J7(){const[e,t]=S.useState("menu"),r=()=>{switch(e){case"ecole":return i.jsx(jj,{});case"frais":return i.jsx(V7,{});case"compositions":return i.jsx(H7,{});case"impression":return i.jsx(Y7,{});case"backup":return i.jsx(G7,{});case"historique":return i.jsx(X7,{});case"licence":return i.jsx(Q7,{});default:return i.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuration Systme"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Paramtres gnraux de votre cole"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z7.map(n=>{const s=n.icon;return i.jsxs("button",{onClick:()=>t(n.id),className:"group bg-white rounded-lg border border-gray-200 p-6 hover:border-gray-300 hover:shadow-sm transition-all text-left",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-gray-200 transition-colors",children:i.jsx(s,{className:"h-6 w-6 text-gray-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.description}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700 transition-colors",children:[i.jsx("span",{children:"Configurer"}),i.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},n.id)})}),i.jsxs("div",{className:"mt-8 bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informations Systme"}),i.jsx("p",{className:"text-gray-600",children:"tat actuel de votre configuration"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:G.getAll("eleves").length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"lves"})]}),i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:G.getAll("classes").length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Classes"})]}),i.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:G.getAll("matieres").length}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Matires"})]})]})]})]})})}};return e!=="menu"?i.jsx("div",{className:"bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:()=>t("menu"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[i.jsx(xc,{className:"h-4 w-4"}),i.jsx("span",{children:"Retour  la configuration"})]})}),r()]})}):i.jsx("div",{children:r()})}function cp(e){const t=G.getById("eleves",e);if(!t)throw new Error("lve introuvable");const r=G.getById("classes",t.classeId),n=G.getAll("ecole")[0],s=r?.niveau,l=r?.anneeScolaire||t.anneeEntree||n?.anneeScolaireActive;if(!s||!l)return[];const c=G.getAll("fraisScolaires").find(d=>d.niveau===s&&d.anneeScolaire===l);return!c||!(c.echeances&&c.echeances.length)?[]:(c.echeances||[]).map((d,f)=>({echeanceId:d.id||`${c.niveau}-${f+1}`,date:d.date,montant:Number(d.montant||0),paid:0,remaining:Number(d.montant||0),modalite:d.modalite,dueDate:d.date}))}function e9({onCancel:e,onSubmit:t}){const r=G.getAll("classes"),[n,s]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(!1),[m,h]=S.useState(""),[g,v]=S.useState("scolarite"),[j,b]=S.useState("auto"),[w,y]=S.useState("espece"),[P,C]=S.useState(""),{showToast:E}=Lt(),[k,O]=S.useState(!1),M=()=>"REC"+Date.now().toString().slice(-8),I=V=>{c(V);const L=G.getById("eleves",V);f(!!L?.protege);try{const X=cp(V).find(Q=>Q.remaining>0);if(X){const Q=String(X.echeanceId).split("-"),R=Q[Q.length-1],Z=Number(R);Number.isFinite(Z)&&Z>=1&&Z<=7&&b(Z)}}catch(z){console.debug("compute schedule failed",z)}},K=V=>{s(V);const L=G.getAll("eleves").filter(z=>!V||z.classeId===V);L.length?I(L[0].id):c("")};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-b border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nouveau Paiement"}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-md transition-colors",onClick:e,"aria-label":"Fermer",children:""})]}),i.jsxs("div",{className:"overflow-y-auto px-4 py-3 space-y-3 flex-1",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Classe"}),i.jsxs("select",{value:n,onChange:V=>K(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",children:[i.jsx("option",{value:"",children:"-- Toutes les classes --"}),r.map(V=>i.jsxs("option",{value:V.id,children:[V.niveau," ",V.section]},V.id))]}),i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 mt-4",children:"lve"}),i.jsxs("select",{value:l,onChange:V=>I(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",children:[i.jsx("option",{value:"",children:"-- Slectionner lve --"}),G.getAll("eleves").filter(V=>!n||V.classeId===n).map(V=>i.jsxs("option",{value:V.id,children:[V.nom," ",V.prenoms," (",V.matricule,")"]},V.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant (FCFA)"}),i.jsx("input",{type:"number",value:m,onChange:V=>h(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors text-lg font-bold",placeholder:"0"}),d&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"lve protg: montant libre, mais seule l'inscription sera prise en compte."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de frais"}),i.jsx("select",{value:g,onChange:V=>v(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",disabled:d,children:d?i.jsx("option",{value:"inscription",children:"Inscription"}):i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"scolarite",children:"Scolarit"}),i.jsx("option",{value:"inscription",children:"Inscription"}),i.jsx("option",{value:"cantine",children:"Cantine"}),i.jsx("option",{value:"transport",children:"Transport"}),i.jsx("option",{value:"fournitures",children:"Fournitures"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modalit de versement"}),i.jsx("select",{value:String(j),onChange:V=>b(V.target.value==="auto"?"auto":Number(V.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors",disabled:d,children:d?i.jsx("option",{value:1,children:"1 - Inscription"}):i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"auto",children:"Auto"}),i.jsx("option",{value:1,children:"1 - Inscription"}),i.jsx("option",{value:2,children:"2 - Versement 1"}),i.jsx("option",{value:3,children:"3 - Versement 2"}),i.jsx("option",{value:4,children:"4 - Versement 3"}),i.jsx("option",{value:5,children:"5 - Versement 4"}),i.jsx("option",{value:6,children:"6 - Versement 5"}),i.jsx("option",{value:7,children:"7 - Versement 6"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mode de paiement"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"espece",label:"Espces"},{value:"mobile",label:"Mobile Money"},{value:"cheque",label:"Chque"},{value:"virement",label:"Virement"}].map(V=>i.jsxs("label",{className:`flex items-center justify-center p-2 border rounded-md cursor-pointer transition-all ${w===V.value?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-300 hover:border-gray-400"}`,children:[i.jsx("input",{type:"radio",name:"mode",value:V.value,checked:w===V.value,onChange:L=>y(L.target.value),className:"sr-only"}),i.jsx("span",{className:"font-medium text-sm",children:V.label})]},V.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note ou commentaire (optionnel)"}),i.jsx("textarea",{value:P,onChange:V=>C(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors resize-none",rows:3,placeholder:"Commentaire sur ce paiement..."})]})]}),i.jsxs("div",{className:"px-4 py-3 border-t bg-white flex flex-col sm:flex-row justify-end gap-2 lg:gap-4",children:[i.jsx(ke,{variant:"secondary",className:"w-full sm:w-auto",onClick:e,disabled:k,children:"Annuler"}),i.jsxs(ke,{variant:"primary",className:"w-full sm:w-auto",onClick:async()=>{if(!l){E("Slectionnez un lve","error");return}const V=Number(m||0);if(!V||V<=0){E("Montant invalide","error");return}O(!0);const L=M();try{const z={mode:w,note:P,numeroRecu:L,type:g,modalite:j};try{const{getCurrentUser:Q}=await qa(async()=>{const{getCurrentUser:Z}=await Promise.resolve().then(()=>ey);return{getCurrentUser:Z}},void 0,import.meta.url),R=Q();R&&(z.utilisateur=`${R.prenoms} ${R.nom}`)}catch(Q){console.debug("getCurrentUser failed",Q)}const X=kr.processPaymentIntelligent(l,V,new Date().toISOString(),z);try{const Q=(await qa(async()=>{const{getCurrentUser:Z}=await Promise.resolve().then(()=>ey);return{getCurrentUser:Z}},void 0,import.meta.url)).getCurrentUser(),R=X&&X.paiement&&X.paiement.id?String(X.paiement.id):void 0;G.addHistorique({type:"paiement",cible:"Paiement",cibleId:R,description:`Paiement de ${V} FCFA pour lve ${l} (reu ${z.numeroRecu})`,utilisateur:Q?`${Q.prenoms} ${Q.nom}`:"Inconnu"})}catch(Q){console.debug("historique skip:",Q)}try{const Q=G.getById("eleves",l),R=`
                    <html><head><title>Reu ${z.numeroRecu}</title></head><body>
                      <h2>Reu de paiement</h2>
                      <div>Reu: ${z.numeroRecu}</div>
                      <div>lve: ${Q?.nom} ${Q?.prenoms} (${Q?.matricule})</div>
                      <div>Montant: ${V} FCFA</div>
                      <div>Mode: ${z.mode}</div>
                      <div>Date: ${new Date().toLocaleString()}</div>
                    </body></html>`,Z=window.open("","_blank","width=600,height=800");Z&&(Z.document.write(R),Z.document.close(),setTimeout(()=>{try{Z.print()}catch(le){console.debug("print failed",le)}},300))}catch(Q){console.debug("preview failed",Q)}try{t(l,V,g,j,X.paiement)}catch(Q){console.debug("onSubmit handler error",Q)}E("Paiement enregistr","success"),e()}catch(z){console.error(z);const X=z&&z.message?z.message:"Erreur lors de l'enregistrement du paiement";E(X,"error")}finally{O(!1)}},disabled:k,children:[k?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 lg:h-5 lg:w-5 border-b-2 border-white"}):i.jsx("span",{children:"Enregistrer"}),i.jsx("span",{children:k?"Enregistrement...":"Paiement"})]})]})]})})}const pc=e=>e.toLocaleString("fr-FR",{minimumFractionDigits:0})+" FCFA",cj=e=>{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR")},fC=({eleve:e,montantRegle:t,date:r,mode:n,cumulReglement:s,resteAPayer:l,anneeScolaire:c,operateur:d,numeroRecu:f,logoUrl:m,printMode:h=!1})=>{const g=S.useMemo(()=>{if(!e.id)return null;try{return G.getById("eleves",e.id)||null}catch(k){return console.warn("RecuPaiement: unable to load eleve full data",k),null}},[e.id]),v=S.useMemo(()=>{if(!e.id)return null;try{return kr.getSituationEcheances(e.id)||null}catch(k){return console.warn("RecuPaiement: unable to load situation",k),null}},[e.id]),j=S.useMemo(()=>g?`P: ${g.pereTuteur||""}  M: ${g.mereTutrice||""}`.trim():"",[g]),b=S.useMemo(()=>{if(!g)return"";if(g.protege&&g.garantId)try{const k=G.getById("enseignants",g.garantId);return k?`${k.prenoms||""} ${k.nom||""}`.trim():""}catch{return""}return""},[g]),w=S.useMemo(()=>{let k=s||0,O=l||0;return v&&(k||(v.eleve?.protege?k=(v.echeances||[]).filter(I=>I.modalite===1).reduce((I,K)=>I+(K.montantPaye||0),0):k=v.totalPaye||0),O||(v.eleve?.protege?O=(v.echeances||[]).filter(I=>I.modalite===1).reduce((I,K)=>I+(K.montantRestant||0),0):O=v.totalRestant||0)),{cumul:k,reste:O}},[s,l,v]),y=S.useMemo(()=>{if(!v||!v.echeances)return null;const k=v.echeances.find(O=>(O.montantRestant||0)>0)||null;return k?{label:k.label||(k.modalite===1?"Inscription":`Versement ${k.modalite}`),date:k.date||""}:null},[v]),P=Eo("recu"),C=S.useRef(null),E=(k=!1)=>{const O=`recu-print-area-${f}`;C.current&&(C.current.id||(C.current.id=O),k&&(C.current.classList.add("print-two-per-page"),C.current.setAttribute("data-print-two-up","1")),fa(O,`Reu ${f}`),k&&setTimeout(()=>C.current&&(C.current.classList.remove("print-two-per-page"),C.current.removeAttribute("data-print-two-up")),500))};return i.jsxs("div",{ref:C,className:`${h?"":"bg-white p-4 rounded-md shadow-sm max-w-lg mx-auto border border-gray-200 print:max-w-full print:shadow-none print:border-0 font-sans receipt-compact print-compact"} print:mb-8 mb-4`,children:[h?i.jsx("div",{id:"print-area",className:"print:block",children:i.jsx(fs,{type:"recu",libelle:"REU DE PAIEMENT"})}):i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[P.logo||m?i.jsx("img",{src:P.logo||m,alt:"Logo",className:"h-16 w-16 object-contain"}):i.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-600",children:"Logo"}),i.jsxs("div",{className:"text-xs text-gray-700 font-semibold leading-tight",children:[i.jsx("div",{children:"GROUPE SCOLAIRE BAPTISTE MISSIONNAIRE DE KOUMASSI CENTRE"}),i.jsxs("div",{className:"text-[11px] text-gray-500",children:["Anne scolaire : ",i.jsx("span",{className:"font-bold",children:c})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-600 text-right",children:[i.jsxs("div",{className:"font-bold",children:["N Reu : ",i.jsx("span",{className:"text-black",children:f})]}),i.jsxs("div",{children:["Date : ",cj(r)]})]})]}),!h&&i.jsxs("div",{className:"flex justify-end mb-2 space-x-2",children:[i.jsx("button",{type:"button",onClick:()=>E(!1),className:"inline-flex items-center px-3 py-1 text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 rounded",children:"Aperu PDF"}),i.jsx("button",{type:"button",onClick:()=>E(!0),title:"Imprimer 2 reus par page",className:"inline-flex items-center px-3 py-1 text-sm font-medium text-white bg-gray-600 hover:bg-gray-700 rounded",children:"Aperu (2 par page)"})]}),i.jsx("h2",{className:"text-lg font-extrabold text-center mb-1 mt-1 tracking-wide text-teal-700",children:"REU DE PAIEMENT"}),i.jsxs("div",{className:"mb-3 text-sm text-gray-700 grid grid-cols-2 gap-x-3 gap-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:"lve :"})," ",i.jsxs("span",{className:"font-semibold",children:[e.nom," ",e.prenoms]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:"Matricule :"})," ",i.jsx("span",{className:"font-semibold",children:e.matricule})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:"Classe :"})," ",i.jsx("span",{className:"font-semibold",children:e.classe})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold",children:"Oprateur :"})," ",i.jsx("span",{className:"font-semibold",children:d})]}),j&&i.jsxs("div",{className:"col-span-2 text-sm text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:"Parents :"})," ",j]}),b&&i.jsxs("div",{className:"col-span-2 text-sm text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:"Garant :"})," ",b]})]}),i.jsxs("table",{className:"w-full text-sm border border-gray-200 mb-3 rounded overflow-hidden",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100 text-gray-700",children:[i.jsx("th",{className:"border px-2 py-1 text-left",children:"Modalit"}),i.jsx("th",{className:"border px-2 py-1 text-right",children:"Montant rgl"}),i.jsx("th",{className:"border px-2 py-1 text-right",children:"Montant attendu"}),i.jsx("th",{className:"border px-2 py-1 text-right",children:"Reste"}),i.jsx("th",{className:"border px-2 py-1 text-right",children:"Date / Heure"})]})}),i.jsx("tbody",{children:(()=>{try{if(!e.id)throw new Error("no eleve id");const k=kr.getSituationEcheances(e.id),O=G.getAll("paiements").filter(I=>I.eleveId===e.id&&!I.canceled),M=O.find(I=>(I.numeroRecu||"").toString()===(f||"").toString())||O.sort((I,K)=>new Date(K.datePaiement||K.createdAt).getTime()-new Date(I.datePaiement||I.createdAt).getTime())[0];if(M&&M.allocations&&M.allocations.length>0)return M.allocations.map((I,K)=>{let V="Paiement",L=0,z=0;if(k&&k.echeances){const Q=k.echeances.find(R=>R.echeanceId===I.echeanceId||R.modalite===I.modalite);Q&&(V=Q.label||(Q.modalite===1?"Inscription":`Versement ${Q.modalite}`),L=Q.montant||0,z=Q.montantRestant||0)}(!V||V==="Paiement")&&I&&I.modalite===1&&(V="Inscription");const X=M.datePaiement||M.createdAt||r;return i.jsxs("tr",{className:"text-center",children:[i.jsx("td",{className:"border px-2 py-1 font-semibold text-left",children:V}),i.jsxs("td",{className:"border px-2 py-1 text-right font-extrabold text-teal-700",children:[Number(I.montant||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(L||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right font-extrabold text-red-600",children:[Number(z||0).toLocaleString("fr-FR")," FCFA"]}),i.jsx("td",{className:"border px-2 py-1 text-right",children:new Date(X).toLocaleString("fr-FR")})]},K)})}catch{}return i.jsxs("tr",{className:"text-center",children:[i.jsx("td",{className:"border px-2 py-1 font-semibold text-left",children:"Paiement"}),i.jsxs("td",{className:"border px-2 py-1 text-right font-extrabold text-teal-700",children:[Number(t||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[Number(w.cumul||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right font-extrabold text-red-600",children:[Number(w.reste||0).toLocaleString("fr-FR")," FCFA"]}),i.jsx("td",{className:"border px-2 py-1 text-right",children:new Date(r).toLocaleString("fr-FR")})]})})()})]}),i.jsx("div",{className:"text-sm mb-2 border-t pt-2",children:i.jsxs("div",{className:"w-full flex items-start gap-4",children:[i.jsxs("div",{className:"min-w-[280px] text-sm text-gray-700",style:{minWidth:"280px"},children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{children:"Montant rgl (aujourd'hui) :"}),i.jsx("div",{className:"font-bold",children:pc(t)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{children:"Cumul rgl :"}),i.jsx("div",{children:pc(w.cumul)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{children:"Total attendu :"}),i.jsx("div",{children:pc(v?.totalDu||0)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{children:"Reste  payer :"}),i.jsx("div",{className:"font-bold text-red-600",children:pc(w.reste)})]})]}),y&&i.jsx("div",{className:"mt-1 text-sm text-gray-700",children:i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Prochaine modalit :"})," ",y.label,y.date?`  chance ${cj(y.date)}`:""]})}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Mode: ",n,"  Imprim le ",new Date().toLocaleDateString("fr-FR"),"  ",new Date().toLocaleTimeString("fr-FR")]})]}),i.jsx("div",{className:"flex-1 flex items-end justify-end text-right",style:{textAlign:"right"},children:i.jsx("div",{className:"text-sm font-semibold text-teal-700",style:{display:"inline-block"},children:"Merci pour ce paiement."})})]})})]})};function mC({eleve:e,paiements:t,classe:r,anneeScolaire:n,operateur:s}){const l=(t||[]).reduce((v,j)=>v+(Number(j.montant)||0),0),c="REC"+Date.now().toString().slice(-8);let d=0;if(r){const v=G.getAll("fraisScolaires").find(j=>j.niveau===r.niveau&&j.anneeScolaire===r.anneeScolaire);v&&v.echeances&&v.echeances.length&&(d=(v.echeances||[]).reduce((j,b)=>j+Number(b.montant||0),0))}const f=Math.max(0,d-l);let m=[];const h={},g={};if(r){const v=G.getAll("fraisScolaires").find(j=>j.niveau===r.niveau&&j.anneeScolaire===r.anneeScolaire);if(v&&v.echeances&&v.echeances.length){m=(v.echeances||[]).slice();for(const j of m){const b=j.id||`${v.niveau}-${j.modalite||0}`;h[b]=j,g[b]=0}}}for(const v of t||[]){const j=v&&v.allocations||[];if(j&&Array.isArray(j)&&j.length)for(const b of j){const w=b.echeanceId;g[w]=(g[w]||0)+Number(b.montant||0)}else{const b=v;let w=null;if(typeof b.modalite<"u"&&b.modalite!==null){const y=Number(b.modalite),P=m.find(C=>Number(C.modalite)===y);P&&(w=P.id||`${r.niveau}-${P.modalite}`)}if(!w){if(b.typeFrais==="inscription"){const y=m.find(P=>Number(P.modalite)===1);y&&(w=y.id||`${r.niveau}-${y.modalite}`)}else if(b.typeFrais==="scolarite"&&typeof b.versementIndex<"u"){const y=Number(b.versementIndex)+1,P=m.find(C=>Number(C.modalite)===y);P&&(w=P.id||`${r.niveau}-${P.modalite}`)}}if(!w){const y=Number(b.montant||0),P=m.find(C=>Number(C.montant||0)===y&&(g[C.id||`${r.niveau}-${C.modalite}`]||0)<Number(C.montant||0));P&&(w=P.id||`${r.niveau}-${P.modalite}`)}w&&(g[w]=(g[w]||0)+Number(b.montant||0))}}return i.jsxs("div",{className:"p-4 print-compact receipt-compact",id:"combined-recu-print-area",style:{pageBreakAfter:"always"},children:[i.jsx(fs,{type:"recu",libelle:`Reu combin  ${n||""}`}),i.jsxs("div",{className:"flex justify-end mb-2 space-x-2",children:[i.jsx(ke,{variant:"primary",className:"text-sm",onClick:()=>{const v=document.getElementById("combined-recu-print-area");v&&(v.classList.contains("print-two-per-page")&&v.classList.remove("print-two-per-page"),fa("combined-recu-print-area",`recu_combine_${e.matricule||"unknown"}`))},children:"Exporter PDF"}),i.jsx(ke,{variant:"secondary",className:"text-sm",onClick:()=>{const v=document.getElementById("combined-recu-print-area");v&&(v.classList.add("print-two-per-page"),fa("combined-recu-print-area",`recu_combine_${e.matricule||"unknown"}_2up`),setTimeout(()=>v.classList.remove("print-two-per-page"),500))},children:"Exporter (2/pg)"})]}),i.jsxs("div",{className:"mt-2 mb-4 compact-meta text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"lve:"})," ",e.prenoms," ",e.nom]}),i.jsxs("div",{children:[i.jsx("strong",{children:"N Reu:"})," ",c]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Classe:"})," ",r?`${r.niveau} ${r.section||""}`:""]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Matricule:"})," ",e.matricule||""]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Dtails des oprations"}),i.jsxs("table",{className:"w-full text-sm border-collapse compact-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border px-2 py-1",children:"Date"}),i.jsx("th",{className:"border px-2 py-1",children:"Type"}),i.jsx("th",{className:"border px-2 py-1",children:"Montant"}),i.jsx("th",{className:"border px-2 py-1",children:"Affectation"})]})}),i.jsx("tbody",{children:t.map((v,j)=>i.jsxs("tr",{children:[i.jsx("td",{className:"border px-2 py-1",children:new Date(v.datePaiement||v.date||Date.now()).toLocaleDateString("fr-FR")}),i.jsx("td",{className:"border px-2 py-1",children:v.typeFrais||"-"}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[(Number(v.montant)||0).toLocaleString("fr-FR")," FCFA"]}),i.jsx("td",{className:"border px-2 py-1 text-sm",children:(v&&v.allocations||[]).length?i.jsx("div",{className:"flex flex-col",children:(v.allocations||[]).map((b,w)=>{const y=b.echeanceId,P=h[y]||null,C=P?`V${P.modalite||"?"} ${(Number(b.montant)||0).toLocaleString("fr-FR")} FCFA`:`${y} ${(Number(b.montant)||0).toLocaleString("fr-FR")} FCFA`;return i.jsx("div",{className:"text-xs",children:C},w)})}):i.jsx("span",{className:"text-gray-500",children:""})})]},j))})]})]}),m&&m.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Rsum des chances"}),i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border px-2 py-1",children:"Modalit"}),i.jsx("th",{className:"border px-2 py-1",children:"Date"}),i.jsx("th",{className:"border px-2 py-1",children:"Attendu"}),i.jsx("th",{className:"border px-2 py-1",children:"Pay"}),i.jsx("th",{className:"border px-2 py-1",children:"Reste"})]})}),i.jsx("tbody",{children:m.map(v=>{const j=v.id||`${r.niveau}-${v.modalite}`,b=g[j]||0,w=Number(v.montant||0),y=Math.max(0,w-b);return i.jsxs("tr",{children:[i.jsxs("td",{className:"border px-2 py-1",children:["V",v.modalite]}),i.jsx("td",{className:"border px-2 py-1",children:v.date}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[w.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[b.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"border px-2 py-1 text-right",children:[y.toLocaleString("fr-FR")," FCFA"]})]},j)})})]})]}),i.jsxs("div",{className:"mt-4 text-right font-bold",children:[i.jsxs("div",{children:["Total pay : ",l.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("div",{children:["Total attendu : ",d.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("div",{children:["Reste  payer : ",f.toLocaleString("fr-FR")," FCFA"]})]}),i.jsxs("div",{className:"mt-6 text-sm",children:["Oprateur: ",s||(Ui()?`${Ui().prenoms} ${Ui().nom}`:"Inconnu")]}),i.jsx("div",{className:"flex flex-col mt-4",children:i.jsxs("div",{className:"mt-auto text-xs text-gray-500 border-t pt-2 text-center",children:[i.jsx("div",{className:"mb-1",children:"Aucun remboursement n'est possible aprs encaissement."}),i.jsxs("div",{className:"italic",children:["Imprim le ",new Date().toLocaleDateString("fr-FR")]})]})})]})}function t9({eleve:e,echeances:t,totalDue:r,classe:n,anneeScolaire:s}){return i.jsxs("div",{className:"p-6 print:page-break-after-always",children:[i.jsxs("div",{className:"flex justify-end mb-4 space-x-2",children:[i.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded-md text-sm",onClick:()=>{const l=document.getElementById("convocation-print-area");l&&(l.classList.contains("print-five-per-page")&&l.classList.remove("print-five-per-page"),fa("convocation-print-area",`convocation_${e.matricule||"unknown"}`))},children:"Exporter PDF"}),i.jsx("button",{className:"px-3 py-1 bg-gray-700 text-white rounded-md text-sm",onClick:()=>{const l=document.getElementById("convocation-print-area");l&&(l.classList.add("print-four-per-page"),fa("convocation-print-area",`convocation_${e.matricule||"unknown"}_4up`),setTimeout(()=>l.classList.remove("print-four-per-page"),500))},children:"Exporter (4/pg)"})]}),i.jsxs("div",{id:"convocation-print-area",className:"mx-auto bg-white text-black p-6 shadow-lg border border-gray-200 max-w-[800px] convocation",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"flex items-center space-x-4",children:(()=>{const l=G.getAll("ecole")[0],c=Eo("recu"),d=l?.logo||c?.logo||"",f=l?.nom||c?.header||"Votre cole";return i.jsxs(i.Fragment,{children:[d?i.jsx("img",{src:d,alt:"Logo",className:"w-16 h-16 object-contain rounded-md"}):i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md flex items-center justify-center text-sm font-semibold text-gray-600",children:"Logo"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600",children:"cole"}),i.jsx("div",{className:"text-xl font-bold",children:f}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Anne scolaire ",s||""]})]})]})})()}),i.jsxs("div",{className:"text-right text-sm",children:[i.jsx("div",{className:"font-medium",children:"Convocation de paiement"}),i.jsxs("div",{className:"text-gray-500",children:["Imprim le ",new Date().toLocaleDateString("fr-FR")]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500",children:"lve"}),i.jsxs("div",{className:"font-semibold text-lg",children:[e.prenoms," ",e.nom]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Matricule : ",e.matricule||"-"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Classe"}),i.jsx("div",{className:"font-semibold",children:n?`${n.niveau} ${n.section||""}`:"-"}),i.jsxs("div",{className:"mt-2",children:["Anne : ",i.jsx("span",{className:"font-medium",children:s||"-"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3 text-base",children:"Modalits impayes"}),i.jsx("div",{className:"overflow-hidden border rounded-md",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3",children:"Modalit"}),i.jsx("th",{className:"text-left px-4 py-3",children:"Priode"}),i.jsx("th",{className:"text-right px-4 py-3",children:"Attendu"}),i.jsx("th",{className:"text-right px-4 py-3",children:"Pay"}),i.jsx("th",{className:"text-right px-4 py-3",children:"Reste"})]})}),i.jsx("tbody",{children:t.map((l,c)=>i.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3",children:l.modalite}),i.jsx("td",{className:"px-4 py-3",children:l.date||"-"}),i.jsxs("td",{className:"px-4 py-3 text-right",children:[(l.attendu||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:[(l.paye||0).toLocaleString("fr-FR")," FCFA"]}),i.jsxs("td",{className:"px-4 py-3 text-right text-red-700 font-medium",children:[(l.reste||0).toLocaleString("fr-FR")," FCFA"]})]},l.modalite))})]})})]}),i.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Merci de rgulariser le paiement auprs du secrtariat."}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Montant total d"}),i.jsxs("div",{className:"text-2xl font-bold text-red-700",children:[r.toLocaleString("fr-FR")," FCFA"]})]})]}),i.jsx("div",{className:"mt-8 text-sm",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Signature responsable"}),i.jsx("div",{className:"mt-6 border-t w-48"})]}),i.jsx("div",{className:"text-right text-xs text-gray-500",children:"Pour toute information : contactez l'administration"})]})})]})]})}function r9({eleve:e,onBack:t}){const{showToast:r}=Lt(),[n,s]=S.useState([]),[l,c]=S.useState([]),[d,f]=S.useState(""),[m,h]=S.useState(!1),[g,v]=S.useState(!1),[j,b]=S.useState(null),[w,y]=S.useState(!1),[P,C]=S.useState(""),E=G.getById("classes",e.classeId),k=kr.getSituationEcheances(e.id),O=!!e?.protege,M=E?G.getById("enseignants",E.enseignantPrincipal):null,I=G.getAll("paiements").filter(F=>F.eleveId===e.id&&!F.canceled),K=S.useMemo(()=>{if(!k)return{totalDu:0,totalPaye:0,totalRestant:0,echeancesEchues:0};if(!O)return{totalDu:k.totalDu||0,totalPaye:k.totalPaye||0,totalRestant:k.totalRestant||0,echeancesEchues:(k.echeancesEchues||[]).length};const F=(k.echeances||[]).filter(ce=>ce.modalite===1),ee=F.reduce((ce,de)=>ce+(de.montant||0),0),_=F.reduce((ce,de)=>ce+(de.montantPaye||0),0),B=F.reduce((ce,de)=>ce+(de.montantRestant||0),0),ge=F.filter(ce=>ce.isEchue).length;return{totalDu:ee,totalPaye:_,totalRestant:B,echeancesEchues:ge}},[k,O]),V=S.useMemo(()=>k?k.echeances.filter(ee=>n.includes(ee.echeanceId)&&(!O||ee.modalite===1)).reduce((ee,_)=>ee+_.montantRestant,0):0,[n,k]),L=(F,ee)=>{if(O&&k){const _=k.echeances.find(B=>B.echeanceId===F);if(_&&_.modalite!==1)return}s(_=>ee?[..._,F]:_.filter(B=>B!==F))},z=F=>{if(k)if(F){const ee=k.echeances.filter(_=>_.montantRestant>0&&(!O||_.modalite===1)).map(_=>_.echeanceId);s(ee)}else s([])},X=(F,ee)=>{c(_=>ee?[..._,F]:_.filter(B=>B!==F))},Q=F=>{if(F){const ee=I.filter(_=>!_.canceled).map(_=>_.id);c(ee)}else c([])},R=async(F="Espces")=>{if(n.length===0){r("Slectionnez au moins une chance  rgler","error");return}const ee=d&&d.trim()!==""?Number(d):void 0,_=ee!==void 0?ee:V;if(!Number.isFinite(_)||_<=0){r("Montant invalide","error");return}if(_>V){r("Le montant ne peut pas dpasser le total slectionn","error");return}try{const B=Ui(),ge=B?`${B.prenoms} ${B.nom}`:"ADMIN",ce="REC"+Date.now().toString().slice(-8);await kr.processPaymentIntelligent(e.id,_,new Date().toISOString(),{typeFrais:"scolarite",modePaiement:F,numeroRecu:ce,operateur:ge,notes:`Rglement de ${n.length} chance(s) - ${F}`,selectedEcheances:n}),G.addHistorique({type:"paiement",cible:"Paiement",description:`Paiement de ${V.toLocaleString("fr-FR")} FCFA pour ${e.prenoms} ${e.nom} (${ce})`,utilisateur:ge}),r(`Paiement de ${V.toLocaleString("fr-FR")} FCFA enregistr avec succs`,"success"),s([]),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(de){console.warn(de)}},800)}catch(B){console.error("Erreur paiement:",B);const ge=B&&B.message?B.message:"Erreur lors de l'enregistrement du paiement";r(ge,"error")}},Z=F=>{b(F),h(!0)},le=()=>{if(l.length===0){r("Slectionnez au moins un paiement","error");return}v(!0)},ie=F=>F.montantRestant===0?"bg-green-50 text-green-700 border-green-300":F.isEchue?"bg-red-50 text-red-700 border-red-300":"bg-yellow-50 text-yellow-700 border-yellow-300",J=F=>F.montantRestant===0?i.jsx(Qr,{className:"h-4 w-4"}):F.isEchue?i.jsx(Jr,{className:"h-4 w-4"}):i.jsx(yc,{className:"h-4 w-4"});return k?i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(ke,{variant:"ghost",onClick:t,className:"flex items-center space-x-2",children:[i.jsx(xc,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"Retour aux finances"})]}),i.jsx("div",{className:"h-6 w-px bg-gray-300"}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e.prenoms," ",e.nom]}),i.jsxs("p",{className:"text-gray-600",children:[E?`${E.niveau} ${E.section}`:"Classe non assigne","  ",e.matricule]}),O&&M&&i.jsxs("div",{className:"mt-1 text-sm text-gray-700",children:["Garant: ",M.prenoms," ",M.nom,"  ",i.jsx("span",{className:"text-xs text-gray-500",children:"Enseignant principal"})]})]})]}),i.jsxs("div",{className:"mt-4 text-right bg-gray-50 border border-gray-200 rounded-md p-4",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Reste  payer"}),i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[K.totalRestant.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["sur ",K.totalDu.toLocaleString("fr-FR")," FCFA"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 text-center",children:[i.jsx("div",{className:"bg-gray-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:i.jsx(sa,{className:"h-6 w-6 text-gray-600"})}),i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K.totalDu.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Total d (FCFA)"})]}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 text-center",children:[i.jsx("div",{className:"bg-gray-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:i.jsx(Qr,{className:"h-6 w-6 text-gray-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:K.totalPaye.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Total pay (FCFA)"})]}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 text-center",children:[i.jsx("div",{className:"bg-gray-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:i.jsx(Jr,{className:"h-6 w-6 text-gray-600"})}),i.jsx("div",{className:"text-2xl font-bold text-red-600",children:K.totalRestant.toLocaleString("fr-FR")}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Reste  payer (FCFA)"})]}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 p-4 text-center",children:[i.jsx("div",{className:"bg-gray-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:i.jsx(yc,{className:"h-6 w-6 text-gray-600"})}),i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:K.echeancesEchues}),i.jsx("p",{className:"text-gray-600 text-sm",children:"chances chues"})]})]}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"chances de paiement"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[n.length>0&&i.jsxs("div",{className:"text-sm text-gray-700 bg-gray-100 px-3 py-1 rounded-md border border-gray-200",children:[n.length," slectionne(s)  ",V.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:n.length===k.echeances.filter(F=>F.montantRestant>0).length,onChange:F=>z(F.target.checked),className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-500"}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Tout slectionner"})]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-3",children:k.echeances.filter(F=>!O||F.modalite===1).map(F=>i.jsx("div",{className:`border rounded-md p-4 transition-all ${n.includes(F.echeanceId)?"border-gray-900 bg-gray-50":ie(F)}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[F.montantRestant>0&&i.jsx("input",{type:"checkbox",checked:n.includes(F.echeanceId),onChange:ee=>L(F.echeanceId,ee.target.checked),className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-500",disabled:O&&F.modalite!==1}),i.jsxs("div",{className:"flex items-center space-x-3",children:[J(F),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:["Modalit ",F.modalite," - ",F.label]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["chance : ",new Date(F.date).toLocaleDateString("fr-FR"),F.isEchue&&F.joursRetard>0&&i.jsxs("span",{className:"ml-2 text-red-600 font-medium",children:["(En retard de ",F.joursRetard," jour",F.joursRetard>1?"s":"",")"]})]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[F.montant.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Pay : ",F.montantPaye.toLocaleString("fr-FR")," FCFA"]}),F.montantRestant>0&&i.jsxs("div",{className:"text-sm font-medium text-red-600",children:["Reste : ",F.montantRestant.toLocaleString("fr-FR")," FCFA"]})]})]})},F.echeanceId))}),n.length>0&&i.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-md border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:["Rglement de ",n.length," chance",n.length>1?"s":""]}),i.jsxs("p",{className:"text-gray-700",children:["Montant total : ",V.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"text-sm text-gray-700",children:"Montant  rgler (FCFA)"}),i.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[i.jsx("input",{type:"number",value:d,onChange:F=>f(F.target.value),placeholder:String(V),className:"px-3 py-2 border border-gray-300 rounded-md w-40"}),i.jsx("button",{className:"px-3 py-2 bg-gray-100 rounded-md text-sm",onClick:()=>f(String(V)),children:"Utiliser le total"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pour les protgs, l'inscription doit tre rgle en totalit; la validation ct gestionnaire le vrifiera."})]})]}),i.jsxs("div",{className:"flex space-x-3 items-center",children:[O&&i.jsx("div",{className:"text-sm text-gray-600 mr-4",children:"Protg : seules les chances d'inscription sont payables."}),i.jsxs(ke,{variant:"primary",onClick:()=>R("Espces"),className:"flex items-center space-x-2",children:[" ",i.jsx("span",{children:"Espces"})]}),i.jsxs(ke,{variant:"primary",onClick:()=>R("Mobile Money"),className:"flex items-center space-x-2",children:[" ",i.jsx("span",{children:"Mobile"})]}),i.jsxs(ke,{variant:"secondary",onClick:()=>R("Chque"),className:"flex items-center space-x-2",children:[i.jsx(Sk,{className:"h-4 w-4"}),i.jsx("span",{children:"Chque"})]})]})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Historique des paiements"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[l.length>0&&i.jsxs("div",{className:"text-sm text-gray-700 bg-gray-100 px-3 py-1 rounded-md border border-gray-200",children:[l.length," slectionn",l.length>1?"s":""]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:l.length===I.length&&I.length>0,onChange:F=>Q(F.target.checked),className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-500"}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Tout slectionner"})]})]})]})}),i.jsxs("div",{className:"p-6",children:[I.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ik,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-500",children:"Aucun paiement enregistr"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Les paiements apparatront ici une fois effectus"})]}):i.jsx("div",{className:"space-y-3",children:I.map(F=>i.jsx("div",{className:`border rounded-md p-4 transition-all ${l.includes(F.id)?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[F.canceled?i.jsx("div",{className:"text-sm text-red-600 font-semibold",children:"Annul"}):i.jsx("input",{type:"checkbox",checked:l.includes(F.id),onChange:ee=>X(F.id,ee.target.checked),className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-500"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:[F.montant.toLocaleString("fr-FR")," FCFA"]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(F.datePaiement||F.createdAt).toLocaleDateString("fr-FR")," ",F.modePaiement||"Espces","  Reu : ",F.numeroRecu||"N/A"]}),F.notes&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.notes})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("button",{onClick:()=>Z(F),disabled:F.canceled,className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors font-medium ${F.canceled?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:[i.jsx(au,{className:"h-4 w-4"}),i.jsx("span",{children:"Reu"})]})})]})},F.id))}),l.length>0&&i.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-md border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:["Actions sur ",l.length," paiement",l.length>1?"s":""]}),i.jsxs("p",{className:"text-gray-700 text-sm mt-1",children:["Montant total : ",l.reduce((F,ee)=>{const _=I.find(B=>B.id===ee);return F+(_?.montant||0)},0).toLocaleString("fr-FR")," FCFA"]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:le,className:"flex items-center space-x-2 px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors font-medium",children:[i.jsx(up,{className:"h-4 w-4"}),i.jsx("span",{children:"Reu combin"})]}),i.jsx("button",{onClick:()=>{l.length!==0&&(C(""),y(!0))},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors font-medium",children:i.jsx("span",{children:"Annuler"})})]})]})})]})]}),m&&j&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx(fC,{eleve:{nom:e.nom,prenoms:e.prenoms,matricule:e.matricule,classe:E?`${E.niveau} ${E.section}`:""},montantRegle:j.montant,date:j.datePaiement||j.createdAt,mode:j.modePaiement||"Espces",cumulReglement:K.totalPaye,resteAPayer:K.totalRestant,anneeScolaire:E?.anneeScolaire||"",operateur:j.operateur||"ADMIN",numeroRecu:j.numeroRecu||"REC"+Date.now().toString().slice(-8)}),i.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Fermer"})})]})}),g&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx(mC,{eleve:e,paiements:I.filter(F=>l.includes(F.id)),classe:E,anneeScolaire:E?.anneeScolaire}),i.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Fermer"})})]})}),w&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-xl w-full mx-4",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Annuler ",l.length," paiement",l.length>1?"s":""]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Veuillez indiquer la raison de l'annulation. Cette note sera enregistre dans l'historique."}),i.jsx("textarea",{value:P,onChange:F=>C(F.target.value),rows:4,className:"w-full border border-gray-300 rounded p-2",placeholder:"Motif d'annulation (ex: erreur saisie, doublon, remboursement en attente)..."})]}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md",children:"Annuler"}),i.jsx("button",{onClick:async()=>{try{for(const F of l)try{kr.cancelPayment(F,P||void 0)}catch(ee){console.debug("cancel failed",ee)}r("Paiement(s) annul(s)","success"),c([]),y(!1),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(F){console.warn(F)}},600)}catch(F){console.error(F),r("Erreur lors de l'annulation","error")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Confirmer l'annulation"})]})]})})]}):i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center space-x-4 mb-6",children:i.jsxs(ke,{variant:"ghost",onClick:t,className:"flex items-center space-x-2",children:[i.jsx(xc,{className:"h-4 w-4"}),i.jsx("span",{children:"Retour"})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Aucune configuration de frais trouve pour cet lve"})})]})}const n9=()=>{const e=G.getAll("eleves"),t=G.getAll("paiements").filter(s=>!s.canceled),r=G.getAll("fraisScolaires"),n=G.getAll("classes");return{eleves:e,paiements:t,fraisScolaires:r,classes:n}},a9=()=>S.useMemo(()=>kr.getAlertesEcheances(),[]),i9=(e,t,r)=>S.useMemo(()=>e.map(n=>{const s=kr.getSituationEcheances(n.id),l=r.find(f=>f.id===n.classeId),c=t.filter(f=>f.eleveId===n.id);if(s){if(s.eleve&&s.eleve.protege){const m=(s.echeances||[]).filter(b=>b.modalite===1),h=m.reduce((b,w)=>b+(w.montant||0),0),g=m.reduce((b,w)=>b+(w.montantPaye||0),0),v=m.reduce((b,w)=>b+(w.montantRestant||0),0),j=uj({totalDu:h,totalPaye:g,totalRestant:v});return{eleve:n,classe:s.classe,totalDu:h,totalPaye:g,solde:v,statut:j,paiementsEleve:c,dernierPaiement:hh(c),situationEcheances:s}}const f=uj(s);return{eleve:n,classe:s.classe,totalDu:s.totalDu,totalPaye:s.totalPaye,solde:s.totalRestant,statut:f,paiementsEleve:c,dernierPaiement:hh(c),situationEcheances:s}}const d=c.reduce((f,m)=>f+(m.montant||0),0);return{eleve:n,classe:l,totalDu:0,totalPaye:d,solde:0,statut:"Pay",paiementsEleve:c,dernierPaiement:hh(c),situationEcheances:null}}),[e,t,r]),uj=e=>e.totalRestant<=0&&e.totalDu>0?"Pay":e.totalPaye>0&&e.totalRestant>0?"Partiel":"Impay",hh=e=>!e||e.length===0?null:e.sort((t,r)=>new Date(r.datePaiement||r.createdAt).getTime()-new Date(t.datePaiement||t.createdAt).getTime())[0],Bi=e=>new Intl.NumberFormat("fr-FR").format(e)+" FCFA",s9=e=>({Pay:"bg-green-100 text-green-800",Partiel:"bg-orange-100 text-orange-800",Impay:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800",o9=({alertes:e})=>{const[t,r]=S.useState(!1);return!e||e.echeancesEchues.length===0&&e.echeancesProches.length===0?null:i.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-yellow-900",children:"Alertes d'chances"}),i.jsx("button",{onClick:()=>r(!t),className:"text-yellow-700 hover:bg-yellow-100 px-3 py-1 rounded-md transition-colors text-sm",children:t?"Masquer":"Voir Dtails"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.echeancesEchues.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:[i.jsx("div",{className:"font-semibold text-red-900",children:"chances chues"}),i.jsxs("div",{className:"text-red-700",children:[e.echeancesEchues.length," lve(s) en retard"]})]}),e.echeancesProches.length>0&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3",children:[i.jsx("div",{className:"font-semibold text-orange-900",children:"chances Prochaines"}),i.jsxs("div",{className:"text-orange-700",children:[e.echeancesProches.length," chance(s) dans 7 jours"]})]})]}),t&&i.jsx("div",{className:"mt-4 space-y-3",children:e.echeancesEchues.slice(0,5).map(n=>i.jsxs("div",{className:"text-red-700",children:[n.eleve.prenoms," ",n.eleve.nom," - ",n.totalDu.toLocaleString("fr-FR")," FCFA"]},n.eleve.id))})]})},l9=({stats:e})=>i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:Bi(e.totalRecettes)}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Total Recettes"})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-green-600",children:e.elevesPayes}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Pays"})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-orange-600",children:e.elevesPartiels}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Partiels"})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-red-600",children:e.elevesImpayes}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Impays"})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 text-center",children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:Bi(e.totalSolde)}),i.jsx("div",{className:"text-gray-600 text-sm",children:"Reste  encaisser"})]})]}),c9=({searchTerm:e,filterClasse:t,filterStatut:r,classes:n,onSearchChange:s,onClasseChange:l,onStatutChange:c,onPrint:d,onPrintConvocations:f})=>i.jsx("div",{className:"bg-white p-4 rounded-md border border-gray-200 mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{value:e,onChange:m=>s(m.target.value),placeholder:"Rechercher un lve...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md"})]}),i.jsxs("select",{value:t,onChange:m=>l(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Toutes les classes"}),n.map(m=>i.jsxs("option",{value:m.id,children:[m.niveau," ",m.section]},m.id))]}),i.jsxs("select",{value:r,onChange:m=>c(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Tous les statuts"}),i.jsx("option",{value:"Pay",children:"Pay"}),i.jsx("option",{value:"Partiel",children:"Partiel"}),i.jsx("option",{value:"Impay",children:"Impay"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(ke,{variant:"ghost",onClick:d,children:[i.jsx(au,{className:"h-4 w-4"}),i.jsx("span",{children:"Imprimer Liste"})]}),typeof f=="function"&&i.jsxs(ke,{variant:"ghost",onClick:f,children:[i.jsx(Jr,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{children:"Convocations"})]})]})]})}),ph=({isOpen:e,onClose:t,children:r,maxWidth:n="2xl"})=>{if(!e)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl"};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl ${s[n]} w-full mx-4 max-h-[90vh] overflow-y-auto`,children:[r,i.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:i.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-100 rounded-lg",children:"Fermer"})})]})})};function u9(){const{showToast:e}=Lt(),[t,r]=S.useState(""),[n,s]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState({paymentForm:!1,recu:!1,combinedRecu:!1,convocation:!1,elevePaymentPage:!1}),[m,h]=S.useState(null),[g,v]=S.useState(null),{eleves:j,paiements:b,classes:w}=n9(),y=a9(),P=i9(j,b,w);S.useEffect(()=>{const R=()=>{};return window.addEventListener("dataChanged",R),()=>window.removeEventListener("dataChanged",R)},[]);const C=S.useCallback(R=>f(Z=>({...Z,[R]:!0})),[]),E=S.useCallback(R=>f(Z=>({...Z,[R]:!1})),[]),k=S.useMemo(()=>{let R=[...P];if(t){const Z=t.toLowerCase();R=R.filter(le=>le.eleve.nom.toLowerCase().includes(Z)||le.eleve.prenoms.toLowerCase().includes(Z)||le.eleve.matricule.toLowerCase().includes(Z))}return n&&(R=R.filter(Z=>Z.eleve.classeId===n)),l&&(R=R.filter(Z=>Z.statut===l)),R.sort((Z,le)=>Z.eleve.nom.localeCompare(le.eleve.nom))},[P,t,n,l]),O=S.useMemo(()=>({totalRecettes:b.reduce((R,Z)=>R+(Z.montant||0),0),elevesPayes:P.filter(R=>R.statut==="Pay").length,elevesPartiels:P.filter(R=>R.statut==="Partiel").length,elevesImpayes:P.filter(R=>R.statut==="Impay").length,totalSolde:P.reduce((R,Z)=>R+Z.solde,0)}),[b,P]),M=S.useCallback((R,Z,le,ie,J)=>{if(E("paymentForm"),J){v(J);const F=j.find(ee=>ee.id===R);F&&(h(F),C("recu"))}e("Paiement enregistr avec succs","success"),setTimeout(()=>window.dispatchEvent(new CustomEvent("dataChanged")),800)},[j,e,E,C]),I=S.useCallback(R=>{h(R),C("elevePaymentPage")},[C]),K=S.useCallback(()=>{E("elevePaymentPage"),h(null),setTimeout(()=>window.dispatchEvent(new CustomEvent("dataChanged")),100)},[E]),V=S.useCallback(R=>{const Z=P.find(le=>le.eleve.id===R.id);if(!Z||!Z.dernierPaiement){e("Aucun paiement trouv pour cet lve","error");return}h(R),v(Z.dernierPaiement),C("recu")},[P,e,C]),L=S.useCallback(R=>{const Z=P.find(le=>le.eleve.id===R.id);if(!Z||Z.paiementsEleve.length===0){e("Aucun paiement trouv pour cet lve","error");return}h(R),C("combinedRecu")},[P,e,C]),z=S.useCallback(R=>{try{if(cp(R.id).filter(ie=>ie.remaining>0).length===0){e("Aucune chance impaye pour cet lve","info");return}h(R),C("convocation")}catch(Z){console.error(Z),e("Erreur lors de la gnration de la convocation","error")}},[e,C]),X=S.useCallback(()=>{try{const R=kr.generateConvocations();if(!R||R.length===0){e("Aucune convocation  gnrer","info");return}const Z=document.getElementById("finances-print-area");if(!Z){e("Zone d'impression introuvable","error");return}const le=Eo("recu"),ie=G.getAll("ecole")[0]||{},J=ie&&ie.logo||le&&le.logo||"",F=R.map(ee=>{const _=ee.eleve,B=ee.classe||{},ge=(ee.echeancesEchues||[]).map(ce=>`${ce.modalite===1?"Inscription":`Versement ${ce.modalite}`}  ${Number(ce.montantRestant||0).toLocaleString("fr-FR")} FCFA  chance ${new Date(ce.date).toLocaleDateString("fr-FR")}`);return`
          <div class="convocation" style="margin-bottom:8mm;">
            <div style="font-family: 'Times New Roman', Times, serif; font-size:12px; color:#111827;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;">
                <div style="display:flex; align-items:center; gap:10px;">
                  ${J?`<img src="${J}" alt="logo" style="height:48px; width:auto; object-fit:contain;"/>`:'<div style="width:48px;height:48px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;color:#6b7280;font-size:11px;border-radius:6px">Logo</div>'}
                  <div>
                    <div style="font-weight:700; font-size:13px;">${ie.nom||le.header||"cole"}</div>
                    <div style="font-size:11px; color:#374151;">Anne: ${ee.anneeScolaire||""}</div>
                  </div>
                </div>
                <div style="text-align:right; font-size:11px; color:#374151;">Convocation de paiement<br/>Imprim le ${new Date().toLocaleDateString("fr-FR")}</div>
              </div>

              <div style="display:flex; justify-content:space-between; margin-bottom:8px;">
                <div>
                  <div style="font-weight:600">lve</div>
                  <div>${_.prenoms} ${_.nom}</div>
                  <div style="font-size:11px; color:#6b7280">Matricule: ${_.matricule||"-"}</div>
                </div>
                <div style="text-align:right">
                  <div style="font-weight:600">Classe</div>
                  <div>${B.niveau||"-"} ${B.section||""}</div>
                </div>
              </div>

              <div style="margin-bottom:6px; font-weight:600">Montant d: ${(ee.totalDu||0).toLocaleString("fr-FR")} FCFA</div>
              <div style="font-size:11px; color:#374151;">${ge.length?'<ul style="margin:0;padding-left:18px;">'+ge.map(ce=>`<li>${ce}</li>`).join("")+"</ul>":"<div>Aucune chance impaye.</div>"}</div>
              <div style="margin-top:8px; font-size:12px; color:#111827;">
                <strong>Important :</strong> Nous prions les parents ou responsables de se prsenter  l'administration afin de rgulariser la situation et effectuer le rglement dans les plus brefs dlais. Merci de votre comprhension.
              </div>
            </div>
          </div>
        `}).join(`
`);Z.classList.add("print-four-per-page"),Z.innerHTML=`<div class="convocations-wrapper">${F}</div>`,fa("finances-print-area","Convocations"),setTimeout(()=>{Z.classList.remove("print-four-per-page"),Z.innerHTML=""},800)}catch(R){console.error(R),e("Erreur lors de la gnration des convocations","error")}},[e]),Q=S.useCallback(()=>fa("finances-print-area","Situation financire"),[]);return d.elevePaymentPage&&m?i.jsx(r9,{eleve:m,onBack:K}):i.jsxs(ms,{title:"Gestion Financire",subtitle:"Suivi des paiements et situations financires",actions:i.jsx(ke,{variant:"primary",onClick:()=>C("paymentForm"),leftIcon:i.jsx(bn,{className:"h-5 w-5"}),children:"Paiement Rapide"}),children:[i.jsx(o9,{alertes:y}),i.jsx(l9,{stats:O}),i.jsx(c9,{searchTerm:t,filterClasse:n,filterStatut:l,classes:w,onSearchChange:r,onClasseChange:s,onStatutChange:c,onPrint:Q,onPrintConvocations:X}),i.jsx("div",{id:"finances-print-area",className:"hidden print:block bg-white p-4 mb-4 print-compact"}),i.jsxs("div",{className:"bg-white rounded-md border border-gray-200 overflow-hidden mt-4",children:[i.jsx("div",{className:"bg-gray-50 px-4 lg:px-6 py-3 lg:py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Situations Financires"}),i.jsxs("p",{className:"text-gray-600 text-sm lg:text-base",children:[k.length," lve(s) trouv(s)"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs lg:text-sm font-semibold text-gray-900",children:"lve"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left text-xs lg:text-sm font-semibold text-gray-900 hidden sm:table-cell",children:"Classe"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-right text-xs lg:text-sm font-semibold text-gray-900",children:"Total D"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-right text-xs lg:text-sm font-semibold text-gray-900",children:"Total Pay"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-right text-xs lg:text-sm font-semibold text-gray-900",children:"Reste"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center text-xs lg:text-sm font-semibold text-gray-900",children:"Statut"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center text-xs lg:text-sm font-semibold text-gray-900 hidden lg:table-cell",children:"Dernier Paiement"}),i.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center text-xs lg:text-sm font-semibold text-gray-900",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(R=>{const Z=!!R.eleve?.protege;let le=R.totalDu,ie=R.totalPaye,J=R.solde,F=R.statut;if(Z&&R.situationEcheances&&Array.isArray(R.situationEcheances.echeances)){const ee=R.situationEcheances.echeances.filter(ce=>ce.modalite===1),_=ee.reduce((ce,de)=>ce+(de.montant||0),0),B=ee.reduce((ce,de)=>ce+(de.montantPaye||0),0),ge=ee.reduce((ce,de)=>ce+(de.montantRestant||0),0);le=_,ie=B,J=ge,le>0&&(F=J<=0?"Pay":ie>0?"Partiel":"Impay")}return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[R.eleve.photo&&i.jsx("img",{src:R.eleve.photo,alt:`${R.eleve.prenoms} ${R.eleve.nom}`,className:"h-8 w-8 lg:h-10 lg:w-10 rounded-full object-cover border-2 border-gray-200"}),i.jsxs("div",{className:"cursor-pointer hover:text-teal-600 transition-colors",onClick:()=>I(R.eleve),title:"Cliquer pour ouvrir la page de paiement",children:[i.jsxs("div",{className:"text-xs lg:text-sm font-semibold text-gray-900",children:[R.eleve.prenoms," ",R.eleve.nom]}),i.jsx("div",{className:"text-xs text-gray-500 font-mono hidden sm:block",children:R.eleve.matricule}),i.jsx("div",{className:"text-xs text-gray-500 sm:hidden",children:R.classe?`${R.classe.niveau} ${R.classe.section}`:"Non assign"})]})]})}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-xs lg:text-sm text-gray-700 font-medium hidden sm:table-cell",children:R.classe?`${R.classe.niveau} ${R.classe.section}`:"Non assign"}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-xs lg:text-sm text-gray-900 text-right font-bold",children:Bi(le)}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-xs lg:text-sm text-green-700 text-right font-bold",children:Bi(ie)}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-xs lg:text-sm text-right font-bold",children:i.jsx("span",{className:J>0?"text-red-600":"text-green-600",children:Bi(J)})}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-center",children:i.jsx("span",{className:`px-2 lg:px-3 py-1 rounded-full text-xs font-semibold ${s9(F)}`,children:F})}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4 text-center text-xs lg:text-sm text-gray-600 hidden lg:table-cell",children:R.dernierPaiement?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Bi(R.dernierPaiement.montant)}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(R.dernierPaiement.datePaiement||R.dernierPaiement.createdAt).toLocaleDateString("fr-FR")})]}):i.jsx("span",{className:"text-gray-400",children:"Aucun"})}),i.jsx("td",{className:"px-2 lg:px-4 py-3 lg:py-4",children:i.jsxs("div",{className:"flex items-center justify-center space-x-1 lg:space-x-2",children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>I(R.eleve),title:"Ouvrir page de paiement",children:i.jsx(bn,{className:"h-3 w-3 lg:h-4 lg:w-4"})}),R.paiementsEleve.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>V(R.eleve),title:"Imprimer dernier reu",children:i.jsx(au,{className:"h-3 w-3 lg:h-4 lg:w-4"})}),i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>L(R.eleve),title:"Reu combin",className:"hidden sm:inline-flex",children:i.jsx(up,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),R.solde>0&&i.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>z(R.eleve),title:"Convocation de paiement",children:i.jsx(Jr,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]})})]},R.eleve.id)})})]})}),k.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(sa,{className:"h-12 w-12 lg:h-16 lg:w-16 text-gray-300 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 text-base lg:text-lg",children:"Aucune situation financire trouve"}),i.jsx("p",{className:"text-gray-400 text-xs lg:text-sm mt-2",children:"Ajustez vos filtres ou ajoutez des lves"})]})]}),d.paymentForm&&i.jsx(e9,{onSubmit:M,onCancel:()=>E("paymentForm")}),i.jsx(ph,{isOpen:d.recu,onClose:()=>E("recu"),maxWidth:"2xl",children:m&&g&&i.jsx(fC,{eleve:{nom:m.nom,prenoms:m.prenoms,matricule:m.matricule,classe:w.find(R=>R.id===m.classeId)?.niveau+" "+w.find(R=>R.id===m.classeId)?.section||""},montantRegle:g.montant,date:g.datePaiement||g.createdAt,mode:g.modePaiement||"Espces",cumulReglement:P.find(R=>R.eleve.id===m.id)?.totalPaye||0,resteAPayer:P.find(R=>R.eleve.id===m.id)?.solde||0,anneeScolaire:w.find(R=>R.id===m.classeId)?.anneeScolaire||"",operateur:g.operateur||"ADMIN",numeroRecu:g.numeroRecu||"REC"+Date.now().toString().slice(-8)})}),i.jsx(ph,{isOpen:d.combinedRecu,onClose:()=>E("combinedRecu"),maxWidth:"4xl",children:m&&i.jsx(mC,{eleve:m,paiements:P.find(R=>R.eleve.id===m.id)?.paiementsEleve||[],classe:w.find(R=>R.id===m.classeId),anneeScolaire:w.find(R=>R.id===m.classeId)?.anneeScolaire})}),i.jsx(ph,{isOpen:d.convocation,onClose:()=>E("convocation"),maxWidth:"4xl",children:m&&(()=>{try{const Z=cp(m.id).filter(ie=>ie.remaining>0).map(ie=>({modalite:ie.modalite||1,date:ie.dueDate||ie.date||"",attendu:ie.montant||0,paye:(ie.montant||0)-(ie.remaining||0),reste:ie.remaining||0})),le=Z.reduce((ie,J)=>ie+J.reste,0);return i.jsx(t9,{eleve:m,echeances:Z,totalDue:le,classe:w.find(ie=>ie.id===m.classeId),anneeScolaire:w.find(ie=>ie.id===m.classeId)?.anneeScolaire})}catch{return i.jsx("div",{className:"p-8 text-center",children:i.jsx("p",{className:"text-red-600",children:"Erreur lors de la gnration de la convocation"})})}})()})]})}const Di=[{title:"Bienvenue sur KlasNet !",description:`Bienvenue dans votre application de gestion scolaire KlasNet. Ce guide va vous accompagner pas  pas pour dcouvrir chaque fonctionnalit. Prenez le temps de lire chaque tape, puis cliquez sur 'Suivant'.

Note : Vous pouvez relancer ce guide  tout moment en cliquant sur le bouton 'Guide' en haut  droite.`,icon:i.jsx(Ok,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Tableau de bord",description:`Le tableau de bord est la page d'accueil. Il affiche en temps rel :
- Le nombre total d'lves et d'lves actifs
- Les recettes totales et celles du mois
- Les paiements complts et en attente
- Des graphiques pour visualiser l'volution des finances

En bas, retrouvez les 'Actions Rapides' pour accder directement aux fonctions principales.

Exemple : Cliquez sur 'Nouvel lve' pour inscrire un nouvel lve en un seul clic.`,icon:i.jsx(xh,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Gestion des lves",description:`Dans le menu 'lves', vous pouvez :
- Voir la liste de tous les lves
- Ajouter un nouvel lve (bouton 'Nouvel lve')
- Modifier ou supprimer un lve existant

Note : Utilisez la barre de recherche pour retrouver rapidement un lve par nom, prnom ou matricule.

Exemple : Pour inscrire un nouvel lve, cliquez sur 'Nouvel lve', remplissez le formulaire puis validez.`,icon:i.jsx(Qa,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Finances et paiements",description:`Dans la section 'Finances', vous pouvez :
- Enregistrer un paiement pour un lve
- Consulter l'historique des paiements
- Voir la situation financire de chaque lve (solde, montant d, etc.)

Exemple : Pour enregistrer un paiement, cliquez sur 'Nouveau Paiement', slectionnez l'lve concern et saisissez le montant.`,icon:i.jsx(sa,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Saisie des notes",description:`Dans la section 'Notes', vous pouvez :
- Saisir les notes des lves pour chaque matire et priode
- Consulter les moyennes et les rsultats

Note : Saisissez rgulirement les notes pour suivre la progression des lves et gnrer les bulletins facilement.`,icon:i.jsx(ia,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Configuration",description:`Dans 'Configuration', personnalisez votre application :
- Dfinissez l'anne scolaire active
- Ajoutez ou modifiez les frais scolaires
- Grez les compositions et les paramtres de l'cole

Exemple : Pour changer d'anne scolaire, saisissez la nouvelle anne puis cliquez sur 'Changer'.

Note : Vrifiez toujours que l'anne scolaire active est correcte avant de saisir de nouvelles donnes.`,icon:i.jsx(xj,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Recherche rapide",description:`La barre de recherche (en haut de chaque page) vous permet de retrouver rapidement :
- Un lve
- Une classe
- Un enseignant
- Une opration financire

Tapez simplement un mot-cl (nom, prnom, etc.) et les rsultats s'affichent instantanment.`,icon:i.jsx(ts,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Historique et alertes",description:`KlasNet vous informe en temps rel :
- Alertes sur les paiements en retard
- Notifications pour les actions  effectuer (ex : lves sans notes)
- Historique des modifications (ajout, suppression, paiement, etc.)

Note : Consultez rgulirement l'historique pour suivre l'activit de l'cole et anticiper les besoins.`,icon:i.jsx(Jr,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Import/Export Excel",description:`Gagnez du temps grce  l'importation et l'exportation des listes d'lves au format Excel.

- Importez facilement une liste d'lves depuis un fichier Excel.
- Prvisualisez les donnes avant de valider l'importation.
- Slectionnez la classe d'affectation et vrifiez les colonnes importantes (Matricule, Nom, Prnoms).
- Exportez la liste actuelle pour la partager ou l'archiver.

Note : Vrifiez toujours l'aperu avant de valider pour viter les erreurs de saisie.`,icon:i.jsx(Co,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})},{title:"Prt  commencer",description:`Vous tes prt  utiliser KlasNet.

N'hsitez pas  explorer chaque menu,  utiliser la recherche et  consulter ce guide en cas de besoin.

Bonne gestion avec KlasNet.`,icon:i.jsx(Qr,{className:"h-8 w-8 text-gray-600 mx-auto mb-3"})}];function d9({onClose:e}){const[t,r]=S.useState(0);S.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const n=s=>{r(s)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 max-w-lg w-full mx-4 relative",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Guide d'utilisation"}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:e,children:i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"flex items-center mt-4 space-x-1",children:Di.map((s,l)=>i.jsx("button",{className:`flex-1 h-2 rounded-full transition-all duration-300 ${l<=t?"bg-gray-900":"bg-gray-200"}`,onClick:()=>n(l),"aria-label":`Aller  l'tape ${l+1}`},l))})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[Di[t].icon,i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:Di[t].title})]}),i.jsx("div",{className:"text-gray-700 text-sm leading-relaxed whitespace-pre-line mb-8 min-h-[120px]",children:Di[t].description})]}),i.jsx("div",{className:"p-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",onClick:()=>r(s=>Math.max(0,s-1)),disabled:t===0,children:[i.jsx(xc,{className:"h-4 w-4"}),i.jsx("span",{children:"Prcdent"})]}),i.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[t+1," / ",Di.length]}),t<Di.length-1?i.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",onClick:()=>r(s=>s+1),children:[i.jsx("span",{children:"Suivant"}),i.jsx(jk,{className:"h-4 w-4"})]}):i.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",onClick:e,children:[i.jsx(Qr,{className:"h-4 w-4"}),i.jsx("span",{children:"Terminer"})]})]})})]})})}function f9({user:e}){const[t,r]=S.useState(e?.avatar||null),[n,s]=S.useState(!1),[l,c]=S.useState(!1),[d,f]=S.useState(e?.prenoms||""),[m,h]=S.useState(e?.nom||""),[g,v]=S.useState(e?.role||"");if(!e)return i.jsx("div",{className:"p-6",children:"Aucun utilisateur connect."});const j=async y=>{const P=y.target.files?.[0];if(!P)return;const C=new FileReader;C.onload=()=>r(String(C.result)),C.readAsDataURL(P)},b=async()=>{if(!(!e?.id||!t)){s(!0);try{G.update("utilisateurs",e.id,{avatar:t})}finally{s(!1);try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(y){console.warn("dataChanged dispatch failed",y)}}}},w=async()=>{if(e?.id){s(!0);try{G.update("utilisateurs",e.id,{prenoms:d,nom:m,role:g})}finally{s(!1),c(!1);try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(y){console.warn("dataChanged dispatch failed",y)}}}};return i.jsxs("div",{className:"p-6 max-w-2xl mx-auto bg-white rounded-lg shadow",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Profil utilisateur"}),i.jsxs("div",{className:"flex items-start space-x-6",children:[i.jsxs("div",{className:"w-36",children:[i.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-100 overflow-hidden shadow",children:t?i.jsx("img",{src:t,alt:"avatar",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"A"})}),i.jsx("div",{className:"mt-2",children:i.jsx("input",{type:"file",accept:"image/*",onChange:j})}),t&&i.jsx("div",{className:"mt-2",children:i.jsx("button",{onClick:b,disabled:n,className:"px-3 py-1 bg-teal-600 text-white rounded",children:n?"Enregistrement...":"Enregistrer avatar"})})]}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"space-y-2",children:l?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Prnoms"}),i.jsx("input",{value:d,onChange:y=>f(y.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Nom"}),i.jsx("input",{value:m,onChange:y=>h(y.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Rle"}),i.jsx("input",{value:g,onChange:y=>v(y.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:w,disabled:n,className:"px-3 py-1 bg-teal-600 text-white rounded",children:"Enregistrer"}),i.jsx("button",{onClick:()=>c(!1),className:"px-3 py-1 border rounded",children:"Annuler"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Nom"}),i.jsxs("div",{className:"font-semibold",children:[e.prenoms," ",i.jsx("strong",{children:e.nom?.toUpperCase()})]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Rle"}),i.jsx("div",{className:"text-sm",children:e.role})]}),i.jsx("div",{className:"mt-3",children:i.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1 bg-slate-600 text-white rounded",children:"Modifier le profil"})})]})})})]})]})}function m9(){const e=Wa.getCurrentUser(),[t,r]=S.useState(""),[n,s]=S.useState(""),[l,c]=S.useState(""),[d,f]=S.useState(null),[m,h]=S.useState(""),[g,v]=S.useState(""),[j,b]=S.useState(!1),[w,y]=S.useState(!1),P=C=>{if(C.preventDefault(),!e)return f("Aucun utilisateur connect.");if(!n||n!==l)return f("Les nouveaux mots de passe ne correspondent pas.");const E=Wa.changePassword(e.nomUtilisateur,n,t||void 0);f(E?"Mot de passe mis  jour.":"L'ancien mot de passe est incorrect ou erreur lors de la mise  jour."),E&&(r(""),s(""),c(""))};return i.jsxs("div",{className:"p-6 max-w-2xl mx-auto bg-white rounded-lg shadow",children:[i.jsx("h2",{className:"text-lg font-bold mb-4",children:"Paramtres du compte"}),i.jsxs("form",{onSubmit:P,className:"space-y-4 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Nom d'utilisateur"}),i.jsx("div",{className:"font-semibold",children:e?.nomUtilisateur||""})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Ancien mot de passe"}),i.jsx("input",{type:"password",value:t,onChange:C=>r(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Nouveau mot de passe"}),i.jsx("input",{type:"password",value:n,onChange:C=>s(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Confirmer nouveau mot de passe"}),i.jsx("input",{type:"password",value:l,onChange:C=>c(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",className:"px-3 py-1 bg-teal-600 text-white rounded",children:"Enregistrer"})}),d&&i.jsx("div",{className:"text-sm text-gray-600",children:d})]}),i.jsxs("div",{className:"mt-6 p-4 border-t pt-4",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Changer le nom d'utilisateur"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Nouveau nom d'utilisateur"}),i.jsx("input",{value:m,onChange:C=>h(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500",children:"Mot de passe (vrification)"}),i.jsx("input",{type:"password",value:g,onChange:C=>v(C.target.value),className:"mt-1 block w-full border rounded px-2 py-1"})]}),i.jsx("div",{children:i.jsx("button",{onClick:()=>{if(!e)return f("Aucun utilisateur connect.");if(!m)return f("Entrez un nouveau nom d'utilisateur.");if(!/^[a-z0-9_.-]{3,30}$/i.test(m))return f("Nom utilisateur invalide  utilisez 3  30 caractres (lettres, chiffres, _, . ou -).");b(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Renommer le compte"})})]})]}),j&&i.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-6 rounded shadow max-w-md w-full",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"Confirmer le renommage"}),i.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:["Vous allez changer le nom d'utilisateur de ",i.jsx("strong",{children:e?.nomUtilisateur})," en ",i.jsx("strong",{children:m}),". Continuer ?"]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>b(!1),className:"px-3 py-1 border rounded",children:"Annuler"}),i.jsx("button",{disabled:w,onClick:async()=>{if(!e)return f("Aucun utilisateur connect.");y(!0);try{const C=Wa.changeUsername(e.nomUtilisateur,m,g||void 0);f(C?"Nom d'utilisateur mis  jour. L'application va se recharger.":"chec : nom existant ou mot de passe incorrect."),b(!1),C&&setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(E){console.warn(E)}},700)}finally{y(!1)}},className:"px-3 py-1 bg-red-600 text-white rounded",children:"Confirmer"})]})]})})]})}function h9(){if(G.getAll("matieres").length>0)return;const e=new Date().toISOString(),t=new Date().getFullYear()+"-"+(new Date().getFullYear()+1),r=[{nom:"Mathmatiques",abreviation:"MATH",coefficient:4,type:"Fondamentale",baremeParNiveau:{CE1:{min:0,max:50},CE2:{min:0,max:50},CM1:{min:0,max:50},CM2:{min:0,max:50},CP1:{min:0,max:20},CP2:{min:0,max:20}}},{nom:"veil au Milieu",abreviation:"AEM",coefficient:4,type:"veil",baremeParNiveau:{CE1:{min:0,max:50},CE2:{min:0,max:50},CM1:{min:0,max:50},CM2:{min:0,max:50},CP1:{min:0,max:20},CP2:{min:0,max:20}}},{nom:"Exploitation de Texte",abreviation:"EXP TEXTE",coefficient:4,type:"Fondamentale",baremeParNiveau:{CE1:{min:0,max:50},CE2:{min:0,max:50},CM1:{min:0,max:50},CM2:{min:0,max:50},CP1:{min:0,max:20},CP2:{min:0,max:20}}},{nom:"Orthographe",abreviation:"ORTH",coefficient:2,type:"Fondamentale",baremeParNiveau:{CE1:{min:0,max:20},CE2:{min:0,max:20},CM1:{min:0,max:20},CM2:{min:0,max:20},CP1:{min:0,max:20},CP2:{min:0,max:20}}}],n=[{nom:"veil Scientifique",abreviation:"SCIENCES",coefficient:2,type:"veil",baremeParNiveau:{CP1:{min:0,max:20},CP2:{min:0,max:20},CE1:{min:0,max:20},CE2:{min:0,max:20},CM1:{min:0,max:20},CM2:{min:0,max:20}}}],s=[{nom:"ducation Artistique",abreviation:"ARTS",coefficient:1,type:"Expression",baremeParNiveau:{CP1:{min:0,max:20},CP2:{min:0,max:20},CE1:{min:0,max:20},CE2:{min:0,max:20},CM1:{min:0,max:20},CM2:{min:0,max:20}}},{nom:"ducation Physique",abreviation:"EPS",coefficient:1,type:"Expression",baremeParNiveau:{CP1:{min:0,max:20},CP2:{min:0,max:20},CE1:{min:0,max:20},CE2:{min:0,max:20},CM1:{min:0,max:20},CM2:{min:0,max:20}}}],l=[...r,...n,...s],c=[];l.forEach(g=>{const v=G.create("matieres",{...g,obligatoire:g.type==="Fondamentale",classeIds:[],createdAt:e,updatedAt:e});c.push(v)}),[{nom:"1re Composition",coefficient:1,ordre:1},{nom:"2me Composition",coefficient:1,ordre:2},{nom:"3me Composition",coefficient:1,ordre:3},{nom:"Composition de fin d'anne",coefficient:2,ordre:4}].forEach(g=>{G.create("compositions",g)}),["Petite Section","Moyenne Section","Grande Section","CP1","CP2","CE1","CE2","CM1","CM2"].forEach(g=>{["A","B"].forEach(v=>{if(["Petite Section","Moyenne Section","Grande Section"].includes(g)&&v==="B")return;const j=G.create("classes",{niveau:g,section:v,anneeScolaire:t,enseignantPrincipal:"",effectifMax:35,salle:`Salle ${g} ${v}`,matieres:c.filter(b=>g.includes("Section")?["Fondamentale","Expression"].includes(b.type):!0)});c.forEach(b=>{j.matieres.some(w=>w.id===b.id)&&G.update("matieres",b.id,{classeIds:[...b.classeIds||[],j.id]})})})}),[{nom:"KOUASSI",prenoms:"Marie",sexe:"F",telephone:"+225 07 XX XX XX XX",adresse:"Abidjan, Cocody",specialite:"Institutrice",diplome:"CEAP",dateEmbauche:"2020-09-01",statut:"Actif",salaire:15e4,photo:"",classesPrincipales:[],matieresEnseignees:[]},{nom:"TRAORE",prenoms:"Amadou",sexe:"M",telephone:"+225 05 XX XX XX XX",adresse:"Abidjan, Yopougon",specialite:"Professeur des coles",diplome:"Licence Pdagogie",dateEmbauche:"2019-09-01",statut:"Actif",salaire:18e4,photo:"",classesPrincipales:[],matieresEnseignees:[]}].forEach(g=>{G.create("enseignants",g)});const h=G.getAll("ecole")[0];if(h){const g=G.getAll("compositions");G.update("ecole",h.id,{compositions:g})}console.log("Donnes par dfaut initialises avec succs")}function p9(){const[e,t]=S.useState(()=>Wa.getCurrentUser()),[r,n]=S.useState("dashboard"),[s,l]=S.useState(null),[c,d]=S.useState(!1),[f,m]=S.useState(!1);gh.useEffect(()=>{if(e)try{h9(),dC()}catch(C){console.error("Erreur lors de l'initialisation des donnes par dfaut:",C)}},[e]),gh.useEffect(()=>{const C=E=>{const{page:k,action:O}=E.detail;n(k),O==="new"&&(l(null),d(!0))};return window.addEventListener("navigate",C),()=>window.removeEventListener("navigate",C)},[]);const h=C=>{t(C)},g=()=>{Wa.logout(),t(null),n("dashboard")},v=C=>{n(C),l(null),d(!1)},j=C=>{l(C),d(!0)},b=()=>{l(null),d(!0)},w=()=>{d(!1),l(null);try{window.dispatchEvent(new CustomEvent("dataChanged"))}catch(C){console.warn("Could not dispatch dataChanged event",C)}},y=()=>{d(!1),l(null)};if(!e)return i.jsx(Jx,{children:i.jsx(Uk,{onLogin:h})});const P=()=>{if(c)switch(r){case"eleves":return i.jsx(I7,{eleve:s,onSave:w,onCancel:y});case"enseignants":return i.jsx(R7,{enseignant:s,onSave:w,onCancel:y});case"classes":return i.jsx($7,{classe:s,onSave:w,onCancel:y});case"matieres":return i.jsx(z7,{matiere:s,onSave:w,onCancel:y});default:return i.jsx(mh,{})}switch(r){case"dashboard":return i.jsx(mh,{});case"profil":return i.jsx(f9,{user:e});case"parametres":return i.jsx(m9,{});case"finances":return i.jsx(u9,{});case"eleves":return i.jsx(_7,{onEleveSelect:j,onNewEleve:b});case"enseignants":return i.jsx(D7,{onEnseignantSelect:j,onNewEnseignant:b});case"classes":return i.jsx(L7,{onClasseSelect:j,onNewClasse:b});case"matieres":return i.jsx(F7,{onMatiereSelect:j,onNewMatiere:b});case"notes":return i.jsx(B7,{});case"config":return i.jsx(J7,{});default:return i.jsx(mh,{})}};return i.jsx(Jx,{children:i.jsx(Bk,{children:i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(qk,{currentUser:e,onLogout:g,onNavigate:v,currentPage:r,onShowGuide:()=>m(!0)}),i.jsx("main",{children:P()}),f&&i.jsx(d9,{onClose:()=>m(!1)})]})})})}yk.createRoot(document.getElementById("root")).render(i.jsx(S.StrictMode,{children:i.jsx(p9,{})}));export{g9 as c,Pn as g};
